(this.webpackJsonpadmintry=this.webpackJsonpadmintry||[]).push([[0],{1093:function(e,t,a){},1535:function(e,t,a){},1536:function(e,t,a){},1537:function(e,t,a){},1538:function(e,t,a){},1539:function(e,t,a){},1632:function(e,t){},1656:function(e,t){},1694:function(e,t){},1727:function(e,t,a){},1734:function(e,t,a){},1735:function(e,t,a){},1736:function(e,t,a){},1738:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(35),s=a.n(c),i=(a(1093),a(48)),o=a(816),l=a(774),u=a(987),d=a(985),j=a(14),b=a(111),f=a(60),O=a(550),h=a(814),x=a(815),p=a(147),m=a(328),g=a(799),v=a(801),y=a(517),k=a(125),C=a(802),w=a(34),S=(a(994),a(2)),M=(Object(w.a)({link:{textDecoration:"none"},icon:{width:"0.5em",paddingLeft:2}}),a(413)),D=a(338),N=a.n(D),P=function(e){return Object(S.jsx)(O.a,Object(f.a)({rowsPerPageOptions:[50,100,200]},e))},Y=function(e){var t=Object(M.a)((function(e){return e.breakpoints.down("sm")}));return Object(S.jsx)(h.a,Object(f.a)(Object(f.a)({perPage:50},e),{},{pagination:Object(S.jsx)(P,{}),children:t?Object(S.jsx)(x.a,{primaryText:function(e){return e.name},secondaryText:function(e){return e.email},tertiaryText:function(e){return e.phone}}):Object(S.jsxs)(N.a,{children:[Object(S.jsx)(p.a,{source:"name"}),Object(S.jsx)(m.a,{source:"email"}),Object(S.jsx)(p.a,{source:"phone"}),Object(S.jsx)(p.a,{source:"instagram"}),Object(S.jsx)(g.a,{})]})}))},F=function(e){var t=e.record;return Object(S.jsxs)("span",{children:["Client ",t?'"'.concat(t.name,'"'):""]})},T=function(e){return Object(S.jsx)(v.a,Object(f.a)(Object(f.a)({},e),{},{children:Object(S.jsxs)(y.a,{children:[Object(S.jsx)(k.a,{source:"name",label:"Name"}),Object(S.jsx)(k.a,{source:"phone",label:"Phone"}),Object(S.jsx)(k.a,{source:"email",label:"Email"}),Object(S.jsx)(k.a,{source:"instagram",label:"Instagram"})]})}))},E=function(e){return Object(S.jsx)(C.a,Object(f.a)(Object(f.a)({title:Object(S.jsx)(F,{})},e),{},{children:Object(S.jsxs)(y.a,{children:[Object(S.jsx)(k.a,{source:"name",label:"Name"}),Object(S.jsx)(k.a,{source:"phone",label:"Phone"}),Object(S.jsx)(k.a,{source:"email",label:"Email"}),Object(S.jsx)(k.a,{source:"instagram",label:"Instagram"})]})}))},I=a(243),B=a(811),_=a(522),A=a(399),L=a(982),W=a(812),V=a(813),U=a(330),Q=a(806),R=a(326),z=a(327),q=a(986),G=a(805),H=a(807),J=a(553),K=a(520),X=a(8),Z=a(733),$=a(734),ee=a(731),te=a.n(ee),ae=a(717),ne=a.n(ae),re=a(19),ce=a.n(re),se=a(64),ie=a(98),oe=a(570),le=a(693),ue=a(58),de=a(509),je=a(201),be=a.n(je),fe=a(795),Oe=a(796),he=a(797),xe=a(798),pe=a(1741),me=a(104),ge=a.n(me),ve=a(730),ye=a(588),ke=a.n(ye),Ce=(a(1739),a(239)),we={apiKey:"AIzaSyAUqOhdFbfRiCRqSzxKpYeTppBGsHfAAug",authDomain:"admin-a4a00.firebaseapp.com",databaseURL:"https://admin-a4a00-default-rtdb.firebaseio.com",projectId:"admin-a4a00",storageBucket:"admin-a4a00.appspot.com",messagingSenderId:"328849622350",appId:"1:328849622350:web:cf2cd21a20f108e7aeca1f",measurementId:"G-YKBC2Q28P1"};ke.a.initializeApp(we);var Se=ke.a.messaging(),Me=Object(ve.FirebaseDataProvider)(we,{}),De=Object(ve.FirebaseAuthProvider)(we),Ne=function(){var e=Object(se.a)(ce.a.mark((function e(){var t;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,De.checkAuth();case 2:return t=e.sent,e.abrupt("return",t.ya);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Pe=function(){var e=Object(se.a)(ce.a.mark((function e(t){var a;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Me.getList(t,{pagination:{page:1,perPage:1e4}});case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ye=function(){var e=Object(se.a)(ce.a.mark((function e(){var t,n,r,c;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a(435),e.next=3,Ne();case 3:return n=e.sent,r=JSON.stringify({token:n}),c={method:"post",url:"https://australia-southeast1-admin-a4a00.cloudfunctions.net/getToken",headers:{Authorization:"Basic MkMzRDBFMkMtODQ3Qi00OEI4LUI1NTItOENCQTlDQkEzREQ4OjgwOEFGMDlBLTBFODgtNDU3Mi04QzJGLUUwOEIwOEE4N0RFMQ==","Content-Type":"application/json"},data:r},e.abrupt("return",t(c).then((function(e){return e.data})).catch((function(e){console.log(e)})));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Fe=a(435),Te=a(835),Ee=function(e){var t=e.selectedIds,a=Object(w.a)((function(e){return{root:{"& .MuiTextField-root":{margin:e.spacing(1),width:"25ch"}}}})),r=Object(n.useState)(!1),c=Object(i.a)(r,2),s=c[0],o=c[1],l=Object(ie.a)(),u=Object(oe.a)(),d=Object(le.a)(),j=(d.identity,d.loading,a(),n.useState()),b=Object(i.a)(j,2),f=b[0],O=b[1],h=n.useState(),x=Object(i.a)(h,2),p=x[0],m=x[1],g=Object(n.useState)(!1),v=Object(i.a)(g,2),y=v[0],k=v[1],C=function(){o(!1)},M=function(){var e=Object(se.a)(ce.a.mark((function e(){var a,n;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return k(!0),e.next=3,Ne();case 3:a=e.sent,n=Te.stringify([a,t,"dogs",f,p]),Fe({method:"post",url:"https://7a314e3ed3bb.ngrok.io",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:n}).then((function(e){k(!1),o(!1),l("Messages sent"),u("dogs"),O(null),m(null)})).catch((function(e){k(!1),l("Error: Could not reach server","warning")}));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(S.jsxs)(n.Fragment,{children:[Object(S.jsx)(ue.a,{label:"Text clients",onClick:function(){return o(!0)}}),Object(S.jsxs)(fe.a,{open:s,onClose:C,children:[Object(S.jsx)(Oe.a,{children:"Message Owners"}),Object(S.jsxs)(he.a,{children:[Object(S.jsx)(pe.a,{name:"Topic",fullWidth:!0,placeholder:"Topic",defaultValue:f&&f,onChange:function(e){O(e.target.value)}}),Object(S.jsx)(pe.a,{name:"Message",multiline:!0,fullWidth:!0,placeholder:"Message",defaultValue:p&&p,onChange:function(e){m(e.target.value)}})]}),!1===y&&Object(S.jsxs)(xe.a,{children:[Object(S.jsx)(ue.a,{label:"Cancel",onClick:C,children:Object(S.jsx)(be.a,{})}),Object(S.jsx)(ue.a,{label:"Send",onClick:M,children:Object(S.jsx)(ge.a,{})})]})]}),Object(S.jsx)(de.a,{})]})},Ie=function(e){return Object(S.jsx)(O.a,Object(f.a)({rowsPerPageOptions:[50,100,200]},e))},Be=function(){return Object(S.jsxs)(L.a,{label:"Sex",icon:Object(S.jsx)(ne.a,{}),children:[Object(S.jsx)(W.a,{label:"Male",value:{sex:"M"}}),Object(S.jsx)(W.a,{label:"Female",value:{sex:"F"}}),Object(S.jsx)(W.a,{label:"Desexed",value:{desexed:!0}})]})},_e=Object(X.a)((function(e){var t;return{root:(t={},Object(I.a)(t,e.breakpoints.up("sm"),{order:-1,width:"15em",marginRight:"1em"}),Object(I.a)(t,e.breakpoints.down("sm"),{display:"none"}),t)}}))(Z.a),Ae=function(){return Object(S.jsx)(_e,{children:Object(S.jsxs)($.a,{children:[Object(S.jsx)(V.a,{source:"dog_name"}),Object(S.jsx)(Be,{})]})})},Le=function(e){var t=Object(M.a)((function(e){return e.breakpoints.down("sm")}));return Object(S.jsx)(h.a,Object(f.a)(Object(f.a)({aside:Object(S.jsx)(Ae,{}),perPage:50,pagination:Object(S.jsx)(Ie,{}),bulkActionButtons:Object(S.jsx)(Ee,{})},e),{},{children:t?Object(S.jsx)(x.a,{primaryText:function(e){return e.dog_name},secondaryText:function(e){return e.Client}}):Object(S.jsxs)(N.a,{children:[Object(S.jsx)(p.a,{source:"dog_name",label:"Dog Name"}),Object(S.jsx)(U.a,{label:"Client",source:"owner",reference:"clients",children:Object(S.jsx)(p.a,{source:"name"})}),Object(S.jsx)(U.a,{label:"Breed",source:"breed",reference:"dog_breeds",children:Object(S.jsx)(p.a,{source:"name"})}),Object(S.jsx)(Q.a,{source:"sex",choices:[{id:"M",name:"Male"},{id:"F",name:"Female"}]}),Object(S.jsx)(R.a,{source:"desexed",label:"Desexed"}),Object(S.jsx)(m.a,{source:"vet_email",label:"Vet Email"}),Object(S.jsx)(p.a,{source:"vet",label:"Vet"}),Object(S.jsx)(z.a,{source:"kc_due",label:"KC Due"}),Object(S.jsx)(z.a,{source:"c3_due",label:"C3 Due"}),Object(S.jsx)(z.a,{source:"c5_due",label:"C5 Due"}),Object(S.jsx)(g.a,{})]})}))},We=function(e){var t=e.record;return Object(S.jsxs)("span",{children:["Dog ",t?'"'.concat(t.dog_name,'"'):""]})},Ve=function(e){return Object(S.jsx)(C.a,Object(f.a)(Object(f.a)({title:Object(S.jsx)(We,{})},e),{},{children:Object(S.jsxs)(q.a,{children:[Object(S.jsxs)(G.a,{label:"Dog Details",children:[Object(S.jsx)(k.a,{source:"dog_name",label:"Dog Name"}),Object(S.jsx)(_.a,{filterToQuery:function(e){return{name:e}},source:"owner",reference:"clients",children:Object(S.jsx)(H.a,{optionText:"name"})}),Object(S.jsx)(_.a,{filterToQuery:function(e){return{name:e}},source:"breed",reference:"dog_breeds",children:Object(S.jsx)(H.a,{optionValue:"id",optionText:"name"})}),Object(S.jsx)(A.a,{source:"sex",choices:[{id:"M",name:"Male"},{id:"F",name:"Female"}],label:"Sex"}),Object(S.jsx)(J.a,{source:"desexed",options:{checkedIcon:Object(S.jsx)(te.a,{})}})]}),Object(S.jsxs)(G.a,{label:"Medical Details",children:[Object(S.jsx)(k.a,{source:"vet",label:"Vet"}),Object(S.jsx)(k.a,{source:"vet_email",label:"Vet Email"}),Object(S.jsx)(K.a,{source:"kc_due",label:"KC Due",options:{format:"DD/MM/YYYY"}}),Object(S.jsx)(K.a,{source:"c3_due",label:"C3 Due",options:{format:"DD/MM/YYYY"}}),Object(S.jsx)(K.a,{source:"c5_due",label:"C5 Due",options:{format:"DD/MM/YYYY"}})]})]})}))},Ue=function(e){return Object(S.jsx)(v.a,Object(f.a)(Object(f.a)({},e),{},{children:Object(S.jsxs)(q.a,{children:[Object(S.jsxs)(G.a,{label:"Dog Details",children:[Object(S.jsx)(_.a,{filterToQuery:function(e){return{name:e}},source:"owner",reference:"clients",children:Object(S.jsx)(H.a,{optionText:"name"})}),Object(S.jsx)(k.a,{source:"dog_name",label:"Dog Name"}),Object(S.jsx)(k.a,{source:"breed",label:"Breed"}),Object(S.jsx)(A.a,{source:"sex",choices:[{id:"M",name:"Male"},{id:"F",name:"Female"}],label:"Sex"}),Object(S.jsx)(J.a,{source:"desexed",options:{checkedIcon:Object(S.jsx)(te.a,{})}})]}),Object(S.jsxs)(G.a,{label:"Medical Details",children:[Object(S.jsx)(k.a,{source:"vet",label:"Vet"}),Object(S.jsx)(k.a,{source:"vet_email",label:"Vet Email"}),Object(S.jsx)(K.a,{source:"kc_due",label:"KC Due",options:{format:"DD/MM/YYYY"}}),Object(S.jsx)(K.a,{source:"c3_due",label:"C3 Due",options:{format:"DD/MM/YYYY"}}),Object(S.jsx)(K.a,{source:"c5_due",label:"C5 Due",options:{format:"DD/MM/YYYY"}})]})]})}))},Qe=a(589),Re=a.n(Qe),ze=a(1794),qe=function(){return Object(S.jsxs)(Z.a,{children:[Object(S.jsx)(ze.a,{title:"Welcome to the administration"}),Object(S.jsx)($.a,{children:"Lorem ipsum sic dolor amet..."})]})},Ge=a(1035),He=a(720),Je=a(529),Ke=a(56),Xe=a(150),Ze=a(594),$e=a(350),et=a(599),tt=a(1038),at=a.n(tt),nt=a(1795),rt=a(176),ct=a(177),st=a(181),it=a(179),ot=r.a.createContext(),lt=(ot.Consumer,function(e){Object(st.a)(a,e);var t=Object(it.a)(a);function a(){var e;Object(rt.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={notifications:[]},e.setNotifications=function(t){var a=e.state.notifications;a.push(t),e.setState({notifications:a})},e.removeNotif=function(t){e.setState({notifications:e.state.notifications.filter((function(e){return e!==t}))})},e.removeAllMessNotif=function(t){e.setState({notifications:e.state.notifications.filter((function(e){return e.convoItem.sid!==t.sid}))})},e}return Object(ct.a)(a,[{key:"render",value:function(){var e=this.props.children,t=this.state.notifications,a=this.setNotifications,n=this.removeNotif,r=this.removeAllMessNotif;return Object(S.jsx)(ot.Provider,{value:{notifications:t,setNotifications:a,removeNotif:n,removeAllMessNotif:r},children:e})}}]),a}(r.a.Component)),ut=ot,dt=a(1037),jt=a.n(dt),bt=a(1036),ft=a.n(bt),Ot=a(30);function ht(e){var t=r.a.useContext(ut),a=t.notifications,n=t.removeNotif,c=r.a.useState(null),s=Object(i.a)(c,2),o=s[0],l=s[1],u=Object(Ot.g)();return Object(S.jsx)("div",{children:Object(S.jsxs)(nt.a,{style:{height:"25px",width:"45px"},badgeContent:a.length,color:"error",children:[Object(S.jsx)(Xe.a,{"aria-controls":"simple-menu","aria-haspopup":"true",onClick:function(e){l(e.currentTarget)},children:Object(S.jsx)(at.a,{htmlColor:"white"})}),Object(S.jsx)(Ze.a,{id:"simple-menu",anchorEl:o,keepMounted:!0,open:Boolean(o),onClose:function(){l(null)},children:a.length>0?a.map((function(e){return Object(S.jsxs)($e.a,{onClick:function(){n(e),u.push("/messenger")},children:[(t=e,"payment"===t.type?Object(S.jsx)(et.a,{children:Object(S.jsx)(ft.a,{fontSize:"small"})}):"message"===t.type?Object(S.jsx)(et.a,{children:Object(S.jsx)(jt.a,{fontSize:"small"})}):void 0),e.message]});var t})):Object(S.jsx)($e.a,{disabled:!0,children:"All Caught Up"})})]})})}var xt=Object(w.a)({title:{flex:1,textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"},spacer:{flex:1}}),pt=function(e){var t=xt();return Object(S.jsxs)(Je.a,Object(f.a)(Object(f.a)({},e),{},{children:[Object(S.jsx)(Ke.a,{variant:"h6",color:"inherit",className:t.title,id:"react-admin-title"}),Object(S.jsx)("span",{className:t.spacer}),Object(S.jsx)(ht,{})]}))},mt=a(121),gt=a(531),vt=a(334),yt=a(1057),kt=a(598),Ct=a(735),wt=a(1796),St=a(592),Mt=a.n(St),Dt=a(199),Nt=a.n(Dt),Pt=a(718),Yt=a.n(Pt),Ft=a(409),Tt=a.n(Ft),Et=a(1039),It=a.n(Et),Bt=a(1040),_t=a.n(Bt),At=a(1041),Lt=a.n(At),Wt=a(410),Vt=a.n(Wt),Ut=a(1042),Qt=a.n(Ut),Rt=a(1043),zt=a.n(Rt),qt=a(1044),Gt=a.n(qt),Ht=Object(w.a)((function(e){return{root:{width:"100%",maxWidth:360,backgroundColor:e.palette.background.paper},nested:{paddingLeft:e.spacing(4)}}}));function Jt(e){var t=e.onMenuClick,a=(e.logout,Ht()),r=n.useState(!1),c=Object(i.a)(r,2),s=c[0],o=c[1],l=n.useState(!1),u=Object(i.a)(l,2),d=u[0],b=u[1],f=n.useState(!1),O=Object(i.a)(f,2),h=O[0],x=O[1];Object(j.f)(mt.d);return Object(S.jsxs)(yt.a,{component:"nav",className:a.root,children:[Object(S.jsx)(gt.a,{onClick:t,sidebarIsOpen:s}),Object(S.jsx)(vt.a,{to:"/clients",primaryText:"Clients",leftIcon:Object(S.jsx)(Yt.a,{}),onClick:t,sidebarIsOpen:s},"clients"),Object(S.jsxs)(kt.a,{button:!0,onClick:function(){o(!s)},children:[Object(S.jsx)(et.a,{children:Object(S.jsx)(Re.a,{})}),Object(S.jsx)(Ct.a,{primary:"Dogs"}),s?Object(S.jsx)(Mt.a,{}):Object(S.jsx)(Nt.a,{})]}),Object(S.jsxs)(wt.a,{in:s,timeout:"auto",unmountOnExit:!0,children:[Object(S.jsx)(vt.a,{className:a.nested,disablePadding:!0,to:"/dogs",primaryText:"All Dogs",leftIcon:Object(S.jsx)(Tt.a,{}),onClick:t,sidebarIsOpen:s},"dogs"),Object(S.jsx)(vt.a,{className:a.nested,disablePadding:!0,to:"/dog_breeds",primaryText:"Dog breeds",leftIcon:Object(S.jsx)(Tt.a,{}),onClick:t,sidebarIsOpen:s},"dog_breeds")]}),Object(S.jsxs)(kt.a,{button:!0,onClick:function(){b(!d)},children:[Object(S.jsx)(et.a,{children:Object(S.jsx)(It.a,{})}),Object(S.jsx)(Ct.a,{primary:"Bookings"}),d?Object(S.jsx)(Mt.a,{}):Object(S.jsx)(Nt.a,{})]}),Object(S.jsxs)(wt.a,{in:d,timeout:"auto",unmountOnExit:!0,children:[Object(S.jsx)(vt.a,{className:a.nested,disablePadding:!0,to:"/bookings",primaryText:"All Bookings",leftIcon:Object(S.jsx)(_t.a,{}),onClick:t,sidebarIsOpen:s},"bookings"),Object(S.jsx)(vt.a,{className:a.nested,disablePadding:!0,to:"/bookingstoday",primaryText:"Bookings Today",leftIcon:Object(S.jsx)(Vt.a,{}),onClick:t,sidebarIsOpen:s},"bookingstoday"),Object(S.jsx)(vt.a,{className:a.nested,disablePadding:!0,to:"/todaydaycare",primaryText:"Today Daycare",leftIcon:Object(S.jsx)(Vt.a,{}),onClick:t,sidebarIsOpen:s},"todaydaycare"),Object(S.jsx)(vt.a,{className:a.nested,disablePadding:!0,to:"/todaygrooming",primaryText:"Today Grooming",leftIcon:Object(S.jsx)(Vt.a,{}),onClick:t,sidebarIsOpen:s},"todaygrooming"),Object(S.jsx)(vt.a,{className:a.nested,disablePadding:!0,to:"/grooming",primaryText:"Grooming",leftIcon:Object(S.jsx)(Vt.a,{}),onClick:t,sidebarIsOpen:s},"grooming"),Object(S.jsx)(vt.a,{className:a.nested,disablePadding:!0,to:"/services",primaryText:"Services",leftIcon:Object(S.jsx)(Lt.a,{}),onClick:t,sidebarIsOpen:s},"services")]}),Object(S.jsxs)(kt.a,{button:!0,onClick:function(){x(!h)},children:[Object(S.jsx)(et.a,{children:Object(S.jsx)(Qt.a,{})}),Object(S.jsx)(Ct.a,{primary:"Payments"}),h?Object(S.jsx)(Mt.a,{}):Object(S.jsx)(Nt.a,{})]}),Object(S.jsx)(wt.a,{in:h,timeout:"auto",unmountOnExit:!0,children:Object(S.jsx)(vt.a,{className:a.nested,disablePadding:!0,to:"/payments",primaryText:"All Payments",leftIcon:Object(S.jsx)(zt.a,{}),onClick:t,sidebarIsOpen:s},"payments")}),Object(S.jsx)(vt.a,{to:"/messenger",primaryText:"Messenger",leftIcon:Object(S.jsx)(Gt.a,{}),onClick:t,sidebarIsOpen:s},"messenger")]})}var Kt=function(e){return Object(S.jsx)(He.a,Object(f.a)(Object(f.a)({},e),{},{menu:Jt,appBar:pt}))},Xt=a(808),Zt=a(523),$t=a(544),ea=a(528),ta=a(1755),aa=function(e){var t=e.record[e.source];return"undefined"===typeof t||null===t||0===t.length?Object(S.jsx)("div",{}):Object(S.jsx)(S.Fragment,{children:t.map((function(e){return Object(S.jsx)(ta.a,{color:"secondary",label:e},e)}))})};aa.defaultProps={addLabel:!0};var na=aa,ra=a(732),ca=a.n(ra),sa=a(138),ia=a(40),oa=function e(t){var a=t.record,n=t.source;if(e.defaultProps={filterBy:a.name},a[n]){var r=Object(sa.a)("/clients",a[n]);return Object(S.jsx)(ia.a,{to:r,children:a.name})}return Object(S.jsx)("span",{children:a.name})},la=function(e){var t=e.record,a=e.source;if(t[a]){var n=Object(sa.a)("/services",t[a]);return Object(S.jsx)(ia.a,{to:n,children:t.service+" "+t.category})}return Object(S.jsx)("span",{children:t.service+" "+t.category})},ua=function(e){var t=e.record,a=e.source;if(t[a]){var n=Object(sa.a)("/dogs",t[a]);return Object(S.jsx)(ia.a,{to:n,children:t.dogName})}if(!t[a])return Object(S.jsx)("span",{children:t.dogName})},da=function(e){var t=e.record;return Object(S.jsx)("span",{children:new Date(t.start).toLocaleString().split(",")[1].trim()+" - "+new Date(t.end).toLocaleString().split(",")[1].trim()})},ja=a(178),ba=a.n(ja),fa=a(435),Oa=a(835),ha=function(e){var t=e.selectedIds,a=Object(w.a)((function(e){return{root:{"& .MuiTextField-root":{margin:e.spacing(1),width:"25ch"}}}})),r=Object(n.useState)(!1),c=Object(i.a)(r,2),s=c[0],o=c[1],l=Object(n.useState)(!1),u=Object(i.a)(l,2),d=u[0],j=u[1],b=Object(ie.a)(),f=Object(oe.a)(),O=Object(le.a)(),h=(O.identity,O.loading,a(),n.useState()),x=Object(i.a)(h,2),p=x[0],m=x[1],g=n.useState(),v=Object(i.a)(g,2),y=v[0],k=v[1],C=n.useState(),M=Object(i.a)(C,2),D=M[0],N=M[1],P=Object(n.useState)(!1),Y=Object(i.a)(P,2),F=Y[0],T=Y[1],E=function(){o(!1)},I=function(){j(!1)},B=function(){var e=Object(se.a)(ce.a.mark((function e(){var a,n;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return T(!0),e.next=3,Ne();case 3:a=e.sent,n=Oa.stringify([a,t,"bookings",p,y]),fa({method:"post",url:"https://7a314e3ed3bb.ngrok.io",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:n}).then((function(e){T(!1),o(!1),b("Messages sent"),f("bookings"),m(null),k(null)})).catch((function(e){T(!1),b("Error: Could not reach server","warning")}));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),_=function(){var e=Object(se.a)(ce.a.mark((function e(){var a,n;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return T(!0),e.next=3,Ne();case 3:a=e.sent,n=Oa.stringify([a,t,D]),fa({method:"post",url:"https://a9548241041d.ngrok.io/talk",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:n}).then((function(e){T(!1),o(!1),b("Messages sent"),f("bookings"),N(null)})).catch((function(e){T(!1),b("Error: Could not reach server","warning")}));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(S.jsxs)(n.Fragment,{children:[1==t.length&&Object(S.jsx)(ue.a,{label:"Charge Card",onClick:function(){return j(!0)}}),Object(S.jsx)(ue.a,{label:"Text clients",onClick:function(){return o(!0)}}),Object(S.jsxs)(fe.a,{open:d,onClose:I,children:[Object(S.jsx)(Oe.a,{children:"Charge Card on File"}),Object(S.jsx)(he.a,{children:Object(S.jsx)(pe.a,{name:"Amount",fullWidth:!0,placeholder:"Amount",defaultValue:D&&D,onChange:function(e){N(e.target.value)}})}),Object(S.jsxs)(xe.a,{children:[Object(S.jsx)(ue.a,{label:"Cancel",onClick:I,children:Object(S.jsx)(be.a,{})}),Object(S.jsx)(ue.a,{label:"Charge",onClick:_,children:Object(S.jsx)(ba.a,{})})]})]}),Object(S.jsxs)(fe.a,{open:s,onClose:E,children:[Object(S.jsx)(Oe.a,{children:"Message Owners"}),Object(S.jsxs)(he.a,{children:[Object(S.jsx)(pe.a,{name:"Topic",fullWidth:!0,placeholder:"Topic",defaultValue:p&&p,onChange:function(e){m(e.target.value)}}),Object(S.jsx)(pe.a,{name:"Message",multiline:!0,fullWidth:!0,placeholder:"Message",defaultValue:y&&y,onChange:function(e){k(e.target.value)}})]}),!1===F&&Object(S.jsxs)(xe.a,{children:[Object(S.jsx)(ue.a,{label:"Cancel",onClick:E,children:Object(S.jsx)(be.a,{})}),Object(S.jsx)(ue.a,{label:"Send",onClick:B,children:Object(S.jsx)(ge.a,{})})]})]}),Object(S.jsx)(de.a,{})]})},xa=function(e){return Object(S.jsx)(O.a,Object(f.a)({rowsPerPageOptions:[50,100,200]},e))},pa=function(e){return Object(S.jsxs)(B.a,Object(f.a)(Object(f.a)({},e),{},{children:[Object(S.jsx)(K.a,{label:"Booking Date",source:"start",alwaysOn:!0}),Object(S.jsx)(Xt.a,{source:"name",placeholder:"Search client"}),Object(S.jsx)(Xt.a,{source:"dogName",placeholder:"Search dog"}),Object(S.jsx)(Zt.a,{label:"Service",source:"service_ref",reference:"services",sort:{field:"name",order:"ASC"},filterToQuery:function(e){return{service:e}},children:Object(S.jsx)(H.a,{optionText:function(e){return e.service+" "+e.category}})}),Object(S.jsx)(Xt.a,{source:"code",placeholder:"Search code"})]}))},ma=Object(X.a)((function(e){var t;return{root:(t={},Object(I.a)(t,e.breakpoints.up("sm"),{order:-1,width:"15em",marginRight:"1em"}),Object(I.a)(t,e.breakpoints.down("sm"),{display:"none"}),t)}}))(Z.a),ga=function(){return Object(S.jsxs)(L.a,{label:"Category",icon:Object(S.jsx)(ca.a,{}),children:[Object(S.jsx)(W.a,{label:"Daycare",value:{category:"daycare"}}),Object(S.jsx)(W.a,{label:"Grooming",value:{category:"stylist"}}),Object(S.jsx)(W.a,{label:"Coiffuriste",value:{category:"coiffuriste"}})]})},va=function(){return Object(S.jsxs)(L.a,{label:"Status",icon:Object(S.jsx)(ca.a,{}),children:[Object(S.jsx)(W.a,{label:"Confirmed",value:{status:"confirmed"}}),Object(S.jsx)(W.a,{label:"Modified",value:{status:"modified"}}),Object(S.jsx)(W.a,{label:"Cancelled",value:{status:"cancelled"}})]})},ya=function(){return Object(S.jsx)(ma,{children:Object(S.jsxs)($.a,{children:[Object(S.jsx)(ga,{}),Object(S.jsx)(va,{})]})})},ka=function(e){var t=Object(M.a)((function(e){return e.breakpoints.down("sm")}));return Object(S.jsx)(h.a,Object(f.a)(Object(f.a)({aside:Object(S.jsx)(ya,{}),bulkActionButtons:Object(S.jsx)(ha,{}),perPage:50},e),{},{pagination:Object(S.jsx)(xa,{}),filters:Object(S.jsx)(pa,{}),children:t?Object(S.jsx)(x.a,{primaryText:function(e){return e.name},secondaryText:function(e){return e.email},tertiaryText:function(e){return e.phone}}):Object(S.jsxs)(N.a,{children:[Object(S.jsx)(oa,{label:"Client",source:"client_ref",reference:"clients"}),Object(S.jsx)(ua,{label:"Dog Name",source:"dog_ref",reference:"dogs"}),Object(S.jsx)(la,{label:"Service",source:"service_ref",reference:"services"}),Object(S.jsx)(z.a,{label:"Booking Date",source:"start",options:{weekday:"long",year:"numeric",month:"long",day:"numeric"}}),Object(S.jsx)(da,{label:"Time"}),Object(S.jsx)(p.a,{source:"status"}),Object(S.jsx)(na,{source:"addOns",children:Object(S.jsx)($t.a,{children:Object(S.jsx)(ea.a,{source:"id"})})}),Object(S.jsx)(p.a,{source:"comments"}),Object(S.jsx)(z.a,{source:"updated"}),Object(S.jsx)(p.a,{source:"code"}),Object(S.jsx)(g.a,{})]})}))},Ca=a(240),wa=a.n(Ca),Sa=(a(446),a(447),a(148)),Ma=a.n(Sa),Da=a(241),Na=a.n(Da),Pa=(a(255),a(51)),Ya=a.n(Pa),Fa=a(175),Ta=a.n(Fa),Ea=a(103);window.moment=Ya.a;var Ia=a(453),Ba=function(e){Object(st.a)(a,e);var t=Object(it.a)(a);function a(e){var n;return Object(rt.a)(this,a),(n=t.call(this,e)).getService=function(){return Me.getList("services",{pagination:{page:1,perPage:1e5}}).then((function(e){return e.data.map((function(e){return{id:e.service,label:"".concat(e.service,"-").concat(e.category)}}))}))},n.columns=[{name:"name",header:"Name",defaultWidth:200,render:function(e){var t=e.value,a=e.data;return a.client_ref?Object(S.jsx)("a",{href:"#clients/"+a.client_ref,children:t}):Object(S.jsx)("span",{children:t})}},{name:"dogName",header:"Dog",defaultWidth:150,render:function(e){var t=e.value,a=e.data;return a.dog_ref?Object(S.jsx)("a",{href:"#dogs/"+a.dog_ref,children:t}):Object(S.jsx)("span",{children:t})}},{name:"service",header:"Service",defaultWidth:250,render:function(e){var t=e.value,a=e.data;return Object(S.jsxs)("span",{children:[t||""," ",a.category||""]})},filterEditor:Na.a,filterEditorProps:{multiple:!0,wrapMultiple:!1,dataSource:n.getService()}},{name:"date",header:"Booking Date",defaultWidth:134,filterEditor:Ma.a,filterEditorProps:function(e,t){return{dateFormat:"ddd DD/MM/YYYY",placeholder:1===t.index?"Bookings date is before...":"Booking date is on..."}},render:function(e){var t=e.value;e.cellProps.dateFormat;return Ya()(t).format("ddd DD/MM/YYYY")}},{name:"end",header:"Time",defaultWidth:150,filterEditor:Ma.a,filterEditorProps:function(e,t){return{dateFormat:"ddd DD/MM/YYYY",placeholder:1===t.index?"Bookings date is before...":"Booking date is on..."}},render:function(e){var t=e.value,a=e.data;return"".concat(Ya()(a.start).format("hh:mm A"),"-").concat(Ya()(t).format("hh:mm A"))}},{name:"addOns",header:"AddOns",defaultWidth:180,render:function(e){var t=e.value;return 0!==t.length?Object(S.jsx)(S.Fragment,{children:t.map((function(e){return Object(S.jsx)(ta.a,{color:"secondary",label:e},e)}))}):Object(S.jsx)("span",{})}},{name:"code",header:"Booking Code",defaultWidth:250}],n.gridStyle={minHeight:550},n.defaultFilterValue=[{name:"date",operator:"eq",type:"date",value:""},{name:"service",operator:"inlist",type:"select",value:null},{name:"code",operator:"contains",type:"string",value:""},{name:"dogName",operator:"contains",type:"string",value:""},{name:"name",operator:"contains",type:"string",value:""}],n.handleCallback=function(e){var t=e.skip,a=e.limit;e.sortInfo,e.groupBy,e.filterValue;return Me.getList("bookings",{pagination:{page:t/a+1,perPage:a}}).then((function(e){return{data:e.data,count:e.total}}))},n.state={rows:[],selected:{},filter:!1,serviceFilter:[]},n}return Object(ct.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=new Date;this.getService(),Me.getList("bookings",{pagination:{page:1,perPage:1e6},filter:{start:Ia(t,"yyyy-mm-dd")}}).then((function(t){t.data.forEach((function(e){e.date=e.start.substring(0,10)})),e.setState({rows:t.data})}))}},{key:"render",value:function(){var e=this;return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(Ea.b,{title:"Bookings Today"}),Object(S.jsxs)("div",{children:[Object(S.jsx)(ue.a,{label:"Filters",onClick:function(){return e.setState({filter:!e.state.filter})},children:Object(S.jsx)(Ta.a,{})}),1===Object.keys(this.state.selected).length&&Object(S.jsx)(g.a,{basePath:"/bookings",label:"Edit",record:Object.values(this.state.selected)[0]}),1===Object.keys(this.state.selected).length&&Object(S.jsx)(ue.a,{label:"Charge card",children:Object(S.jsx)(ba.a,{})}),0!==Object.keys(this.state.selected).length&&Object(S.jsx)(ue.a,{label:"Message Owners",children:Object(S.jsx)(ge.a,{})})]}),Object(S.jsx)(wa.a,{idProperty:"id",columns:this.columns,dataSource:this.state.rows,style:this.gridStyle,defaultFilterValue:this.defaultFilterValue,onSelectionChange:function(t){return e.setState({selected:t.selected})},enableFiltering:this.state.filter,multiSelect:!0,checkboxColumn:!0})]})}}]),a}(r.a.Component);window.moment=Ya.a;var _a=a(453),Aa=function(e){Object(st.a)(a,e);var t=Object(it.a)(a);function a(e){var n;return Object(rt.a)(this,a),(n=t.call(this,e)).getService=function(){return Me.getList("services",{pagination:{page:1,perPage:1e5}}).then((function(e){return e.data.map((function(e){return{id:e.service,label:"".concat(e.service,"-").concat(e.category)}}))}))},n.columns=[{name:"name",header:"Name",defaultWidth:200,render:function(e){var t=e.value,a=e.data;return a.client_ref?Object(S.jsx)("a",{href:"#clients/"+a.client_ref,children:t}):Object(S.jsx)("span",{children:t})}},{name:"dogName",header:"Dog",defaultWidth:150,render:function(e){var t=e.value,a=e.data;return a.dog_ref?Object(S.jsx)("a",{href:"#dogs/"+a.dog_ref,children:t}):Object(S.jsx)("span",{children:t})}},{name:"service",header:"Service",defaultWidth:250,render:function(e){var t=e.value,a=e.data;return Object(S.jsxs)("span",{children:[t||""," ",a.category||""]})},filterEditor:Na.a,filterEditorProps:{multiple:!0,wrapMultiple:!1,dataSource:n.getService()}},{name:"date",header:"Booking Date",defaultWidth:138,filterEditor:Ma.a,filterEditorProps:function(e,t){return{dateFormat:"ddd DD/MM/YYYY",placeholder:1===t.index?"Bookings date is before...":"Booking date is on..."}},render:function(e){var t=e.value;e.cellProps.dateFormat;return Ya()(t).format("ddd DD/MM/YYYY")}},{name:"end",header:"Time",defaultWidth:150,filterEditor:Ma.a,filterEditorProps:function(e,t){return{dateFormat:"ddd DD/MM/YYYY",placeholder:1===t.index?"Bookings date is before...":"Booking date is on..."}},render:function(e){var t=e.value,a=e.data;return"".concat(Ya()(a.start).format("hh:mm A"),"-").concat(Ya()(t).format("hh:mm A"))}},{name:"addOns",header:"AddOns",defaultWidth:180,render:function(e){var t=e.value;return 0!==t.length?Object(S.jsx)(S.Fragment,{children:t.map((function(e){return Object(S.jsx)(ta.a,{color:"secondary",label:e},e)}))}):Object(S.jsx)("span",{})}},{name:"code",header:"Booking Code",defaultWidth:250}],n.gridStyle={minHeight:550},n.defaultFilterValue=[{name:"date",operator:"eq",type:"date",value:""},{name:"service",operator:"inlist",type:"select",value:null},{name:"code",operator:"contains",type:"string",value:""},{name:"dogName",operator:"contains",type:"string",value:""},{name:"name",operator:"contains",type:"string",value:""}],n.handleCallback=function(e){var t=e.skip,a=e.limit;e.sortInfo,e.groupBy,e.filterValue;return Me.getList("bookings",{pagination:{page:t/a+1,perPage:a}}).then((function(e){return{data:e.data,count:e.total}}))},n.state={rows:[],selected:{},filter:!1,serviceFilter:[]},n}return Object(ct.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.getService();var t=new Date;Me.getList("bookings",{pagination:{page:1,perPage:1e6},filter:{category:"daycare",start:_a(t,"yyyy-mm-dd")}}).then((function(t){t.data.forEach((function(e){e.date=e.start.substring(0,10)})),e.setState({rows:t.data})}))}},{key:"render",value:function(){var e=this;return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(Ea.b,{title:"Today Daycare"}),Object(S.jsxs)("div",{children:[Object(S.jsx)(ue.a,{label:"Filters",onClick:function(){return e.setState({filter:!e.state.filter})},children:Object(S.jsx)(Ta.a,{})}),1===Object.keys(this.state.selected).length&&Object(S.jsx)(g.a,{basePath:"/bookings",label:"Edit",record:Object.values(this.state.selected)[0]}),1===Object.keys(this.state.selected).length&&Object(S.jsx)(ue.a,{label:"Charge card",children:Object(S.jsx)(ba.a,{})}),0!==Object.keys(this.state.selected).length&&Object(S.jsx)(ue.a,{label:"Message Owners",children:Object(S.jsx)(ge.a,{})})]}),Object(S.jsx)(wa.a,{idProperty:"id",columns:this.columns,dataSource:this.state.rows,style:this.gridStyle,defaultFilterValue:this.defaultFilterValue,onSelectionChange:function(t){return e.setState({selected:t.selected})},enableFiltering:this.state.filter,multiSelect:!0,checkboxColumn:!0})]})}}]),a}(r.a.Component);window.moment=Ya.a;var La=a(453),Wa=function(e){Object(st.a)(a,e);var t=Object(it.a)(a);function a(e){var n;return Object(rt.a)(this,a),(n=t.call(this,e)).getService=function(){return Me.getList("services",{pagination:{page:1,perPage:1e5}}).then((function(e){return e.data.map((function(e){return{id:e.service,label:"".concat(e.service,"-").concat(e.category)}}))}))},n.columns=[{name:"name",header:"Name",defaultWidth:200,render:function(e){var t=e.value,a=e.data;return a.client_ref?Object(S.jsx)("a",{href:"#clients/"+a.client_ref,children:t}):Object(S.jsx)("span",{children:t})}},{name:"dogName",header:"Dog",defaultWidth:150,render:function(e){var t=e.value,a=e.data;return a.dog_ref?Object(S.jsx)("a",{href:"#dogs/"+a.dog_ref,children:t}):Object(S.jsx)("span",{children:t})}},{name:"service",header:"Service",defaultWidth:250,render:function(e){var t=e.value,a=e.data;return Object(S.jsxs)("span",{children:[t||""," ",a.category||""]})},filterEditor:Na.a,filterEditorProps:{multiple:!0,wrapMultiple:!1,dataSource:n.getService()}},{name:"date",header:"Booking Date",defaultWidth:138,filterEditor:Ma.a,filterEditorProps:function(e,t){return{dateFormat:"ddd DD/MM/YYYY",placeholder:1===t.index?"Bookings date is before...":"Booking date is on..."}},render:function(e){var t=e.value;e.cellProps.dateFormat;return Ya()(t).format("ddd DD/MM/YYYY")}},{name:"end",header:"Time",defaultWidth:150,filterEditor:Ma.a,filterEditorProps:function(e,t){return{dateFormat:"ddd DD/MM/YYYY",placeholder:1===t.index?"Bookings date is before...":"Booking date is on..."}},render:function(e){var t=e.value,a=e.data;return"".concat(Ya()(a.start).format("hh:mm A"),"-").concat(Ya()(t).format("hh:mm A"))}},{name:"addOns",header:"AddOns",defaultWidth:180,render:function(e){var t=e.value;return 0!==t.length?Object(S.jsx)(S.Fragment,{children:t.map((function(e){return Object(S.jsx)(ta.a,{color:"secondary",label:e},e)}))}):Object(S.jsx)("span",{})}},{name:"code",header:"Booking Code",defaultWidth:250}],n.gridStyle={minHeight:550},n.defaultFilterValue=[{name:"date",operator:"eq",type:"date",value:""},{name:"service",operator:"inlist",type:"select",value:null},{name:"code",operator:"contains",type:"string",value:""},{name:"dogName",operator:"contains",type:"string",value:""},{name:"name",operator:"contains",type:"string",value:""}],n.handleCallback=function(e){var t=e.skip,a=e.limit;e.sortInfo,e.groupBy,e.filterValue;return Me.getList("bookings",{pagination:{page:t/a+1,perPage:a}}).then((function(e){return{data:e.data,count:e.total}}))},n.state={rows:[],selected:{},filter:!1,serviceFilter:[]},n}return Object(ct.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.getService();var t=new Date;Me.getList("bookings",{pagination:{page:1,perPage:1e6},filter:{category:"stylist",start:La(t,"yyyy-mm-dd")}}).then((function(t){t.data.forEach((function(e){e.date=e.start.substring(0,10)})),e.setState({rows:t.data})}))}},{key:"render",value:function(){var e=this;return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(Ea.b,{title:"Today Grooming"}),Object(S.jsxs)("div",{children:[Object(S.jsx)(ue.a,{label:"Filters",onClick:function(){return e.setState({filter:!e.state.filter})},children:Object(S.jsx)(Ta.a,{})}),1===Object.keys(this.state.selected).length&&Object(S.jsx)(g.a,{basePath:"/bookings",label:"Edit",record:Object.values(this.state.selected)[0]}),1===Object.keys(this.state.selected).length&&Object(S.jsx)(ue.a,{label:"Charge card",children:Object(S.jsx)(ba.a,{})}),0!==Object.keys(this.state.selected).length&&Object(S.jsx)(ue.a,{label:"Message Owners",children:Object(S.jsx)(ge.a,{})})]}),Object(S.jsx)(wa.a,{idProperty:"id",columns:this.columns,dataSource:this.state.rows,style:this.gridStyle,defaultFilterValue:this.defaultFilterValue,onSelectionChange:function(t){return e.setState({selected:t.selected})},enableFiltering:this.state.filter,multiSelect:!0,checkboxColumn:!0})]})}}]),a}(r.a.Component);window.moment=Ya.a;a(453);var Va=function(e){Object(st.a)(a,e);var t=Object(it.a)(a);function a(e){var n;return Object(rt.a)(this,a),(n=t.call(this,e)).getService=function(){return Me.getList("services",{pagination:{page:1,perPage:1e5}}).then((function(e){return e.data.map((function(e){return{id:e.service,label:"".concat(e.service,"-").concat(e.category)}}))}))},n.columns=[{name:"name",header:"Name",defaultWidth:200,render:function(e){var t=e.value,a=e.data;return a.client_ref?Object(S.jsx)("a",{href:"#clients/"+a.client_ref,children:t}):Object(S.jsx)("span",{children:t})}},{name:"dogName",header:"Dog",defaultWidth:150,render:function(e){var t=e.value,a=e.data;return a.dog_ref?Object(S.jsx)("a",{href:"#dogs/"+a.dog_ref,children:t}):Object(S.jsx)("span",{children:t})}},{name:"service",header:"Service",defaultWidth:250,render:function(e){var t=e.value,a=e.data;return Object(S.jsxs)("span",{children:[t||""," ",a.category||""]})},filterEditor:Na.a,filterEditorProps:{multiple:!0,wrapMultiple:!1,dataSource:n.getService()}},{name:"date",header:"Booking Date",defaultWidth:138,filterEditor:Ma.a,filterEditorProps:function(e,t){return{dateFormat:"ddd DD/MM/YYYY",placeholder:1===t.index?"Bookings date is before...":"Booking date is on..."}},render:function(e){var t=e.value;e.cellProps.dateFormat;return Ya()(t).format("ddd DD/MM/YYYY")}},{name:"end",header:"Time",defaultWidth:150,filterEditor:Ma.a,filterEditorProps:function(e,t){return{dateFormat:"ddd DD/MM/YYYY",placeholder:1===t.index?"Bookings date is before...":"Booking date is on..."}},render:function(e){var t=e.value,a=e.data;return"".concat(Ya()(a.start).format("hh:mm A"),"-").concat(Ya()(t).format("hh:mm A"))}},{name:"addOns",header:"AddOns",defaultWidth:180,render:function(e){var t=e.value;return 0!==t.length?Object(S.jsx)(S.Fragment,{children:t.map((function(e){return Object(S.jsx)(ta.a,{color:"secondary",label:e},e)}))}):Object(S.jsx)("span",{})}},{name:"code",header:"Booking Code",defaultWidth:250}],n.gridStyle={minHeight:550},n.defaultFilterValue=[{name:"date",operator:"eq",type:"date",value:""},{name:"service",operator:"inlist",type:"select",value:null},{name:"code",operator:"contains",type:"string",value:""},{name:"dogName",operator:"contains",type:"string",value:""},{name:"name",operator:"contains",type:"string",value:""}],n.handleCallback=function(e){var t=e.skip,a=e.limit;e.sortInfo,e.groupBy,e.filterValue;return Me.getList("bookings",{pagination:{page:t/a+1,perPage:a}}).then((function(e){return{data:e.data,count:e.total}}))},n.state={rows:[],selected:{},filter:!1,serviceFilter:[]},n}return Object(ct.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.getService(),Me.getList("bookings",{pagination:{page:1,perPage:1e6},filter:{category:"stylist"}}).then((function(t){t.data.forEach((function(e){e.date=e.start.substring(0,10)})),e.setState({rows:t.data})}))}},{key:"render",value:function(){var e=this;return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsxs)("div",{children:[Object(S.jsx)(ue.a,{label:"Filters",onClick:function(){return e.setState({filter:!e.state.filter})},children:Object(S.jsx)(Ta.a,{})}),1===Object.keys(this.state.selected).length&&Object(S.jsx)(g.a,{basePath:"/bookings",label:"Edit",record:Object.values(this.state.selected)[0]}),1===Object.keys(this.state.selected).length&&Object(S.jsx)(ue.a,{label:"Charge card",children:Object(S.jsx)(ba.a,{})}),0!==Object.keys(this.state.selected).length&&Object(S.jsx)(ue.a,{label:"Message Owners",children:Object(S.jsx)(ge.a,{})})]}),Object(S.jsx)(wa.a,{idProperty:"id",columns:this.columns,dataSource:this.state.rows,style:this.gridStyle,defaultFilterValue:this.defaultFilterValue,onSelectionChange:function(t){return e.setState({selected:t.selected})},enableFiltering:this.state.filter,multiSelect:!0,checkboxColumn:!0})]})}}]),a}(r.a.Component),Ua=a(411);a(1535);function Qa(e){return Object(S.jsx)("div",{className:"conversation-search",children:Object(S.jsx)("input",{type:"search",className:"conversation-search-input",placeholder:"Search Client",onChange:function(t){return e.searchFilterFunction(t.target.value)},value:e.searchText})})}var Ra=a(1045);a(1536);function za(e){Object(n.useEffect)((function(){Object(Ra.a)(".conversation-snippet",20)}));var t=e.data,a=(t.photo,t.name),r=t.text,c=t.unreadCount;return Object(S.jsx)("div",{className:"conversation-list-item",onClick:function(){e.onClick({sid:e.data.sid,name:e.data.name})},children:Object(S.jsxs)("div",{className:"conversation-info",children:[Object(S.jsx)("h1",{className:"conversation-title",children:a}),Object(S.jsxs)("p",{className:"conversation-snippet",children:[r,0!==c&&Object(S.jsx)("text",{className:"badge",children:c})]})]})})}a(1537);function qa(e){var t=e.title,a=e.leftItems,n=e.rightItems;return Object(S.jsxs)("div",{className:"toolbar",children:[Object(S.jsx)("div",{className:"left-items",children:a}),Object(S.jsx)("h1",{className:"toolbar-title",children:t}),Object(S.jsx)("div",{className:"right-items",children:n})]})}a(1538);function Ga(e){var t=e.icon;return Object(S.jsx)("i",{className:"toolbar-button ".concat(t)})}var Ha=a(1046),Ja=a.n(Ha),Ka=a(1052),Xa=Object(w.a)((function(e){return{root:{width:"100%",height:500,maxWidth:300,backgroundColor:e.palette.background.paper}}}));function Za(e){var t=Xa(),a=Object(n.useState)([]),r=Object(i.a)(a,2),c=r[0],s=r[1],o=Object(n.useState)([]),l=Object(i.a)(o,2),u=l[0],d=l[1],j=Object(n.useState)(""),b=Object(i.a)(j,2),f=b[0],O=b[1],h=Object(n.useState)(""),x=Object(i.a)(h,2),p=x[0],m=x[1];Object(n.useEffect)(Object(se.a)(ce.a.mark((function e(){var t;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pe("clients");case 2:t=e.sent,O(t.total),s(t.data),d(t.data);case 6:case"end":return e.stop()}}),e)}))),[]);var g=function(t){var a=e.activeConvos.filter((function(e){return e.text===t.phone}));a.length>0?(e.setActiveConvo({sid:a[0].sid,name:a[0].name}),e.open(!e.visible)):(e.createNewConvo(t.phone,t.name),e.open(!e.visible))};return Object(S.jsx)(n.Fragment,{children:Object(S.jsxs)(fe.a,{open:e.visible,children:[Object(S.jsx)(Oe.a,{children:"Create new Conversation"}),Object(S.jsx)(he.a,{children:Object(S.jsxs)("div",{className:t.root,children:[Object(S.jsx)(Qa,{searchText:p,searchFilterFunction:function(e){var t=u.filter((function(t){var a;try{a=t.name.toUpperCase()}catch(c){a=null}var n="".concat(a),r=e.toUpperCase();return n.indexOf(r)>-1}));m(e),s(t),O(t.length)}}),Object(S.jsx)(Ka.a,{height:400,width:300,itemSize:46,itemCount:f,children:function(e){var t=e.index,a=e.style;return Object(S.jsx)(kt.a,{onClick:Object(se.a)(ce.a.mark((function e(){return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",g(c[t]));case 1:case"end":return e.stop()}}),e)}))),button:!0,style:a,children:Object(S.jsx)(Ct.a,{primary:c[t].name})},t)}})]})}),Object(S.jsx)(xe.a,{children:Object(S.jsx)(ue.a,{label:"Cancel",onClick:function(){return e.open(!e.visible)},children:Object(S.jsx)(be.a,{})})})]})})}a(1539);var $a=a(1540);function en(e){var t=Object(n.useContext)(ut),a=(t.notifications,t.setNotifications),r=t.removeAllMessNotif,c=Object(n.useState)([]),s=Object(i.a)(c,2),o=s[0],l=s[1],u=Object(n.useState)([]),d=Object(i.a)(u,2),j=d[0],b=d[1],f=Object(n.useState)(null),O=Object(i.a)(f,2),h=O[0],x=O[1],p=Object(n.useState)(!1),m=Object(i.a)(p,2),g=m[0],v=m[1];Object(n.useEffect)((function(){N()}),[]);var y=function(e,t){var n=t.filter((function(t){return t.text===e.conversation.channelState.uniqueName.split(":")[1]}))[0];Ce.NotificationManager.info(n.name,"New message",3e3),a({message:"Message from ".concat(n.name),type:"message",convoItem:n})},k=Object(n.useCallback)(function(){var e=Object(se.a)(ce.a.mark((function e(t,a){var n,r,c,s,i;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=17;break}return c=function(){return(c=Object(se.a)(ce.a.mark((function e(t){var a;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.hasNextPage){e.next=7;break}return e.next=3,t.nextPage();case 3:return a=e.sent,n=n.concat(a.items),e.next=7,r(a);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)},r=function(e){return c.apply(this,arguments)},n=[],e.next=6,t.getSubscribedConversations();case 6:return s=e.sent,n=s.items,e.next=10,r(s);case 10:return e.next=12,Promise.all(n.map(function(){var e=Object(se.a)(ce.a.mark((function e(t){var a;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Me.getList("clients",{filter:{phone:t.channelState.friendlyName.split(":")[1]},pagination:{page:1,perPage:1}});case 2:return a=e.sent,e.abrupt("return",{name:a.data[0]?a.data[0].name:t.channelState.friendlyName.split(":")[1],text:a.data[0]?a.data[0].phone:t.channelState.friendlyName.split(":")[1],dateUpdated:t.lastMessage?t.lastMessage.dateCreated:t.dateUpdated,sid:t.sid,unreadCount:t.lastMessage?t.lastMessage.index-t.channelState.lastReadMessageIndex:0});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 12:(i=e.sent).sort((function(e,t){return new Date(t.dateUpdated)-new Date(e.dateUpdated)})),l([].concat(Object(Ua.a)(o),Object(Ua.a)(i))),b(i),a&&y(a,i);case 17:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),[o]),C=function(){var e=Object(se.a)(ce.a.mark((function e(t){var a;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("token about to expire"),e.next=3,Ye();case 3:a=e.sent,t.updateToken(a),console.log("client's token updated");case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function w(e,t){return M.apply(this,arguments)}function M(){return(M=Object(se.a)(ce.a.mark((function t(a,n){var r,c,s,i;return ce.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=function(){return(s=Object(se.a)(ce.a.mark((function e(t){var a;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.hasNextPage){e.next=7;break}return e.next=3,t.nextPage();case 3:return a=e.sent,r=r.concat(a.items),e.next=7,c(a);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)},c=function(e){return s.apply(this,arguments)},r=[],t.next=5,$a.Client.create(a);case 5:(i=t.sent).addListener("tokenAboutToExpire",(function(){return C(i)})),i.addListener("connectionStateChanged",function(){var t=Object(se.a)(ce.a.mark((function t(a){var s;return ce.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("connected"!==a){t.next=10;break}return t.next=3,i.getSubscribedConversations();case 3:return s=t.sent,r=s.items,t.next=7,c(s);case 7:e.setClient(i),2===i._eventsCount&&(i.addListener("messageAdded",(function(e){return k(i,e)})),i.addListener("conversationRemoved",(function(){return k(i)})),i.addListener("conversationAdded",(function(e){return k(i,e)}))),n(r);case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var D=function(){var t=Object(se.a)(ce.a.mark((function t(a,n){var r;return ce.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.client.createConversation({friendlyName:"pBjefCCX5JXw6QbYFu2GR7rmouw1:"+a,uniqueName:"pBjefCCX5JXw6QbYFu2GR7rmouw1:"+a});case 2:return r=t.sent,t.next=5,r.addNonChatParticipant("+61488844176",a);case 5:return t.next=7,r.add("pBjefCCX5JXw6QbYFu2GR7rmouw1");case 7:e.setactiveConvo({sid:r.sid,name:n});case 8:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),N=function(){var e=Object(se.a)(ce.a.mark((function e(){return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ye();case 2:w(e.sent,function(){var e=Object(se.a)(ce.a.mark((function e(t){var a;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(t.map(function(){var e=Object(se.a)(ce.a.mark((function e(t){var a;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Me.getList("clients",{filter:{phone:t.channelState.friendlyName.split(":")[1]},pagination:{page:1,perPage:1}});case 2:return a=e.sent,e.abrupt("return",{name:a.data[0]?a.data[0].name:t.channelState.friendlyName.split(":")[1],text:a.data[0]?a.data[0].phone:t.channelState.friendlyName.split(":")[1],dateUpdated:t.lastMessage?t.lastMessage.dateCreated:t.dateUpdated,sid:t.sid,unreadCount:t.lastMessage?t.lastMessage.index-t.channelState.lastReadMessageIndex:0});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 2:(a=e.sent).sort((function(e,t){return new Date(t.dateUpdated)-new Date(e.dateUpdated)})),l([].concat(Object(Ua.a)(o),Object(Ua.a)(a))),b(a);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),P=function(t){e.setactiveConvo(t),r(t),o[o.findIndex((function(e){return e.sid===t.sid}))].unreadCount=0,j[j.findIndex((function(e){return e.sid===t.sid}))].unreadCount=0,l(o),b(j)};return Object(S.jsxs)("div",{className:"conversation-list",children:[Object(S.jsx)(qa,{title:"Messenger",leftItems:[Object(S.jsx)(Ga,{icon:"ion-ios-cog"},"cog")],rightItems:[Object(S.jsx)(ue.a,{onClick:function(){return v(!g)},children:Object(S.jsx)(Ja.a,{})}),Object(S.jsx)(Ga,{icon:"ion-ios-add-circle-outline"},"add")]}),Object(S.jsx)(Qa,{searchFilterFunction:function(e){var t=j.filter((function(t){var a,n;try{a=t.name.toUpperCase()}catch(s){a=null}try{n=t.phone}catch(i){n=null}var r="".concat(a," ").concat(n),c=e.toUpperCase();return r.indexOf(c)>-1}));x(e),l(t)},searchText:h}),o.map((function(e){return Object(S.jsx)(za,{data:e,onClick:P},e.sid)})),Object(S.jsx)(Za,{visible:g,open:v,activeConvos:o,setActiveConvo:e.setactiveConvo,createNewConvo:D})]})}var tn=a(1047),an=a(1049),nn=a.n(an),rn=(a(1727),a(1048)),cn=a.n(rn),sn=function(e){return Object(S.jsx)(n.Fragment,{children:Object(S.jsxs)(fe.a,{open:e.open,children:[Object(S.jsx)(Oe.a,{children:"Upload Pictures"}),Object(S.jsx)(he.a,{children:Object(S.jsx)(cn.a,{withIcon:!0,buttonText:"Choose images",onChange:e.onDrop,imgExtension:[".jpg",".jpeg",".png"],withPreview:!0})}),Object(S.jsxs)(xe.a,{children:[Object(S.jsx)(ue.a,{label:"Cancel",onClick:e.onCancel,children:Object(S.jsx)(be.a,{})}),Object(S.jsx)(ue.a,{onClick:function(){e.onPicSend(),e.onCancel()},label:"Send",children:Object(S.jsx)(ge.a,{})})]})]})})},on=a(1051);function ln(e){var t=Object(n.useState)(!1),a=Object(i.a)(t,2),r=a[0],c=a[1];return Object(S.jsxs)("div",{className:"compose",children:[Object(S.jsx)(on.a,{type:"text",className:"compose-input",placeholder:"Type a message",value:e.value,onChange:function(t){e.onChange(t.target.value)},spellCheck:!0,minRows:"2"}),e.value?Object(S.jsx)(ue.a,{onClick:function(){return e.onSend()},children:Object(S.jsx)(ge.a,{})}):Object(S.jsx)(ue.a,{onClick:function(){return c(!r)},children:Object(S.jsx)(nn.a,{})}),Object(S.jsx)(sn,{open:r,onCancel:function(){return c(!r)},onDrop:e.onDrop,onPicSend:e.onPicSend}),e.rightItems]})}var un=a(1050),dn=a.n(un);a(1733),a(1734);function jn(e){var t=e.data,a=e.isMine,n=e.startsSequence,r=e.endsSequence,c=e.showTimestamp,s=new RegExp("^https://bit.ly/"),i=Ya()(t.timestamp).format("LLLL");return Object(S.jsxs)("div",{className:["message","".concat(a?"mine":""),"".concat(n?"start":""),"".concat(r?"end":"")].join(" "),children:[c&&Object(S.jsx)("div",{className:"timestamp",children:i}),Object(S.jsx)("div",{className:"bubble-container",children:Object(S.jsx)("div",{className:"bubble",title:i,children:s.test(t.message)?Object(S.jsx)(dn.a,{thumbnailWidth:"150px",thumbnailHeight:"150px",images:[{src:t.message}]}):t.message})})]})}var bn=a(435),fn=function(){var e=Object(se.a)(ce.a.mark((function e(t,a){var n,r,c,s;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=function(e){return new Promise((function(t,a){var n=new FileReader;n.onload=function(e){return t(n.result)},n.onerrror=a,n.readAsDataURL(e)}))},e.next=3,n(a);case 3:return r=e.sent,c=JSON.stringify({token:t,image:r.replace("data:","").replace(/^.*;base64,/,"")}),s={method:"post",url:"https://australia-southeast1-admin-a4a00.cloudfunctions.net/adminPicUploader",headers:{Authorization:"Basic ODU2NzZCNUEtOEE5MS00NzYwLUE4MTctODQ2MUIyQ0I3MTI0OjZCQ0FGQUY5LUVFQ0YtNDRBNi04QTBBLTg3RjFDQUYxQTQxNg==","Content-Type":"application/json"},data:c},e.abrupt("return",bn(s).then((function(e){return e.data})).catch((function(e){return e})));case 7:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();a(1735);function On(e){var t=Object(n.useState)([]),a=Object(i.a)(t,2),r=a[0],c=a[1],s=Object(n.useState)(null),o=Object(i.a)(s,2),l=o[0],u=o[1],d=Object(n.useState)(null),j=Object(i.a)(d,2),b=j[0],f=j[1],O=Object(n.useRef)(null),h=Object(n.useState)(null),x=Object(i.a)(h,2),p=x[0],m=x[1],g=function(){var e=Object(se.a)(ce.a.mark((function e(){var t,a,n,r,c;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ne();case 2:t=e.sent,a=Object(tn.a)(p),e.prev=4,a.s();case 6:if((n=a.n()).done){e.next=15;break}return r=n.value,e.next=10,fn(t,r);case 10:return c=e.sent,e.next=13,y(c);case 13:e.next=6;break;case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(4),a.e(e.t0);case 20:return e.prev=20,a.f(),e.finish(20);case 23:case"end":return e.stop()}}),e,null,[[4,17,20,23]])})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){!function(){var e;null===(e=O.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})}()}),[r]);var v=Object(n.useCallback)(Object(se.a)(ce.a.mark((function t(){var a,n,r;return ce.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=[],!e.activeConvo){t.next=12;break}return t.next=4,e.client.getConversationBySid(e.activeConvo.sid);case 4:return 0===(n=t.sent)._events.messageAdded.length&&n.addListener("messageAdded",v),n.channelState.lastMessage&&n.advanceLastReadMessageIndex(n.channelState.lastMessage.index),f(n),t.next=10,n.getMessages();case 10:r=t.sent,a=r.items.map((function(e){return{id:e.state.index,author:e.state.author,message:e.state.body,timestamp:e.state.timestamp}}));case 12:c(a);case 13:case"end":return t.stop()}}),t)}))),[e.activeConvo,e.client]);Object(n.useEffect)((function(){return v(),function(){b&&b.removeListener("messageAdded",v)}}),[b,v,e.activeConvo,e.client]);var y=function(){var e=Object(se.a)(ce.a.mark((function e(t){var a,n;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.sendMessage(t||l);case 2:return e.next=4,b.getMessages();case 4:a=e.sent,n=a.items.map((function(e){return{id:e.state.index,author:e.state.author,message:e.state.body,timestamp:e.state.timestamp}})),u(""),c(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(S.jsxs)("div",{className:"message-list",children:[Object(S.jsx)(qa,{title:e.activeConvo?e.activeConvo.name:"Select a conversation",rightItems:[Object(S.jsx)(Ga,{icon:"ion-ios-information-circle-outline"},"info"),Object(S.jsx)(Ga,{icon:"ion-ios-videocam"},"video"),Object(S.jsx)(Ga,{icon:"ion-ios-call"},"phone")]}),Object(S.jsxs)("div",{className:"message-list-container",children:[function(){for(var e=0,t=r.length,a=[];e<t;){var n=r[e-1],c=r[e],s=r[e+1],i="pBjefCCX5JXw6QbYFu2GR7rmouw1"===c.author,o=Ya()(c.timestamp),l=!0,u=!0,d=!0;if(n){var j=Ya()(n.timestamp),b=Ya.a.duration(o.diff(j));n.author===c.author&&b.as("hours")<1&&(l=!1),b.as("hours")<1&&(d=!1)}if(s){var f=Ya()(s.timestamp),O=Ya.a.duration(f.diff(o));s.author===c.author&&O.as("hours")<1&&(u=!1)}a.push(Object(S.jsx)(jn,{isMine:i,startsSequence:l,endsSequence:u,showTimestamp:d,data:c},e)),e+=1}return a}(),Object(S.jsx)("div",{ref:O})]}),Object(S.jsx)(ln,{value:l,onChange:u,onSend:y,onPicSend:g,onDrop:m,rightItems:[Object(S.jsx)(Ga,{icon:"ion-ios-camera"},"photo"),Object(S.jsx)(Ga,{icon:"ion-ios-image"},"image"),Object(S.jsx)(Ga,{icon:"ion-ios-mic"},"audio"),Object(S.jsx)(Ga,{icon:"ion-ios-card"},"money"),Object(S.jsx)(Ga,{icon:"ion-logo-game-controller-b"},"games"),Object(S.jsx)(Ga,{icon:"ion-ios-happy"},"emoji")]})]})}a(1736);function hn(e){var t=Object(n.useState)(null),a=Object(i.a)(t,2),r=a[0],c=a[1],s=Object(n.useState)(null),o=Object(i.a)(s,2),l=o[0],u=o[1];return Object(S.jsxs)("div",{className:"messenger",children:[Object(S.jsx)("div",{className:"scrollable sidebar",children:Object(S.jsx)(en,{setactiveConvo:c,setClient:u,client:l})}),Object(S.jsx)("div",{className:"scrollable content",children:Object(S.jsx)(On,{activeConvo:r,client:l})})]})}var xn=[Object(S.jsx)(Ot.b,{exact:!0,path:"/bookingstoday",component:Ba}),Object(S.jsx)(Ot.b,{exact:!0,path:"/todaydaycare",component:Aa}),Object(S.jsx)(Ot.b,{exact:!0,path:"/todaygrooming",component:Wa}),Object(S.jsx)(Ot.b,{exact:!0,path:"/grooming",component:Va}),Object(S.jsx)(Ot.b,{exact:!0,path:"/messenger",component:function(){return Object(S.jsxs)(Z.a,{children:[Object(S.jsx)(Ea.b,{title:"Messenger"}),Object(S.jsx)(hn,{})]})}})],pn=a(86),mn=a(191),gn=a(689),vn=a(590),yn=a(20),kn=a(242),Cn=a(202),wn=a(688),Sn=function(e){var t=e.authProvider,a=e.dataProvider,n=e.history,r=Object(pn.c)({admin:kn.a,router:Object(mn.b)(n)}),c=ce.a.mark((function e(){return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(yn.a)([Object(wn.a)(a,t)].map(yn.f));case 2:case"end":return e.stop()}}),e)})),s=Object(vn.a)(),i=pn.d,o=Object(pn.e)((function(e,t){return r(t.type!==Cn.g?e:void 0,t)}),{},i(Object(pn.a)(s,Object(gn.a)(n))));return s.run(c),o},Mn=a(1797),Dn=a(323),Nn=a(329),Pn=function(e){return Object(S.jsx)(h.a,Object(f.a)(Object(f.a)({},e),{},{children:Object(S.jsxs)(Dn.a,{rowClick:"edit",children:[Object(S.jsx)(p.a,{source:"id"}),Object(S.jsx)(p.a,{source:"description"}),Object(S.jsx)(p.a,{source:"name"}),Object(S.jsx)(Nn.a,{source:"amount"}),Object(S.jsx)(m.a,{source:"email"}),Object(S.jsx)(p.a,{source:"system"}),Object(S.jsx)(p.a,{source:"stripe_id"}),Object(S.jsx)(p.a,{source:"status"}),Object(S.jsx)(p.a,{source:"bookings"})]})}))},Yn=(a(1737),Object(b.b)()),Fn=function(){var e,t=n.useState(!1),a=Object(i.a)(t,2);a[0];return function(e){Se.getToken({vapidKey:"BGXh163BEaceHzjq8oIfgZfCnHEze0njY12K3FFlv8N0lLtNYTsKWpE0L7darB0Yiqzt2P_6VCcuHnSvo6beecs"}).then((function(t){t?(console.log("current token for client: ",t),e(!0)):(console.log("No registration token available. Request permission to generate one."),e(!1))})).catch((function(e){console.log("An error occurred while retrieving token. ",e),Ce.NotificationManager.error("Notifications not enabled!","Allow notifications and refresh page",5e5,(function(){alert("callback")}))}))}(a[1]),e=function(e){Ce.NotificationManager.success(e.notification.body,e.notification.title)},Se.onMessage((function(t){e(t)})),Object(S.jsx)(j.a,{store:Sn({authProvider:De,dataProvider:Me,history:Yn}),children:Object(S.jsx)(lt,{children:Object(S.jsxs)(Mn.a,{utils:Ge.a,children:[Object(S.jsx)(Ce.NotificationContainer,{}),Object(S.jsxs)(o.a,{disableTelemetry:!0,layout:Kt,history:Yn,customRoutes:xn,dashboard:qe,dataProvider:Me,authProvider:De,children:[Object(S.jsx)(l.a,{name:"clients",list:Y,icon:Re.a,create:T,to:"/clients",edit:E,options:{label:"Clients"}}),Object(S.jsx)(l.a,{name:"dogs",list:Le,create:Ue,edit:Ve}),Object(S.jsx)(l.a,{name:"dog_breeds",list:u.a}),Object(S.jsx)(l.a,{name:"bookings",list:ka,edit:d.a}),Object(S.jsx)(l.a,{name:"services",list:u.a}),Object(S.jsx)(l.a,{name:"payments",list:Pn})]})]})})})};s.a.render(Object(S.jsx)(r.a.StrictMode,{children:Object(S.jsx)(Fn,{})}),document.getElementById("root"))}},[[1738,1,2]]]);
//# sourceMappingURL=main.e82ecc20.chunk.js.map