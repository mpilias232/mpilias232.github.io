(this.webpackJsonpadmintry=this.webpackJsonpadmintry||[]).push([[0],{1078:function(e,t,n){},1522:function(e,t,n){},1523:function(e,t,n){},1524:function(e,t,n){},1525:function(e,t,n){},1526:function(e,t,n){},1527:function(e,t,n){},1620:function(e,t){},1644:function(e,t){},1682:function(e,t){},1715:function(e,t,n){},1716:function(e,t,n){},1717:function(e,t,n){},1718:function(e,t,n){},1721:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(33),s=n.n(c),i=(n(1078),n(41)),o=n(803),l=n(766),u=n(970),d=n(972),j=n(15),b=n(109),f=n(97),p=n(13),h=n.n(p),m=n(42),x=n(157),O=n(158),g=n(162),v=n(161),y=n(103),w=n(58),k=n(792),C=n(794),S=n(513),D=n(122),P=n(795),N=n(50),M=(n(979),n(2)),E=(Object(N.a)({link:{textDecoration:"none"},icon:{width:"0.5em",paddingLeft:2}}),n(738),n(245)),I=n.n(E),F=(n(635),n(636),n(246)),T=n.n(F),A=n(280),L=n.n(A),Y=(n(213),n(410)),R=n(720),B=n(182),W=n.n(B),U=(n(1722),n(155)),_={apiKey:"AIzaSyAUqOhdFbfRiCRqSzxKpYeTppBGsHfAAug",authDomain:"admin-a4a00.firebaseapp.com",databaseURL:"https://admin-a4a00-default-rtdb.firebaseio.com",projectId:"admin-a4a00",storageBucket:"admin-a4a00.appspot.com",messagingSenderId:"328849622350",appId:"1:328849622350:web:cf2cd21a20f108e7aeca1f",measurementId:"G-YKBC2Q28P1"};W.a.initializeApp(_);var Q=W.a.messaging(),V=Object(R.FirebaseDataProvider)(_,{}),G=Object(R.FirebaseAuthProvider)(_),q=function(){var e=Object(m.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G.checkAuth();case 2:return t=e.sent,e.abrupt("return",t.ya);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),z=function(){var e=Object(m.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,V.getList(t,{pagination:{page:1,perPage:1e4}});case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),J=function(){var e=Object(m.a)(h.a.mark((function e(){var t,a,r,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n(891),e.next=3,q();case 3:return a=e.sent,r=JSON.stringify({token:a}),c={method:"post",url:"https://australia-southeast1-admin-a4a00.cloudfunctions.net/getToken",headers:{Authorization:"Basic MkMzRDBFMkMtODQ3Qi00OEI4LUI1NTItOENCQTlDQkEzREQ4OjgwOEFGMDlBLTBFODgtNDU3Mi04QzJGLUUwOEIwOEE4N0RFMQ==","Content-Type":"application/json"},data:r},e.abrupt("return",t(c).then((function(e){return e.data})).catch((function(e){console.log(e)})));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),K=function(){var e=Object(m.a)(h.a.mark((function e(t,n){var a,r,c,s,i,o,l,u,d;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=W.a.storage(),r=[],c=a.ref(),e.prev=3,s=c.child("attachments/".concat(t)),e.next=7,s.listAll();case 7:i=e.sent,o=Object(Y.a)(i.items),e.prev=9,o.s();case 11:if((l=o.n()).done){e.next=19;break}return u=l.value,e.next=15,u.getDownloadURL();case 15:d=e.sent,r.push(d);case 17:e.next=11;break;case 19:e.next=24;break;case 21:e.prev=21,e.t0=e.catch(9),o.e(e.t0);case 24:return e.prev=24,o.f(),e.finish(24);case 27:e.next=32;break;case 29:return e.prev=29,e.t1=e.catch(3),e.abrupt("return",!1);case 32:return e.abrupt("return",r);case 33:case"end":return e.stop()}}),e,null,[[3,29],[9,21,24,27]])})));return function(t,n){return e.apply(this,arguments)}}(),X=function(){var e=Object(m.a)(h.a.mark((function e(){var t,n,a,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=W.a.storage(),n=t.ref(),a=n.child("attachments"),e.next=5,a.listAll();case 5:return r=(r=e.sent).prefixes.map((function(e){return e.location.path_.split("/")[1]})),e.abrupt("return",r);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),H=function(){var e=Object(m.a)(h.a.mark((function e(t,n,a){var r,c,s,i,o,l,u;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=W.a.storage(),c=r.ref(),s=n,e.prev=3,i=Object(Y.a)(a),e.prev=5,i.s();case 7:if((o=i.n()).done){e.next=15;break}return l=o.value,u=c.child("attachments/".concat(t,"/file").concat(s,".jpg")),s++,e.next=13,u.put(l);case 13:e.next=7;break;case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(5),i.e(e.t0);case 20:return e.prev=20,i.f(),e.finish(20);case 23:e.next=27;break;case 25:e.prev=25,e.t1=e.catch(3);case 27:case"end":return e.stop()}}),e,null,[[3,25],[5,17,20,23]])})));return function(t,n,a){return e.apply(this,arguments)}}(),Z=n(179),$=n.n(Z),ee=n(49),te=n.n(ee),ne=n(240),ae=n.n(ne);window.moment=te.a;n(170);var re=function(e){Object(g.a)(n,e);var t=Object(v.a)(n);function n(e){var a;return Object(x.a)(this,n),(a=t.call(this,e)).filterTypes=Object.assign({},I.a.defaultProps.filterTypes,{dogs:{type:"string",emptyValue:"",operators:[{name:"contains",fn:function(e){var t=e.value,n=e.filterValue;e.data;return!n||t&&t.map((function(e){if(-1!=e.dog_name.toLowerCase().indexOf(n.toLowerCase()))return!0}))[0]}}]}}),a.columns=[{name:"name",header:"Name",defaultWidth:200},{name:"email",header:"E-mail",defaultWidth:280,render:function(e){var t=e.value;return Object(M.jsx)("a",{href:"mailto:"+t,children:t})}},{name:"phone",header:"Phone",defaultWidth:150},{name:"dog",header:"Dog",defaultWidth:200,render:function(e){var t=e.value;e.data;try{return Object(M.jsx)(M.Fragment,{children:t.map((function(e){return Object(M.jsx)("a",{href:"#dogs/"+e.id,children:Object(M.jsx)("span",{style:{paddingRight:"5px"},children:e.dog_name})})}))})}catch(n){return}}},{name:"instagram",header:"Instagram",defaultWidth:150}],a.gridStyle={minHeight:550},a.defaultFilterValue=[{name:"phone",operator:"contains",type:"string",value:""},{name:"email",operator:"contains",type:"string",value:""},{name:"name",operator:"contains",type:"string",value:""},{name:"dog",operator:"contains",type:"dogs",value:""},{name:"instagram",operator:"contains",type:"string",value:""}],a.create=function(e){var t=a.state.rows,n=e.id,r=e.data();r.id=n,t.push(r)},a.update=function(e){var t=a.state.rows,n=e.id,r=a.state.rows.findIndex((function(e){return e.id===n}));t[r]=e.data(),t[r].id=n,a.setState({rows:t})},a.state={selected:{},filter:!1,rows:[],length:null},a}return Object(O.a)(n,[{key:"componentDidMount",value:function(){var e=Object(m.a)(h.a.mark((function e(){var t,n,a=this;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,V.getList("clients",{pagination:{page:1,perPage:1e6}});case 2:return t=e.sent,e.next=5,Promise.all(t.data.map(function(){var e=Object(m.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,V.getManyReference("dogs",{filter:{owner:t.id},pagination:{page:1,perPage:1e6}});case 2:return n=e.sent,t.dog=n.data,e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:n=e.sent,this.setState({rows:n,length:t.total}),this.subs=B.firestore().collection("clients").onSnapshot((function(e){e.docChanges().length!==a.state.length&&e.docChanges().forEach((function(e){"added"===e.type?a.create(e.doc):"modified"===e.type&&a.update(e.doc)}))}));case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){this.subs()}},{key:"render",value:function(){var e=this;return Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(y.b,{title:"Clients"}),Object(M.jsxs)("div",{children:[Object(M.jsx)(w.a,{label:"Filters",onClick:function(){return e.setState({filter:!e.state.filter})},children:Object(M.jsx)(ae.a,{})}),1===Object.keys(this.state.selected).length&&Object(M.jsx)(k.a,{basePath:"/clients",label:"Edit",record:Object.values(this.state.selected)[0]}),0!==Object.keys(this.state.selected).length&&Object(M.jsx)(w.a,{label:"Message Client",children:Object(M.jsx)($.a,{})})]}),Object(M.jsx)(I.a,{idProperty:"id",columns:this.columns,dataSource:this.state.rows,filterTypes:this.filterTypes,style:this.gridStyle,defaultFilterValue:this.defaultFilterValue,onSelectionChange:function(t){return e.setState({selected:t.selected})},enableFiltering:this.state.filter,multiSelect:!0,checkboxColumn:!0})]})}}]),n}(a.Component),ce=function(e){var t=e.record;return Object(M.jsxs)("span",{children:["Client ",t?'"'.concat(t.name,'"'):""]})},se=function(e){return Object(M.jsx)(C.a,Object(f.a)(Object(f.a)({},e),{},{children:Object(M.jsxs)(S.a,{children:[Object(M.jsx)(D.a,{source:"name",label:"Name"}),Object(M.jsx)(D.a,{source:"phone",label:"Phone"}),Object(M.jsx)(D.a,{source:"email",label:"Email"}),Object(M.jsx)(D.a,{source:"instagram",label:"Instagram"})]})}))},ie=function(e){return Object(M.jsx)(P.a,Object(f.a)(Object(f.a)({title:Object(M.jsx)(ce,{})},e),{},{children:Object(M.jsxs)(S.a,{children:[Object(M.jsx)(D.a,{source:"name",label:"Name"}),Object(M.jsx)(D.a,{source:"phone",label:"Phone"}),Object(M.jsx)(D.a,{source:"email",label:"Email"}),Object(M.jsx)(D.a,{source:"instagram",label:"Instagram"})]})}))},oe=n(971),le=n(798),ue=n(518),de=n(799),je=n(399),be=n(545),fe=n(516),pe=n(1019),he=n.n(pe),me=n(345),xe=n.n(me),Oe=n(1738),ge=n(721),ve=n.n(ge),ye=n(204),we=n.n(ye),ke=n(402),Ce=n.n(ke),Se=n(1022),De=n.n(Se),Pe=n(788),Ne=n(789),Me=n(790),Ee=n(791),Ie=n(1020),Fe=n.n(Ie),Te=n(341),Ae=n.n(Te),Le=function(e){return Object(M.jsx)(a.Fragment,{children:Object(M.jsxs)(Pe.a,{open:e.open,children:[Object(M.jsx)(Ne.a,{children:"Upload Pictures"}),Object(M.jsx)(Me.a,{children:Object(M.jsx)(Fe.a,{withIcon:!0,buttonText:"Choose images",onChange:e.onDrop,imgExtension:[".jpg",".jpeg",".png"],withPreview:!0})}),Object(M.jsxs)(Ee.a,{children:[Object(M.jsx)(w.a,{label:"Cancel",onClick:e.onCancel,children:Object(M.jsx)(Ae.a,{})}),Object(M.jsx)(w.a,{onClick:function(){e.onPicSend(),e.onCancel()},label:"Send",children:Object(M.jsx)($.a,{})})]})]})})},Ye=n(1021),Re=n.n(Ye),Be=n(1736),We=n(414),Ue=function(e){return Object(M.jsx)(a.Fragment,{children:Object(M.jsxs)(Pe.a,{open:e.open,children:[Object(M.jsx)(Ne.a,{children:"Delete Pictures"}),Object(M.jsx)(Me.a,{children:Object(M.jsx)(Be.a,{labelId:"demo-simple-select-disabled-label",id:"demo-simple-select-disabled",children:Array(e.length).map((function(e){return Object(M.jsx)(We.a,{value:e,children:"File".concat(e)})}))})}),Object(M.jsxs)(Ee.a,{children:[Object(M.jsx)(w.a,{label:"Cancel",onClick:e.onCancel,children:Object(M.jsx)(Ae.a,{})}),Object(M.jsx)(w.a,{label:"Delete",children:Object(M.jsx)(Re.a,{})})]})]})})},_e=n(178),Qe=n.n(_e);function Ve(e){var t=r.a.useState([]),n=Object(i.a)(t,2),a=n[0],c=n[1],s=r.a.useState(!1),o=Object(i.a)(s,2),l=o[0],u=o[1],d=r.a.useState(!1),j=Object(i.a)(d,2),b=j[0],f=j[1],p=r.a.useState(null),x=Object(i.a)(p,2),O=x[0],g=x[1],v=r.a.useState(null),y=Object(i.a)(v,2);y[0],y[1];function k(){return(k=Object(m.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H(t,a.length,O);case 2:return e.next=4,C();case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C(){return S.apply(this,arguments)}function S(){return(S=Object(m.a)(h.a.mark((function t(){var n;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=[],t.next=3,K(e.record.id,!0);case 3:t.sent.forEach((function(e){var t={};t.src=e,n.push(t)})),c(n);case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return r.a.useEffect((function(){C()}),[]),Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(w.a,{label:"Upload",onClick:function(){return u(!l)},children:Object(M.jsx)(De.a,{})}),0!==a.length&&Object(M.jsx)(w.a,{label:"Delete Picture",onClick:function(){return f(!b)},children:Object(M.jsx)(Qe.a,{})}),Object(M.jsx)("div",{children:a!==[]&&Object(M.jsx)(Ce.a,{images:a})}),Object(M.jsx)(Le,{onDrop:function(e){g(e)},onPicSend:function(){return function(e){return k.apply(this,arguments)}(e.record.id)},open:l,onCancel:function(){u(!l)}}),Object(M.jsx)(Ue,{open:b,onCancel:function(){return f(!b)},length:a.length})]})}window.moment=te.a;n(170);var Ge=function(e){Object(g.a)(n,e);var t=Object(v.a)(n);function n(e){var a;return Object(x.a)(this,n),(a=t.call(this,e)).filterTypes=Object.assign({},I.a.defaultProps.filterTypes,{client:{type:"string",emptyValue:"",operators:[{name:"contains",fn:function(e){var t=e.value,n=e.filterValue;e.data;return!n||t&&-1!=t.name.toLowerCase().indexOf(n.toLowerCase())}}]}}),a.columns=[{name:"dog_name",header:"Name",defaultWidth:200},{name:"client",header:"Client",defaultWidth:200,filterEditor:he.a,render:function(e){var t=e.value;e.data;try{return Object(M.jsx)(M.Fragment,{children:Object(M.jsx)("a",{href:"#clients/"+t.id,children:Object(M.jsx)("span",{style:{paddingRight:"5px"},children:t.name})})})}catch(n){return}}},{name:"breed",header:"Breed",defaultWidth:200,render:function(e){var t=e.value;return t&&Object(M.jsx)(Oe.a,{color:"primary",style:{backgroundColor:"orange"},label:t},t)}},{name:"vet_email",header:"Vet Email",defaultWidth:200},{name:"vet",header:"Vet",defaultWidth:200},{name:"DaycareAttendee",header:"Daycare Attendee",defaultWidth:150,filterEditor:xe.a,render:function(e){return e.value&&Object(M.jsx)(we.a,{htmlColor:"green",style:{textAlign:"center",verticalAlign:"center"}})}},{name:"dogdob",header:"DOB",filterEditor:T.a,defaultWidth:200},{name:"comments",header:"Comments",defaultWidth:200},{name:"sex",header:"Sex",defaultWidth:100,filterEditor:L.a,filterEditorProps:{multiple:!0,wrapMultiple:!1,dataSource:["Male","Female"].map((function(e){return{id:e,label:e}}))}},{name:"desexed",header:"Desexed",defaultWidth:100,render:function(e){return e.value&&Object(M.jsx)(we.a,{htmlColor:"pink",style:{textAlign:"center",verticalAlign:"center"}})},filterEditor:xe.a},{name:"PassedTemperamentTrial",header:"Passed Temperament Trial",defaultWidth:150,filterEditor:xe.a,render:function(e){return e.value&&Object(M.jsx)(we.a,{htmlColor:"blue",style:{textAlign:"center",verticalAlign:"center"}})}},{name:"kcDue",header:"KC Due",defaultWidth:200,filterEditor:T.a},{name:"c3Due",header:"C3 Due",defaultWidth:200,filterEditor:T.a},{name:"attachments",header:"Attachments",defaultWidth:130,render:function(e){return e.value&&Object(M.jsx)(we.a,{htmlColor:"red",style:{textAlign:"center",verticalAlign:"center"}})}}],a.gridStyle={minHeight:550},a.defaultFilterValue=[{name:"dog_name",operator:"contains",type:"string",value:""},{name:"client",operator:"contains",type:"client",value:""},{name:"breed",operator:"contains",type:"string",value:""},{name:"vet_email",operator:"contains",type:"string",value:""},{name:"vet",operator:"contains",type:"string",value:""},{name:"DaycareAttendee",operator:"eq",type:"boolean",value:null},{name:"dogdob",operator:"beforeOrOn",type:"date",value:""},{name:"comments",operator:"contains",type:"string",value:""},{name:"sex",operator:"inlist",type:"select",value:null},{name:"desexed",operator:"eq",type:"boolean",value:null},{name:"PassedTemperamentTrial",operator:"eq",type:"boolean",value:null},{name:"kcDue",operator:"beforeOrOn",type:"date",value:""},{name:"c3Due",operator:"beforeOrOn",type:"date",value:""}],a.state={selected:{},filter:!1,rows:[],length:null},a}return Object(O.a)(n,[{key:"componentDidMount",value:function(){var e=Object(m.a)(h.a.mark((function e(){var t,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X();case 2:return t=e.sent,e.next=5,V.getList("dogs",{pagination:{page:1,perPage:1e6}});case 5:n=e.sent,Promise.all(n.data.map(function(){var e=Object(m.a)(h.a.mark((function e(n){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,V.getManyReference("clients",{filter:{id:n.owner},pagination:{page:1,perPage:1e6}});case 2:return a=e.sent,n.client=a.data[0],n.attachments=t.indexOf(n.id)>-1,e.abrupt("return");case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),this.setState({rows:n.data,length:n.total});case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){var e=this;return Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(y.b,{title:"Dogs"}),Object(M.jsxs)("div",{children:[Object(M.jsx)(w.a,{label:"Filters",onClick:function(){return e.setState({filter:!e.state.filter})},children:Object(M.jsx)(ae.a,{})}),1===Object.keys(this.state.selected).length&&Object(M.jsx)(k.a,{basePath:"/dogs",label:"Edit",record:Object.values(this.state.selected)[0]}),0!==Object.keys(this.state.selected).length&&Object(M.jsx)(w.a,{label:"Message Client",children:Object(M.jsx)($.a,{})})]}),Object(M.jsx)(I.a,{idProperty:"id",columns:this.columns,filterTypes:this.filterTypes,dataSource:this.state.rows,style:this.gridStyle,defaultFilterValue:this.defaultFilterValue,onSelectionChange:function(t){return e.setState({selected:t.selected})},enableFiltering:this.state.filter,multiSelect:!0,checkboxColumn:!0})]})}}]),n}(a.Component),qe=function(e){var t=e.record;return Object(M.jsxs)("span",{children:["Dog ",t?'"'.concat(t.dog_name,'"'):""]})},ze=function(e){return Object(M.jsx)(P.a,Object(f.a)(Object(f.a)({title:Object(M.jsx)(qe,{})},e),{},{children:Object(M.jsxs)(oe.a,{children:[Object(M.jsxs)(le.a,{label:"Dog Details",children:[Object(M.jsx)(D.a,{source:"dog_name",label:"Dog Name"}),Object(M.jsx)(ue.a,{filterToQuery:function(e){return{name:e}},source:"owner",reference:"clients",children:Object(M.jsx)(de.a,{optionText:"name"})}),Object(M.jsx)(je.a,{source:"sex",choices:[{id:"M",name:"Male"},{id:"F",name:"Female"}],label:"Sex"}),Object(M.jsx)(be.a,{source:"desexed",options:{checkedIcon:Object(M.jsx)(ve.a,{})}})]}),Object(M.jsxs)(le.a,{label:"Medical Details",children:[Object(M.jsx)(D.a,{source:"vet",label:"Vet"}),Object(M.jsx)(D.a,{source:"vet_email",label:"Vet Email"}),Object(M.jsx)(fe.a,{source:"kc_due",label:"KC Due",options:{format:"DD/MM/YYYY"}}),Object(M.jsx)(fe.a,{source:"c3_due",label:"C3 Due",options:{format:"DD/MM/YYYY"}}),Object(M.jsx)(fe.a,{source:"c5_due",label:"C5 Due",options:{format:"DD/MM/YYYY"}})]}),Object(M.jsx)(le.a,{label:"Attachments",children:Object(M.jsx)(Ve,{check:!0})})]})}))},Je=function(e){return Object(M.jsx)(C.a,Object(f.a)(Object(f.a)({},e),{},{children:Object(M.jsxs)(oe.a,{children:[Object(M.jsxs)(le.a,{label:"Dog Details",children:[Object(M.jsx)(ue.a,{filterToQuery:function(e){return{name:e}},source:"owner",reference:"clients",children:Object(M.jsx)(de.a,{optionText:"name"})}),Object(M.jsx)(D.a,{source:"dog_name",label:"Dog Name"}),Object(M.jsx)(D.a,{source:"breed",label:"Breed"}),Object(M.jsx)(je.a,{source:"sex",choices:[{id:"M",name:"Male"},{id:"F",name:"Female"}],label:"Sex"}),Object(M.jsx)(be.a,{source:"desexed",options:{checkedIcon:Object(M.jsx)(ve.a,{})}})]}),Object(M.jsxs)(le.a,{label:"Medical Details",children:[Object(M.jsx)(D.a,{source:"vet",label:"Vet"}),Object(M.jsx)(D.a,{source:"vet_email",label:"Vet Email"}),Object(M.jsx)(fe.a,{source:"kc_due",label:"KC Due",options:{format:"DD/MM/YYYY"}}),Object(M.jsx)(fe.a,{source:"c3_due",label:"C3 Due",options:{format:"DD/MM/YYYY"}}),Object(M.jsx)(fe.a,{source:"c5_due",label:"C5 Due",options:{format:"DD/MM/YYYY"}})]})]})}))},Ke=n(580),Xe=n.n(Ke),He=n(723),Ze=n(1779),$e=n(724),et=function(){return Object(M.jsxs)(He.a,{children:[Object(M.jsx)(Ze.a,{title:"Welcome to the administration"}),Object(M.jsx)($e.a,{children:"Lorem ipsum sic dolor amet..."})]})},tt=n(1023),nt=n(710),at=n(525),rt=n(62),ct=n(146),st=n(722),it=n(1045),ot=n(1026),lt=n.n(ot),ut=n(1780),dt=r.a.createContext(),jt=(dt.Consumer,function(e){Object(g.a)(n,e);var t=Object(v.a)(n);function n(){var e;Object(x.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={notifications:[]},e.setNotifications=function(t){var n=e.state.notifications;n.push(t),e.setState({notifications:n})},e.removeNotif=function(t){e.setState({notifications:e.state.notifications.filter((function(e){return e!==t}))})},e.removeAllMessNotif=function(t){e.setState({notifications:e.state.notifications.filter((function(e){return e.convoItem.sid!==t.sid}))})},e}return Object(O.a)(n,[{key:"render",value:function(){var e=this.props.children,t=this.state.notifications,n=this.setNotifications,a=this.removeNotif,r=this.removeAllMessNotif;return Object(M.jsx)(dt.Provider,{value:{notifications:t,setNotifications:n,removeNotif:a,removeAllMessNotif:r},children:e})}}]),n}(r.a.Component)),bt=dt,ft=n(1025),pt=n.n(ft),ht=n(1024),mt=n.n(ht),xt=n(30);function Ot(e){var t=r.a.useContext(bt),n=t.notifications,a=t.removeNotif,c=r.a.useState(null),s=Object(i.a)(c,2),o=s[0],l=s[1],u=Object(xt.g)();return Object(M.jsx)("div",{children:Object(M.jsxs)(ut.a,{style:{height:"25px",width:"45px"},badgeContent:n.length,color:"error",children:[Object(M.jsx)(ct.a,{"aria-controls":"simple-menu","aria-haspopup":"true",onClick:function(e){l(e.currentTarget)},children:Object(M.jsx)(lt.a,{htmlColor:"white"})}),Object(M.jsx)(st.a,{id:"simple-menu",anchorEl:o,keepMounted:!0,open:Boolean(o),onClose:function(){l(null)},children:n.length>0?n.map((function(e){return Object(M.jsxs)(We.a,{onClick:function(){a(e),u.push("/messenger")},children:[(t=e,"payment"===t.type?Object(M.jsx)(it.a,{children:Object(M.jsx)(mt.a,{fontSize:"small"})}):"message"===t.type?Object(M.jsx)(it.a,{children:Object(M.jsx)(pt.a,{fontSize:"small"})}):void 0),e.message]});var t})):Object(M.jsx)(We.a,{disabled:!0,children:"All Caught Up"})})]})})}var gt=Object(N.a)({title:{flex:1,textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"},spacer:{flex:1}}),vt=function(e){var t=gt();return Object(M.jsxs)(at.a,Object(f.a)(Object(f.a)({},e),{},{children:[Object(M.jsx)(rt.a,{variant:"h6",color:"inherit",className:t.title,id:"react-admin-title"}),Object(M.jsx)("span",{className:t.spacer}),Object(M.jsx)(Ot,{})]}))},yt=n(118),wt=n(527),kt=n(331),Ct=n(1775),St=n(1729),Dt=n(1778),Pt=n(1781),Nt=n(583),Mt=n.n(Nt),Et=n(199),It=n.n(Et),Ft=n(708),Tt=n.n(Ft),At=n(579),Lt=n.n(At),Yt=n(1027),Rt=n.n(Yt),Bt=n(1028),Wt=n.n(Bt),Ut=n(1029),_t=n.n(Ut),Qt=n(347),Vt=n.n(Qt),Gt=n(1030),qt=n.n(Gt),zt=n(1031),Jt=n.n(zt),Kt=n(1032),Xt=n.n(Kt),Ht=Object(N.a)((function(e){return{root:{width:"100%",maxWidth:360,backgroundColor:e.palette.background.paper},nested:{paddingLeft:e.spacing(4)}}}));function Zt(e){var t=e.onMenuClick,n=(e.logout,Ht()),r=a.useState(!1),c=Object(i.a)(r,2),s=c[0],o=c[1],l=a.useState(!1),u=Object(i.a)(l,2),d=u[0],b=u[1],f=a.useState(!1),p=Object(i.a)(f,2),h=p[0],m=p[1];Object(j.f)(yt.d);return Object(M.jsxs)(Ct.a,{component:"nav",className:n.root,children:[Object(M.jsx)(wt.a,{onClick:t,sidebarIsOpen:s}),Object(M.jsx)(kt.a,{to:"/clients",primaryText:"Clients",leftIcon:Object(M.jsx)(Tt.a,{}),onClick:t,sidebarIsOpen:s},"clients"),Object(M.jsxs)(St.a,{button:!0,onClick:function(){o(!s)},children:[Object(M.jsx)(it.a,{children:Object(M.jsx)(Xe.a,{})}),Object(M.jsx)(Dt.a,{primary:"Dogs"}),s?Object(M.jsx)(Mt.a,{}):Object(M.jsx)(It.a,{})]}),Object(M.jsx)(Pt.a,{in:s,timeout:"auto",unmountOnExit:!0,children:Object(M.jsx)(kt.a,{className:n.nested,disablePadding:!0,to:"/dogs",primaryText:"All Dogs",leftIcon:Object(M.jsx)(Lt.a,{}),onClick:t,sidebarIsOpen:s},"dogs")}),Object(M.jsxs)(St.a,{button:!0,onClick:function(){b(!d)},children:[Object(M.jsx)(it.a,{children:Object(M.jsx)(Rt.a,{})}),Object(M.jsx)(Dt.a,{primary:"Bookings"}),d?Object(M.jsx)(Mt.a,{}):Object(M.jsx)(It.a,{})]}),Object(M.jsxs)(Pt.a,{in:d,timeout:"auto",unmountOnExit:!0,children:[Object(M.jsx)(kt.a,{className:n.nested,disablePadding:!0,to:"/bookings",primaryText:"All Bookings",leftIcon:Object(M.jsx)(Wt.a,{}),onClick:t,sidebarIsOpen:s},"bookings"),Object(M.jsx)(kt.a,{className:n.nested,disablePadding:!0,to:"/bookingstoday",primaryText:"Bookings Today",leftIcon:Object(M.jsx)(Vt.a,{}),onClick:t,sidebarIsOpen:s},"bookingstoday"),Object(M.jsx)(kt.a,{className:n.nested,disablePadding:!0,to:"/todaydaycare",primaryText:"Today Daycare",leftIcon:Object(M.jsx)(Vt.a,{}),onClick:t,sidebarIsOpen:s},"todaydaycare"),Object(M.jsx)(kt.a,{className:n.nested,disablePadding:!0,to:"/todaygrooming",primaryText:"Today Grooming",leftIcon:Object(M.jsx)(Vt.a,{}),onClick:t,sidebarIsOpen:s},"todaygrooming"),Object(M.jsx)(kt.a,{className:n.nested,disablePadding:!0,to:"/grooming",primaryText:"Grooming",leftIcon:Object(M.jsx)(Vt.a,{}),onClick:t,sidebarIsOpen:s},"grooming"),Object(M.jsx)(kt.a,{className:n.nested,disablePadding:!0,to:"/daycare",primaryText:"Daycare",leftIcon:Object(M.jsx)(Vt.a,{}),onClick:t,sidebarIsOpen:s},"daycare"),Object(M.jsx)(kt.a,{className:n.nested,disablePadding:!0,to:"/services",primaryText:"Services",leftIcon:Object(M.jsx)(_t.a,{}),onClick:t,sidebarIsOpen:s},"services")]}),Object(M.jsxs)(St.a,{button:!0,onClick:function(){m(!h)},children:[Object(M.jsx)(it.a,{children:Object(M.jsx)(qt.a,{})}),Object(M.jsx)(Dt.a,{primary:"Payments"}),h?Object(M.jsx)(Mt.a,{}):Object(M.jsx)(It.a,{})]}),Object(M.jsx)(Pt.a,{in:h,timeout:"auto",unmountOnExit:!0,children:Object(M.jsx)(kt.a,{className:n.nested,disablePadding:!0,to:"/payments",primaryText:"All Payments",leftIcon:Object(M.jsx)(Jt.a,{}),onClick:t,sidebarIsOpen:s},"payments")}),Object(M.jsx)(kt.a,{to:"/messenger",primaryText:"Messenger",leftIcon:Object(M.jsx)(Xt.a,{}),onClick:t,sidebarIsOpen:s},"messenger")]})}var $t=function(e){return Object(M.jsx)(nt.a,Object(f.a)(Object(f.a)({},e),{},{menu:Zt,appBar:vt}))},en=n(283),tn=n(539),nn=n.n(tn),an=n(1033),rn=n.n(an),cn=n(1034),sn=n.n(cn),on=n(411),ln=n.n(on);n(1522);window.moment=te.a;var un=n(170),dn=function(e){Object(g.a)(n,e);var t=Object(v.a)(n);function n(e){var a;return Object(x.a)(this,n),(a=t.call(this,e)).state={rows:[]},a}return Object(O.a)(n,[{key:"componentDidMount",value:function(){var e=Object(m.a)(h.a.mark((function e(){var t,n,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.props.selected){e.next=8;break}return(t=this.props.selected).sort((function(e,t){return new Date(e.start)-new Date(t.start)})),e.next=5,Promise.all(t.map(function(){var e=Object(m.a)(h.a.mark((function e(t){var n,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,V.getManyReference("clients",{filter:{id:t.client_ref||""},pagination:{page:1,perPage:1e6}});case 2:return n=e.sent,t.instagram=n.data[0].instagram?n.data[0].instagram:null,e.next=6,V.getManyReference("dogs",{filter:{owner:t.client_ref||null},pagination:{page:1,perPage:1e6}});case 6:return a=e.sent,t.breed=a.data[0].breed?a.data[0].breed:null,e.abrupt("return",t);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:this.setState({rows:t}),e.next=17;break;case 8:return n=new Date,e.next=11,V.getList("bookings",{pagination:{page:1,perPage:1e6},filter:{category:"daycare",start:un(n,"yyyy-mm-dd")}});case 11:return(a=e.sent).data.sort((function(e,t){return new Date(e.start)-new Date(t.start)})),a=a.data,e.next=16,Promise.all(a.map(function(){var e=Object(m.a)(h.a.mark((function e(t){var n,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,V.getManyReference("clients",{filter:{id:t.client_ref||""},pagination:{page:1,perPage:1e6}});case 2:return n=e.sent,t.instagram=n.data[0].instagram?n.data[0].instagram:null,e.next=6,V.getManyReference("dogs",{filter:{owner:t.client_ref||null},pagination:{page:1,perPage:1e6}});case 6:return a=e.sent,t.breed=a.data[0].breed?a.data[0].breed:null,e.abrupt("return",t);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 16:this.setState({rows:a});case 17:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(M.jsxs)("div",{children:[Object(M.jsx)("h1",{children:"Daycare Attendance List"}),Object(M.jsxs)("table",{children:[Object(M.jsxs)("thead",{children:[Object(M.jsx)("th",{children:"Time"}),Object(M.jsx)("th",{children:"Client"}),Object(M.jsx)("th",{children:"Dog"}),Object(M.jsx)("th",{children:"Breed"}),Object(M.jsx)("th",{children:"Instagram"})]}),Object(M.jsx)("tbody",{children:Object.keys(this.state.rows).length>0&&Object.values(this.state.rows).map((function(e){return Object(M.jsxs)("tr",{children:[Object(M.jsx)("td",{children:te()(e.start).format("hh:mm A")}),Object(M.jsx)("td",{children:e.name}),Object(M.jsx)("td",{children:e.dogName}),Object(M.jsx)("td",{children:e.breed}),Object(M.jsx)("td",{children:e.instagram})]})}))})]})]})}}]),n}(r.a.PureComponent),jn=function(e){Object(g.a)(n,e);var t=Object(v.a)(n);function n(e){var a;return Object(x.a)(this,n),(a=t.call(this,e)).state={rows:[]},a}return Object(O.a)(n,[{key:"componentDidMount",value:function(){var e=Object(m.a)(h.a.mark((function e(){var t,n,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.props.selected){e.next=8;break}return(t=this.props.selected).sort((function(e,t){return new Date(e.start)-new Date(t.start)})),e.next=5,Promise.all(t.map(function(){var e=Object(m.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,V.getManyReference("dogs",{filter:{owner:t.client_ref||null},pagination:{page:1,perPage:1e6}});case 2:return n=e.sent,t.breed=n.data[0].breed?n.data[0].breed:null,e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:this.setState({rows:t}),e.next=17;break;case 8:return n=new Date,e.next=11,V.getList("bookings",{pagination:{page:1,perPage:1e6},filter:{category:"stylist",start:un(n,"yyyy-mm-dd")}});case 11:return(a=e.sent).data.sort((function(e,t){return new Date(e.start)-new Date(t.start)})),a=a.data,e.next=16,Promise.all(a.map(function(){var e=Object(m.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,V.getManyReference("dogs",{filter:{owner:t.client_ref||null},pagination:{page:1,perPage:1e6}});case 2:return n=e.sent,t.breed=n.data[0].breed?n.data[0].breed:null,e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 16:this.setState({rows:a});case 17:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(M.jsxs)("div",{children:[Object(M.jsx)("h1",{children:"Grooming Attendance List"}),Object(M.jsxs)("table",{children:[Object(M.jsxs)("thead",{children:[Object(M.jsx)("th",{children:"Time"}),Object(M.jsx)("th",{children:"Client"}),Object(M.jsx)("th",{children:"Dog"}),Object(M.jsx)("th",{children:"Breed"}),Object(M.jsx)("th",{children:"Service"}),Object(M.jsx)("th",{children:"AddOns"})]}),Object(M.jsx)("tbody",{children:Object.keys(this.state.rows).length>0&&Object.values(this.state.rows).map((function(e){return Object(M.jsxs)("tr",{children:[Object(M.jsx)("td",{children:te()(e.start).format("hh:mm A")}),Object(M.jsx)("td",{children:e.name}),Object(M.jsx)("td",{children:e.dogName}),Object(M.jsx)("td",{children:e.breed}),Object(M.jsx)("td",{children:e.service}),Object(M.jsx)("td",{children:e.addOns.map((function(e){return Object(M.jsxs)(M.Fragment,{children:[e,Object(M.jsx)("br",{})]})}))})]})}))})]})]})}}]),n}(r.a.PureComponent);window.moment=te.a;n(170);var bn=function(e){Object(g.a)(n,e);var t=Object(v.a)(n);function n(e){var a;return Object(x.a)(this,n),(a=t.call(this,e)).onEditComplete=function(){var e=Object(m.a)(h.a.mark((function e(t){var n,r,c,s;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.value,r=t.columnId,t.rowIndex,c=t.data,e.prev=1,"checkedIn"!==r){e.next=8;break}return(s=a.props.rows)[s.findIndex((function(e){return e.id===c.id}))].checkedIn=n,a.props.setRows(s),e.next=8,V.update("bookings",{id:c.id,data:{checkedIn:n}});case 8:e.next=12;break;case 10:e.prev=10,e.t0=e.catch(1);case 12:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}(),a.getService=function(){return V.getList("services",{pagination:{page:1,perPage:1e5}}).then((function(e){return e.data.map((function(e){return{id:e.service,label:"".concat(e.service,"-").concat(e.category)}}))}))},a.getCategory=function(){return V.getList("services",{pagination:{page:1,perPage:1e5}}).then((function(e){return Object(en.a)(new Set(e.data.map((function(e){return{id:e.category,label:e.category}}))))}))},a.columns=[{name:"name",header:"Name",defaultWidth:200,render:function(e){var t=e.value,n=e.data;return n.client_ref?Object(M.jsx)("a",{href:"#clients/"+n.client_ref,children:t}):Object(M.jsx)("span",{children:t})},editable:!1},{name:"dogName",header:"Dog",defaultWidth:150,render:function(e){var t=e.value,n=e.data;return n.dog_ref?Object(M.jsx)("a",{href:"#dogs/"+n.dog_ref,children:t}):Object(M.jsx)("span",{children:t})},editable:!1},{name:"status",header:"Status",defaultWidth:101,filterEditor:L.a,filterEditorProps:{multiple:!0,wrapMultiple:!1,dataSource:[{id:"cancelled",label:"Cancelled"},{id:"confirmed",label:"Confirmed"},{id:"modified",label:"Modified"}]},render:function(e){var t=e.value;e.data;return"confirmed"===t?Object(M.jsx)(Oe.a,{color:"primary",style:{backgroundColor:"green"},label:"Confirmed"},t):"modified"===t?Object(M.jsx)(Oe.a,{color:"primary",style:{backgroundColor:"orange"},label:"Modified"},t):"cancelled"===t?Object(M.jsx)(Oe.a,{color:"primary",style:{backgroundColor:"red"},label:"Cancelled"},t):void 0},editable:!1},{name:"checkedIn",header:"Checked In",width:100,filterEditor:xe.a,render:function(e){return e.value?Object(M.jsx)(we.a,{htmlColor:"green",style:{textAlign:"center",verticalAlign:"center"}}):null},editor:rn.a},{name:"service",header:"Service",defaultWidth:250,filterEditor:L.a,filterEditorProps:{multiple:!0,wrapMultiple:!1,dataSource:a.getService()},editable:!1},{name:"category",header:"Category",defaultWidth:150,filterEditor:L.a,filterEditorProps:{multiple:!0,wrapMultiple:!1,dataSource:a.getCategory()},editable:!1},{name:"date",header:"Booking Date",defaultWidth:138,filterEditor:T.a,filterEditorProps:function(e,t){return{dateFormat:"ddd DD/MM/YYYY",placeholder:1===t.index?"Bookings date is before...":"Booking date is on..."}},render:function(e){var t=e.value;e.cellProps.dateFormat;return te()(t).format("ddd DD/MM/YYYY")},editable:!1},{name:"end",header:"Start Time",defaultWidth:150,filterEditor:T.a,filterEditorProps:function(e,t){return{dateFormat:"ddd DD/MM/YYYY",placeholder:1===t.index?"Bookings date is before...":"Booking date is on..."}},render:function(e){e.value;var t=e.data;return"".concat(te()(t.start).format("hh:mm A"))},editable:!1},{name:"addOns",header:"AddOns",defaultWidth:180,render:function(e){var t=e.value;return 0!==t.length?Object(M.jsx)(M.Fragment,{children:t.map((function(e){return Object(M.jsx)(Oe.a,{color:"secondary",label:e},e)}))}):Object(M.jsx)("span",{})},cellDOMProps:function(e){e.data;var t=e.value;if(t.length>2)return{onMouseEnter:function(){U.NotificationManager.success(t.map((function(e){return Object(M.jsxs)(M.Fragment,{children:[e,Object(M.jsx)("br",{})]})})),"Extras",5e3,(function(){alert(t.map((function(e){return"".concat(e,"\n")})))}))}}},editable:!1},{name:"code",header:"Booking Code",defaultWidth:110,editable:!1}],a.gridStyle={minHeight:550},a.defaultFilterValue=[{name:"date",operator:"eq",type:"date",value:""},{name:"service",operator:"inlist",type:"select",value:null},{name:"status",operator:"inlist",type:"select",value:null},{name:"category",operator:"inlist",type:"select",value:null},{name:"checkedIn",operator:"eq",type:"boolean",value:null},{name:"code",operator:"contains",type:"string",value:""},{name:"dogName",operator:"contains",type:"string",value:""},{name:"name",operator:"contains",type:"string",value:""}],a.handlePrintClick=function(e){a.setState({anchorEl:e.currentTarget})},a.handlePrintClose=function(){a.setState({anchorEl:null})},a.state={selected:{},filter:!1,serviceFilter:[],anchorEl:null},a}return Object(O.a)(n,[{key:"render",value:function(){var e=this;return Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(y.b,{title:this.props.title}),Object(M.jsxs)("div",{children:[Object(M.jsx)(w.a,{label:"Filters",onClick:function(){return e.setState({filter:!e.state.filter})},children:Object(M.jsx)(ae.a,{})}),Object(M.jsx)(w.a,{label:"Print",onClick:this.handlePrintClick,children:Object(M.jsx)(sn.a,{})}),Object(M.jsxs)(st.a,{id:"simple-menu",anchorEl:this.state.anchorEl,keepMounted:!0,open:Boolean(this.state.anchorEl),onClose:this.handlePrintClose,children:[Object(M.jsx)(ln.a,{content:function(){return e.componentRef},children:Object(M.jsx)(on.PrintContextConsumer,{children:function(t){var n=t.handlePrint;return Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(We.a,{onClick:n,children:"Daycare Attendance List"}),Boolean(e.state.anchorEl)&&Object(M.jsx)("div",{style:{display:"none"},children:Object(M.jsx)(dn,{ref:function(t){return e.componentRef=t},selected:"Daycare Today"===e.props.title&&e.props.rows})})]})}})}),Object(M.jsx)(ln.a,{content:function(){return e.componentRef1},children:Object(M.jsx)(on.PrintContextConsumer,{children:function(t){var n=t.handlePrint;return Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(We.a,{onClick:n,children:"Grooming Attendance List"}),Boolean(e.state.anchorEl)&&Object(M.jsx)("div",{style:{display:"none"},children:Object(M.jsx)(jn,{ref:function(t){return e.componentRef1=t},selected:"Grooming Today"===e.props.title&&e.props.rows})})]})}})})]}),1===Object.keys(this.state.selected).length&&Object(M.jsx)(k.a,{basePath:"/bookings",label:"Edit",record:Object.values(this.state.selected)[0]}),1===Object.keys(this.state.selected).length&&Object(M.jsx)(w.a,{label:"Charge card",children:Object(M.jsx)(nn.a,{})}),0!==Object.keys(this.state.selected).length&&Object(M.jsx)(w.a,{label:"Message Owners",children:Object(M.jsx)($.a,{})})]}),Object(M.jsx)(I.a,{idProperty:"id",columns:this.columns,dataSource:this.props.rows,style:this.gridStyle,onEditComplete:this.onEditComplete,editable:!0,defaultFilterValue:this.defaultFilterValue,onSelectionChange:function(t){return e.setState({selected:t.selected})},enableFiltering:this.state.filter,multiSelect:!0,checkboxColumn:!0})]})}}]),n}(r.a.Component);window.moment=te.a;n(170);window.moment=te.a;var fn=n(170);window.moment=te.a;var pn=n(170);window.moment=te.a;var hn=n(170);window.moment=te.a;n(170);window.moment=te.a;n(170);n(1523);function mn(e){return Object(M.jsx)("div",{className:"conversation-search",children:Object(M.jsx)("input",{type:"search",className:"conversation-search-input",placeholder:"Search Client",onChange:function(t){return e.searchFilterFunction(t.target.value)},value:e.searchText})})}var xn=n(1035);n(1524);function On(e){Object(a.useEffect)((function(){Object(xn.a)(".conversation-snippet",20)}));var t=e.data,n=(t.photo,t.name),r=t.text,c=t.unreadCount;return Object(M.jsx)("div",{className:"conversation-list-item",onClick:function(){e.onClick({sid:e.data.sid,name:e.data.name})},children:Object(M.jsxs)("div",{className:"conversation-info",children:[Object(M.jsx)("h1",{className:"conversation-title",children:n}),Object(M.jsxs)("p",{className:"conversation-snippet",children:[r,0!==c&&Object(M.jsx)("text",{className:"badge",children:c})]})]})})}n(1525);function gn(e){var t=e.title,n=e.leftItems,a=e.rightItems;return Object(M.jsxs)("div",{className:"toolbar",children:[Object(M.jsx)("div",{className:"left-items",children:n}),Object(M.jsx)("h1",{className:"toolbar-title",children:t}),Object(M.jsx)("div",{className:"right-items",children:a})]})}n(1526);function vn(e){var t=e.icon;return Object(M.jsx)("i",{className:"toolbar-button ".concat(t)})}var yn=n(1036),wn=n.n(yn),kn=n(1039),Cn=Object(N.a)((function(e){return{root:{width:"100%",height:500,maxWidth:300,backgroundColor:e.palette.background.paper}}}));function Sn(e){var t=Cn(),n=Object(a.useState)([]),r=Object(i.a)(n,2),c=r[0],s=r[1],o=Object(a.useState)([]),l=Object(i.a)(o,2),u=l[0],d=l[1],j=Object(a.useState)(""),b=Object(i.a)(j,2),f=b[0],p=b[1],x=Object(a.useState)(""),O=Object(i.a)(x,2),g=O[0],v=O[1];Object(a.useEffect)(Object(m.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z("clients");case 2:t=e.sent,p(t.total),s(t.data),d(t.data);case 6:case"end":return e.stop()}}),e)}))),[]);var y=function(t){var n=e.activeConvos.filter((function(e){return e.text===t.phone}));n.length>0?(e.setActiveConvo({sid:n[0].sid,name:n[0].name}),e.open(!e.visible)):(e.createNewConvo(t.phone,t.name),e.open(!e.visible))};return Object(M.jsx)(a.Fragment,{children:Object(M.jsxs)(Pe.a,{open:e.visible,children:[Object(M.jsx)(Ne.a,{children:"Create new Conversation"}),Object(M.jsx)(Me.a,{children:Object(M.jsxs)("div",{className:t.root,children:[Object(M.jsx)(mn,{searchText:g,searchFilterFunction:function(e){var t=u.filter((function(t){var n;try{n=t.name.toUpperCase()}catch(c){n=null}var a="".concat(n),r=e.toUpperCase();return a.indexOf(r)>-1}));v(e),s(t),p(t.length)}}),Object(M.jsx)(kn.a,{height:400,width:300,itemSize:46,itemCount:f,children:function(e){var t=e.index,n=e.style;return Object(M.jsx)(St.a,{onClick:Object(m.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",y(c[t]));case 1:case"end":return e.stop()}}),e)}))),button:!0,style:n,children:Object(M.jsx)(Dt.a,{primary:c[t].name})},t)}})]})}),Object(M.jsx)(Ee.a,{children:Object(M.jsx)(w.a,{label:"Cancel",onClick:function(){return e.open(!e.visible)},children:Object(M.jsx)(Ae.a,{})})})]})})}n(1527);var Dn=n(1528);function Pn(e){var t=Object(a.useContext)(bt),n=(t.notifications,t.setNotifications),r=t.removeAllMessNotif,c=Object(a.useState)([]),s=Object(i.a)(c,2),o=s[0],l=s[1],u=Object(a.useState)([]),d=Object(i.a)(u,2),j=d[0],b=d[1],f=Object(a.useState)(null),p=Object(i.a)(f,2),x=p[0],O=p[1],g=Object(a.useState)(!1),v=Object(i.a)(g,2),y=v[0],k=v[1];Object(a.useEffect)((function(){I()}),[]);var C=function(e,t){var a=t.filter((function(t){return t.text===e.conversation.channelState.uniqueName.split(":")[1]}))[0];U.NotificationManager.info(a.name,"New message",3e3),n({message:"Message from ".concat(a.name),type:"message",convoItem:a})},S=Object(a.useCallback)(function(){var e=Object(m.a)(h.a.mark((function e(t,n){var a,r,c,s,i;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=17;break}return c=function(){return(c=Object(m.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.hasNextPage){e.next=7;break}return e.next=3,t.nextPage();case 3:return n=e.sent,a=a.concat(n.items),e.next=7,r(n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)},r=function(e){return c.apply(this,arguments)},a=[],e.next=6,t.getSubscribedConversations();case 6:return s=e.sent,a=s.items,e.next=10,r(s);case 10:return e.next=12,Promise.all(a.map(function(){var e=Object(m.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,V.getList("clients",{filter:{phone:t.channelState.friendlyName.split(":")[1]},pagination:{page:1,perPage:1}});case 2:return n=e.sent,e.abrupt("return",{name:n.data[0]?n.data[0].name:t.channelState.friendlyName.split(":")[1],text:n.data[0]?n.data[0].phone:t.channelState.friendlyName.split(":")[1],dateUpdated:t.lastMessage?t.lastMessage.dateCreated:t.dateUpdated,sid:t.sid,unreadCount:t.lastMessage?t.lastMessage.index-t.channelState.lastReadMessageIndex:0});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 12:(i=e.sent).sort((function(e,t){return new Date(t.dateUpdated)-new Date(e.dateUpdated)})),l([].concat(Object(en.a)(o),Object(en.a)(i))),b(i),n&&C(n,i);case 17:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[o]),D=function(){var e=Object(m.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("token about to expire"),e.next=3,J();case 3:n=e.sent,t.updateToken(n),console.log("client's token updated");case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function P(e,t){return N.apply(this,arguments)}function N(){return(N=Object(m.a)(h.a.mark((function t(n,a){var r,c,s,i;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=function(){return(s=Object(m.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.hasNextPage){e.next=7;break}return e.next=3,t.nextPage();case 3:return n=e.sent,r=r.concat(n.items),e.next=7,c(n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)},c=function(e){return s.apply(this,arguments)},r=[],t.next=5,Dn.Client.create(n);case 5:(i=t.sent).addListener("tokenAboutToExpire",(function(){return D(i)})),i.addListener("connectionStateChanged",function(){var t=Object(m.a)(h.a.mark((function t(n){var s;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("connected"!==n){t.next=10;break}return t.next=3,i.getSubscribedConversations();case 3:return s=t.sent,r=s.items,t.next=7,c(s);case 7:e.setClient(i),2===i._eventsCount&&(i.addListener("messageAdded",(function(e){return S(i,e)})),i.addListener("conversationRemoved",(function(){return S(i)})),i.addListener("conversationAdded",(function(e){return S(i,e)}))),a(r);case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var E=function(){var t=Object(m.a)(h.a.mark((function t(n,a){var r;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.client.createConversation({friendlyName:"pBjefCCX5JXw6QbYFu2GR7rmouw1:"+n,uniqueName:"pBjefCCX5JXw6QbYFu2GR7rmouw1:"+n});case 2:return r=t.sent,t.next=5,r.addNonChatParticipant("+61488844176",n);case 5:return t.next=7,r.add("pBjefCCX5JXw6QbYFu2GR7rmouw1");case 7:e.setactiveConvo({sid:r.sid,name:a});case 8:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),I=function(){var e=Object(m.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J();case 2:P(e.sent,function(){var e=Object(m.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(t.map(function(){var e=Object(m.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,V.getList("clients",{filter:{phone:t.channelState.friendlyName.split(":")[1]},pagination:{page:1,perPage:1}});case 2:return n=e.sent,e.abrupt("return",{name:n.data[0]?n.data[0].name:t.channelState.friendlyName.split(":")[1],text:n.data[0]?n.data[0].phone:t.channelState.friendlyName.split(":")[1],dateUpdated:t.lastMessage?t.lastMessage.dateCreated:t.dateUpdated,sid:t.sid,unreadCount:t.lastMessage?t.lastMessage.index-t.channelState.lastReadMessageIndex:0});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 2:(n=e.sent).sort((function(e,t){return new Date(t.dateUpdated)-new Date(e.dateUpdated)})),l([].concat(Object(en.a)(o),Object(en.a)(n))),b(n);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),F=function(t){e.setactiveConvo(t),r(t),o[o.findIndex((function(e){return e.sid===t.sid}))].unreadCount=0,j[j.findIndex((function(e){return e.sid===t.sid}))].unreadCount=0,l(o),b(j)};return Object(M.jsxs)("div",{className:"conversation-list",children:[Object(M.jsx)(gn,{title:"Messenger",leftItems:[Object(M.jsx)(vn,{icon:"ion-ios-cog"},"cog")],rightItems:[Object(M.jsx)(w.a,{onClick:function(){return k(!y)},children:Object(M.jsx)(wn.a,{})}),Object(M.jsx)(vn,{icon:"ion-ios-add-circle-outline"},"add")]}),Object(M.jsx)(mn,{searchFilterFunction:function(e){var t=j.filter((function(t){var n,a;try{n=t.name.toUpperCase()}catch(s){n=null}try{a=t.phone}catch(i){a=null}var r="".concat(n," ").concat(a),c=e.toUpperCase();return r.indexOf(c)>-1}));O(e),l(t)},searchText:x}),o.map((function(e){return Object(M.jsx)(On,{data:e,onClick:F},e.sid)})),Object(M.jsx)(Sn,{visible:y,open:k,activeConvos:o,setActiveConvo:e.setactiveConvo,createNewConvo:E})]})}var Nn=n(1037),Mn=n.n(Nn),En=(n(1715),n(1038));function In(e){var t=Object(a.useState)(!1),n=Object(i.a)(t,2),r=n[0],c=n[1];return Object(M.jsxs)("div",{className:"compose",children:[Object(M.jsx)(En.a,{type:"text",className:"compose-input",placeholder:"Type a message",value:e.value,onChange:function(t){e.onChange(t.target.value)},spellCheck:!0,minRows:"2"}),e.value?Object(M.jsx)(w.a,{onClick:function(){return e.onSend()},children:Object(M.jsx)($.a,{})}):Object(M.jsx)(w.a,{onClick:function(){return c(!r)},children:Object(M.jsx)(Mn.a,{})}),Object(M.jsx)(Le,{open:r,onCancel:function(){return c(!r)},onDrop:e.onDrop,onPicSend:e.onPicSend}),e.rightItems]})}n(1716);function Fn(e){var t=e.data,n=e.isMine,a=e.startsSequence,r=e.endsSequence,c=e.showTimestamp,s=new RegExp("^https://bit.ly/"),i=te()(t.timestamp).format("LLLL");return Object(M.jsxs)("div",{className:["message","".concat(n?"mine":""),"".concat(a?"start":""),"".concat(r?"end":"")].join(" "),children:[c&&Object(M.jsx)("div",{className:"timestamp",children:i}),Object(M.jsx)("div",{className:"bubble-container",children:Object(M.jsx)("div",{className:"bubble",title:i,children:s.test(t.message)?Object(M.jsx)(Ce.a,{thumbnailWidth:"150px",thumbnailHeight:"150px",images:[{src:t.message}]}):t.message})})]})}var Tn=n(891),An=function(){var e=Object(m.a)(h.a.mark((function e(t,n){var a,r,c,s;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=function(e){return new Promise((function(t,n){var a=new FileReader;a.onload=function(e){return t(a.result)},a.onerrror=n,a.readAsDataURL(e)}))},e.next=3,a(n);case 3:return r=e.sent,c=JSON.stringify({token:t,image:r.replace("data:","").replace(/^.*;base64,/,"")}),s={method:"post",url:"https://australia-southeast1-admin-a4a00.cloudfunctions.net/adminPicUploader",headers:{Authorization:"Basic ODU2NzZCNUEtOEE5MS00NzYwLUE4MTctODQ2MUIyQ0I3MTI0OjZCQ0FGQUY5LUVFQ0YtNDRBNi04QTBBLTg3RjFDQUYxQTQxNg==","Content-Type":"application/json"},data:c},e.abrupt("return",Tn(s).then((function(e){return e.data})).catch((function(e){return e})));case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();n(1717);function Ln(e){var t=Object(a.useState)([]),n=Object(i.a)(t,2),r=n[0],c=n[1],s=Object(a.useState)(null),o=Object(i.a)(s,2),l=o[0],u=o[1],d=Object(a.useState)(null),j=Object(i.a)(d,2),b=j[0],f=j[1],p=Object(a.useRef)(null),x=Object(a.useState)(null),O=Object(i.a)(x,2),g=O[0],v=O[1],y=function(){var e=Object(m.a)(h.a.mark((function e(){var t,n,a,r,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q();case 2:t=e.sent,n=Object(Y.a)(g),e.prev=4,n.s();case 6:if((a=n.n()).done){e.next=15;break}return r=a.value,e.next=10,An(t,r);case 10:return c=e.sent,e.next=13,k(c);case 13:e.next=6;break;case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(4),n.e(e.t0);case 20:return e.prev=20,n.f(),e.finish(20);case 23:case"end":return e.stop()}}),e,null,[[4,17,20,23]])})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){!function(){var e;null===(e=p.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})}()}),[r]);var w=Object(a.useCallback)(Object(m.a)(h.a.mark((function t(){var n,a,r;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=[],!e.activeConvo){t.next=12;break}return t.next=4,e.client.getConversationBySid(e.activeConvo.sid);case 4:return 0===(a=t.sent)._events.messageAdded.length&&a.addListener("messageAdded",w),a.channelState.lastMessage&&a.advanceLastReadMessageIndex(a.channelState.lastMessage.index),f(a),t.next=10,a.getMessages();case 10:r=t.sent,n=r.items.map((function(e){return{id:e.state.index,author:e.state.author,message:e.state.body,timestamp:e.state.timestamp}}));case 12:c(n);case 13:case"end":return t.stop()}}),t)}))),[e.activeConvo,e.client]);Object(a.useEffect)((function(){return w(),function(){b&&b.removeListener("messageAdded",w)}}),[b,w,e.activeConvo,e.client]);var k=function(){var e=Object(m.a)(h.a.mark((function e(t){var n,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.sendMessage(t||l);case 2:return e.next=4,b.getMessages();case 4:n=e.sent,a=n.items.map((function(e){return{id:e.state.index,author:e.state.author,message:e.state.body,timestamp:e.state.timestamp}})),u(""),c(a);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(M.jsxs)("div",{className:"message-list",children:[Object(M.jsx)(gn,{title:e.activeConvo?e.activeConvo.name:"Select a conversation",rightItems:[Object(M.jsx)(vn,{icon:"ion-ios-information-circle-outline"},"info"),Object(M.jsx)(vn,{icon:"ion-ios-videocam"},"video"),Object(M.jsx)(vn,{icon:"ion-ios-call"},"phone")]}),Object(M.jsxs)("div",{className:"message-list-container",children:[function(){for(var e=0,t=r.length,n=[];e<t;){var a=r[e-1],c=r[e],s=r[e+1],i="pBjefCCX5JXw6QbYFu2GR7rmouw1"===c.author,o=te()(c.timestamp),l=!0,u=!0,d=!0;if(a){var j=te()(a.timestamp),b=te.a.duration(o.diff(j));a.author===c.author&&b.as("hours")<1&&(l=!1),b.as("hours")<1&&(d=!1)}if(s){var f=te()(s.timestamp),p=te.a.duration(f.diff(o));s.author===c.author&&p.as("hours")<1&&(u=!1)}n.push(Object(M.jsx)(Fn,{isMine:i,startsSequence:l,endsSequence:u,showTimestamp:d,data:c},e)),e+=1}return n}(),Object(M.jsx)("div",{ref:p})]}),Object(M.jsx)(In,{value:l,onChange:u,onSend:k,onPicSend:y,onDrop:v,rightItems:[Object(M.jsx)(vn,{icon:"ion-ios-camera"},"photo"),Object(M.jsx)(vn,{icon:"ion-ios-image"},"image"),Object(M.jsx)(vn,{icon:"ion-ios-mic"},"audio"),Object(M.jsx)(vn,{icon:"ion-ios-card"},"money"),Object(M.jsx)(vn,{icon:"ion-logo-game-controller-b"},"games"),Object(M.jsx)(vn,{icon:"ion-ios-happy"},"emoji")]})]})}n(1718);function Yn(e){var t=Object(a.useState)(null),n=Object(i.a)(t,2),r=n[0],c=n[1],s=Object(a.useState)(null),o=Object(i.a)(s,2),l=o[0],u=o[1];return Object(M.jsxs)("div",{className:"messenger",children:[Object(M.jsx)("div",{className:"scrollable sidebar",children:Object(M.jsx)(Pn,{setactiveConvo:c,setClient:u,client:l})}),Object(M.jsx)("div",{className:"scrollable content",children:Object(M.jsx)(Ln,{activeConvo:r,client:l})})]})}var Rn=[Object(M.jsx)(xt.b,{exact:!0,path:"/bookingstoday",component:function(){var e=r.a.useState([]),t=Object(i.a)(e,2),n=t[0],a=t[1];return r.a.useEffect((function(){var e=new Date;V.getList("bookings",{pagination:{page:1,perPage:1e6},filter:{start:fn(e,"yyyy-mm-dd")}}).then((function(e){e.data.forEach((function(e){e.date=e.start.substring(0,10)})),a(e.data)}))}),[]),Object(M.jsx)(M.Fragment,{children:Object(M.jsx)(bn,{setRows:a,rows:n,title:"Bookings Today"})})}}),Object(M.jsx)(xt.b,{exact:!0,path:"/clients",component:re}),Object(M.jsx)(xt.b,{exact:!0,path:"/todaydaycare",component:function(){var e=r.a.useState([]),t=Object(i.a)(e,2),n=t[0],a=t[1];return r.a.useEffect((function(){var e=new Date;V.getList("bookings",{pagination:{page:1,perPage:1e6},filter:{category:"daycare",start:pn(e,"yyyy-mm-dd")}}).then((function(e){e.data.forEach((function(e){e.date=e.start.substring(0,10)})),a(e.data)}))}),[]),Object(M.jsx)(M.Fragment,{children:Object(M.jsx)(bn,{setRows:a,rows:n,title:"Daycare Today"})})}}),Object(M.jsx)(xt.b,{exact:!0,path:"/dogs",component:Ge}),Object(M.jsx)(xt.b,{exact:!0,path:"/todaygrooming",component:function(){var e=r.a.useState([]),t=Object(i.a)(e,2),n=t[0],a=t[1];return r.a.useEffect((function(){var e=new Date;V.getList("bookings",{pagination:{page:1,perPage:1e6},filter:{category:"stylist",start:hn(e,"yyyy-mm-dd")}}).then((function(e){e.data.forEach((function(e){e.date=e.start.substring(0,10)})),a(e.data)}))}),[]),Object(M.jsx)(M.Fragment,{children:Object(M.jsx)(bn,{setRows:a,rows:n,title:"Grooming Today"})})}}),Object(M.jsx)(xt.b,{exact:!0,path:"/grooming",component:function(){var e=r.a.useState([]),t=Object(i.a)(e,2),n=t[0],a=t[1];return r.a.useEffect((function(){V.getList("bookings",{pagination:{page:1,perPage:1e6},filter:{category:"stylist"}}).then((function(e){e.data.forEach((function(e){e.date=e.start.substring(0,10)})),a(e.data)}))}),[]),Object(M.jsx)(M.Fragment,{children:Object(M.jsx)(bn,{setRows:a,rows:n,title:"Grooming"})})}}),Object(M.jsx)(xt.b,{exact:!0,path:"/daycare",component:function(){var e=r.a.useState([]),t=Object(i.a)(e,2),n=t[0],a=t[1];return r.a.useEffect((function(){V.getList("bookings",{pagination:{page:1,perPage:1e6},filter:{category:"daycare"}}).then((function(e){e.data.forEach((function(e){e.date=e.start.substring(0,10)})),a(e.data)}))}),[]),Object(M.jsx)(M.Fragment,{children:Object(M.jsx)(bn,{setRows:a,rows:n,title:"Daycare"})})}}),Object(M.jsx)(xt.b,{exact:!0,path:"/bookings",component:function(){var e=r.a.useState([]),t=Object(i.a)(e,2),n=t[0],a=t[1];return r.a.useEffect((function(){V.getList("bookings",{pagination:{page:1,perPage:1e6}}).then((function(e){e.data.forEach((function(e){e.date=e.start.substring(0,10)})),a(e.data)}))}),[]),Object(M.jsx)(M.Fragment,{children:Object(M.jsx)(bn,{setRows:a,rows:n,title:"All Bookings"})})}}),Object(M.jsx)(xt.b,{exact:!0,path:"/messenger",component:function(){return Object(M.jsxs)(He.a,{children:[Object(M.jsx)(y.b,{title:"Messenger"}),Object(M.jsx)(Yn,{})]})}})],Bn=n(84),Wn=n(191),Un=n(680),_n=n(581),Qn=n(20),Vn=n(241),Gn=n(201),qn=n(679),zn=function(e){var t=e.authProvider,n=e.dataProvider,a=e.history,r=Object(Bn.c)({admin:Vn.a,router:Object(Wn.b)(a)}),c=h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Qn.a)([Object(qn.a)(n,t)].map(Qn.f));case 2:case"end":return e.stop()}}),e)})),s=Object(_n.a)(),i=Bn.d,o=Object(Bn.e)((function(e,t){return r(t.type!==Gn.g?e:void 0,t)}),{},i(Object(Bn.a)(s,Object(Un.a)(a))));return s.run(c),o},Jn=n(1782),Kn=n(802),Xn=n(320),Hn=n(145),Zn=n(326),$n=n(325),ea=function(e){return Object(M.jsx)(Kn.a,Object(f.a)(Object(f.a)({},e),{},{children:Object(M.jsxs)(Xn.a,{rowClick:"edit",children:[Object(M.jsx)(Hn.a,{source:"id"}),Object(M.jsx)(Hn.a,{source:"description"}),Object(M.jsx)(Hn.a,{source:"name"}),Object(M.jsx)(Zn.a,{source:"amount"}),Object(M.jsx)($n.a,{source:"email"}),Object(M.jsx)(Hn.a,{source:"system"}),Object(M.jsx)(Hn.a,{source:"stripe_id"}),Object(M.jsx)(Hn.a,{source:"status"}),Object(M.jsx)(Hn.a,{source:"bookings"})]})}))},ta=(n(1719),n(1720),Object(b.b)()),na=function(){var e,t=a.useState(!1),n=Object(i.a)(t,2);n[0];return function(e){Q.getToken({vapidKey:"BGXh163BEaceHzjq8oIfgZfCnHEze0njY12K3FFlv8N0lLtNYTsKWpE0L7darB0Yiqzt2P_6VCcuHnSvo6beecs"}).then((function(t){t?(console.log("current token for client: ",t),e(!0)):(console.log("No registration token available. Request permission to generate one."),e(!1))})).catch((function(e){console.log("An error occurred while retrieving token. ",e),U.NotificationManager.error("Notifications not enabled!","Allow notifications and refresh page",5e5,(function(){alert("callback")}))}))}(n[1]),e=function(e){U.NotificationManager.success(e.notification.body,e.notification.title)},Q.onMessage((function(t){e(t)})),Object(M.jsx)(j.a,{store:zn({authProvider:G,dataProvider:V,history:ta}),children:Object(M.jsx)(jt,{children:Object(M.jsxs)(Jn.a,{utils:tt.a,children:[Object(M.jsx)(U.NotificationContainer,{}),Object(M.jsxs)(o.a,{disableTelemetry:!0,layout:$t,history:ta,customRoutes:Rn,dashboard:et,dataProvider:V,authProvider:G,children:[Object(M.jsx)(l.a,{name:"clients",icon:Xe.a,create:se,to:"/clients",edit:ie,options:{label:"Clients"}}),Object(M.jsx)(l.a,{name:"dogs",create:Je,edit:ze}),Object(M.jsx)(l.a,{name:"bookings",edit:u.a}),Object(M.jsx)(l.a,{name:"services",list:d.a}),Object(M.jsx)(l.a,{name:"payments",list:ea})]})]})})})};s.a.render(Object(M.jsx)(r.a.StrictMode,{children:Object(M.jsx)(na,{})}),document.getElementById("root"))}},[[1721,1,2]]]);
//# sourceMappingURL=main.028cba55.chunk.js.map