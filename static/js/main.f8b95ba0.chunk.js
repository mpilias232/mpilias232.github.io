(this.webpackJsonpadmintry=this.webpackJsonpadmintry||[]).push([[0],{1088:function(e,t,n){},1533:function(e,t,n){},1534:function(e,t,n){},1535:function(e,t,n){},1536:function(e,t,n){},1537:function(e,t,n){},1630:function(e,t){},1654:function(e,t){},1692:function(e,t){},1725:function(e,t,n){},1732:function(e,t,n){},1733:function(e,t,n){},1734:function(e,t,n){},1736:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(34),s=n.n(r),i=(n(1088),n(42)),o=n(807),u=n(766),l=n(975),j=n(977),d=n(14),b=n(110),O=n(68),f=n(535),x=n(805),p=n(806),m=n(146),h=n(313),g=n(791),v=n(793),y=n(502),C=n(124),k=n(794),w=n(36),N=(n(984),n(3)),S=(Object(w.a)({link:{textDecoration:"none"},icon:{width:"0.5em",paddingLeft:2}}),n(402)),M=n(548),D=n.n(M),P=function(e){return Object(N.jsx)(f.a,Object(O.a)({rowsPerPageOptions:[50,100,200]},e))},T=function(e){var t=Object(S.a)((function(e){return e.breakpoints.down("sm")}));return Object(N.jsx)(x.a,Object(O.a)(Object(O.a)({perPage:50},e),{},{pagination:Object(N.jsx)(P,{}),children:t?Object(N.jsx)(p.a,{primaryText:function(e){return e.name},secondaryText:function(e){return e.email},tertiaryText:function(e){return e.phone}}):Object(N.jsxs)(D.a,{children:[Object(N.jsx)(m.a,{source:"name"}),Object(N.jsx)(h.a,{source:"email"}),Object(N.jsx)(m.a,{source:"phone"}),Object(N.jsx)(m.a,{source:"instagram"}),Object(N.jsx)(g.a,{})]})}))},I=function(e){var t=e.record;return Object(N.jsxs)("span",{children:["Client ",t?'"'.concat(t.name,'"'):""]})},E=function(e){return Object(N.jsx)(v.a,Object(O.a)(Object(O.a)({},e),{},{children:Object(N.jsxs)(y.a,{children:[Object(N.jsx)(C.a,{source:"name",label:"Name"}),Object(N.jsx)(C.a,{source:"phone",label:"Phone"}),Object(N.jsx)(C.a,{source:"email",label:"Email"}),Object(N.jsx)(C.a,{source:"instagram",label:"Instagram"})]})}))},F=function(e){return Object(N.jsx)(k.a,Object(O.a)(Object(O.a)({title:Object(N.jsx)(I,{})},e),{},{children:Object(N.jsxs)(y.a,{children:[Object(N.jsx)(C.a,{source:"name",label:"Name"}),Object(N.jsx)(C.a,{source:"phone",label:"Phone"}),Object(N.jsx)(C.a,{source:"email",label:"Email"}),Object(N.jsx)(C.a,{source:"instagram",label:"Instagram"})]})}))},Y=n(393),B=(n(802),n(507)),L=n(388),A=n(972),_=n(803),U=n(804),Q=n(315),R=n(798),z=n(311),V=n(312),W=n(976),G=n(797),q=n(799),J=n(538),K=n(505),X=n(8),H=n(725),Z=n(726),$=n(723),ee=n.n($),te=n(1025),ne=n.n(te),ae=n(21),ce=n.n(ae),re=n(67),se=n(98),ie=n(556),oe=n(686),ue=n(58),le=n(494),je=n(330),de=n.n(je),be=n(787),Oe=n(788),fe=n(789),xe=n(790),pe=n(1739),me=n(231),he=n.n(me),ge=n(722),ve=n(575),ye=n.n(ve),Ce=(n(1737),n(193)),ke={apiKey:"AIzaSyAUqOhdFbfRiCRqSzxKpYeTppBGsHfAAug",authDomain:"admin-a4a00.firebaseapp.com",databaseURL:"https://admin-a4a00-default-rtdb.firebaseio.com",projectId:"admin-a4a00",storageBucket:"admin-a4a00.appspot.com",messagingSenderId:"328849622350",appId:"1:328849622350:web:cf2cd21a20f108e7aeca1f",measurementId:"G-YKBC2Q28P1"};ye.a.initializeApp(ke);var we=ye.a.messaging(),Ne=Object(ge.FirebaseDataProvider)(ke,{}),Se=Object(ge.FirebaseAuthProvider)(ke),Me=function(){var e=Object(re.a)(ce.a.mark((function e(){var t;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Se.checkAuth();case 2:return t=e.sent,e.abrupt("return",t.ya);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),De=function(){var e=Object(re.a)(ce.a.mark((function e(t){var n;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ne.getList(t,{pagination:{page:1,perPage:1e4}});case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Pe=function(){var e=Object(re.a)(ce.a.mark((function e(){var t,a,c,r;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n(628),e.next=3,Me();case 3:return a=e.sent,c=JSON.stringify({token:a}),r={method:"post",url:"https://australia-southeast1-admin-a4a00.cloudfunctions.net/getToken",headers:{Authorization:"Basic MkMzRDBFMkMtODQ3Qi00OEI4LUI1NTItOENCQTlDQkEzREQ4OjgwOEFGMDlBLTBFODgtNDU3Mi04QzJGLUUwOEIwOEE4N0RFMQ==","Content-Type":"application/json"},data:c},e.abrupt("return",t(r).then((function(e){return e.data})).catch((function(e){console.log(e)})));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Te=n(628),Ie=n(1265),Ee=function(e){var t=e.selectedIds,n=Object(w.a)((function(e){return{root:{"& .MuiTextField-root":{margin:e.spacing(1),width:"25ch"}}}})),c=Object(a.useState)(!1),r=Object(i.a)(c,2),s=r[0],o=r[1],u=Object(se.a)(),l=Object(ie.a)(),j=Object(oe.a)(),d=(j.identity,j.loading,n(),a.useState()),b=Object(i.a)(d,2),O=b[0],f=b[1],x=a.useState(),p=Object(i.a)(x,2),m=p[0],h=p[1],g=Object(a.useState)(!1),v=Object(i.a)(g,2),y=v[0],C=v[1],k=function(){o(!1)},S=function(){var e=Object(re.a)(ce.a.mark((function e(){var n,a;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return C(!0),e.next=3,Me();case 3:n=e.sent,a=Ie.stringify([n,t,"dogs",O,m]),Te({method:"post",url:"https://7a314e3ed3bb.ngrok.io",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:a}).then((function(e){C(!1),o(!1),u("Messages sent"),l("dogs"),f(null),h(null)})).catch((function(e){C(!1),u("Error: Could not reach server","warning")}));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(N.jsxs)(a.Fragment,{children:[Object(N.jsx)(ue.a,{label:"Text clients",onClick:function(){return o(!0)}}),Object(N.jsxs)(be.a,{open:s,onClose:k,children:[Object(N.jsx)(Oe.a,{children:"Message Owners"}),Object(N.jsxs)(fe.a,{children:[Object(N.jsx)(pe.a,{name:"Topic",fullWidth:!0,placeholder:"Topic",defaultValue:O&&O,onChange:function(e){f(e.target.value)}}),Object(N.jsx)(pe.a,{name:"Message",multiline:!0,fullWidth:!0,placeholder:"Message",defaultValue:m&&m,onChange:function(e){h(e.target.value)}})]}),!1===y&&Object(N.jsxs)(xe.a,{children:[Object(N.jsx)(ue.a,{label:"Cancel",onClick:k,children:Object(N.jsx)(de.a,{})}),Object(N.jsx)(ue.a,{label:"Send",onClick:S,children:Object(N.jsx)(he.a,{})})]})]}),Object(N.jsx)(le.a,{})]})},Fe=function(e){return Object(N.jsx)(f.a,Object(O.a)({rowsPerPageOptions:[50,100,200]},e))},Ye=function(){return Object(N.jsxs)(A.a,{label:"Sex",icon:Object(N.jsx)(ne.a,{}),children:[Object(N.jsx)(_.a,{label:"Male",value:{sex:"M"}}),Object(N.jsx)(_.a,{label:"Female",value:{sex:"F"}}),Object(N.jsx)(_.a,{label:"Desexed",value:{desexed:!0}})]})},Be=Object(X.a)((function(e){var t;return{root:(t={},Object(Y.a)(t,e.breakpoints.up("sm"),{order:-1,width:"15em",marginRight:"1em"}),Object(Y.a)(t,e.breakpoints.down("sm"),{display:"none"}),t)}}))(H.a),Le=function(){return Object(N.jsx)(Be,{children:Object(N.jsxs)(Z.a,{children:[Object(N.jsx)(U.a,{source:"dog_name"}),Object(N.jsx)(Ye,{})]})})},Ae=function(e){var t=Object(S.a)((function(e){return e.breakpoints.down("sm")}));return Object(N.jsx)(x.a,Object(O.a)(Object(O.a)({aside:Object(N.jsx)(Le,{}),perPage:50,pagination:Object(N.jsx)(Fe,{}),bulkActionButtons:Object(N.jsx)(Ee,{})},e),{},{children:t?Object(N.jsx)(p.a,{primaryText:function(e){return e.dog_name},secondaryText:function(e){return e.Client}}):Object(N.jsxs)(D.a,{children:[Object(N.jsx)(m.a,{source:"dog_name",label:"Dog Name"}),Object(N.jsx)(Q.a,{label:"Client",source:"owner",reference:"clients",children:Object(N.jsx)(m.a,{source:"name"})}),Object(N.jsx)(Q.a,{label:"Breed",source:"breed",reference:"dog_breeds",children:Object(N.jsx)(m.a,{source:"name"})}),Object(N.jsx)(R.a,{source:"sex",choices:[{id:"M",name:"Male"},{id:"F",name:"Female"}]}),Object(N.jsx)(z.a,{source:"desexed",label:"Desexed"}),Object(N.jsx)(h.a,{source:"vet_email",label:"Vet Email"}),Object(N.jsx)(m.a,{source:"vet",label:"Vet"}),Object(N.jsx)(V.a,{source:"kc_due",label:"KC Due"}),Object(N.jsx)(V.a,{source:"c3_due",label:"C3 Due"}),Object(N.jsx)(V.a,{source:"c5_due",label:"C5 Due"}),Object(N.jsx)(g.a,{})]})}))},_e=function(e){var t=e.record;return Object(N.jsxs)("span",{children:["Dog ",t?'"'.concat(t.dog_name,'"'):""]})},Ue=function(e){return Object(N.jsx)(k.a,Object(O.a)(Object(O.a)({title:Object(N.jsx)(_e,{})},e),{},{children:Object(N.jsxs)(W.a,{children:[Object(N.jsxs)(G.a,{label:"Dog Details",children:[Object(N.jsx)(C.a,{source:"dog_name",label:"Dog Name"}),Object(N.jsx)(B.a,{filterToQuery:function(e){return{name:e}},source:"owner",reference:"clients",children:Object(N.jsx)(q.a,{optionText:"name"})}),Object(N.jsx)(B.a,{filterToQuery:function(e){return{name:e}},source:"breed",reference:"dog_breeds",children:Object(N.jsx)(q.a,{optionValue:"id",optionText:"name"})}),Object(N.jsx)(L.a,{source:"sex",choices:[{id:"M",name:"Male"},{id:"F",name:"Female"}],label:"Sex"}),Object(N.jsx)(J.a,{source:"desexed",options:{checkedIcon:Object(N.jsx)(ee.a,{})}})]}),Object(N.jsxs)(G.a,{label:"Medical Details",children:[Object(N.jsx)(C.a,{source:"vet",label:"Vet"}),Object(N.jsx)(C.a,{source:"vet_email",label:"Vet Email"}),Object(N.jsx)(K.a,{source:"kc_due",label:"KC Due",options:{format:"DD/MM/YYYY"}}),Object(N.jsx)(K.a,{source:"c3_due",label:"C3 Due",options:{format:"DD/MM/YYYY"}}),Object(N.jsx)(K.a,{source:"c5_due",label:"C5 Due",options:{format:"DD/MM/YYYY"}})]})]})}))},Qe=function(e){return Object(N.jsx)(v.a,Object(O.a)(Object(O.a)({},e),{},{children:Object(N.jsxs)(W.a,{children:[Object(N.jsxs)(G.a,{label:"Dog Details",children:[Object(N.jsx)(B.a,{filterToQuery:function(e){return{name:e}},source:"owner",reference:"clients",children:Object(N.jsx)(q.a,{optionText:"name"})}),Object(N.jsx)(C.a,{source:"dog_name",label:"Dog Name"}),Object(N.jsx)(C.a,{source:"breed",label:"Breed"}),Object(N.jsx)(L.a,{source:"sex",choices:[{id:"M",name:"Male"},{id:"F",name:"Female"}],label:"Sex"}),Object(N.jsx)(J.a,{source:"desexed",options:{checkedIcon:Object(N.jsx)(ee.a,{})}})]}),Object(N.jsxs)(G.a,{label:"Medical Details",children:[Object(N.jsx)(C.a,{source:"vet",label:"Vet"}),Object(N.jsx)(C.a,{source:"vet_email",label:"Vet Email"}),Object(N.jsx)(K.a,{source:"kc_due",label:"KC Due",options:{format:"DD/MM/YYYY"}}),Object(N.jsx)(K.a,{source:"c3_due",label:"C3 Due",options:{format:"DD/MM/YYYY"}}),Object(N.jsx)(K.a,{source:"c5_due",label:"C5 Due",options:{format:"DD/MM/YYYY"}})]})]})}))},Re=n(578),ze=n.n(Re),Ve=n(1792),We=function(){return Object(N.jsxs)(H.a,{children:[Object(N.jsx)(Ve.a,{title:"Welcome to the administration"}),Object(N.jsx)(Z.a,{children:"Lorem ipsum sic dolor amet..."})]})},Ge=n(1026),qe=n(712),Je=n(514),Ke=n(56),Xe=n(148),He=n(585),Ze=n(336),$e=n(590),et=n(1029),tt=n.n(et),nt=n(1793),at=n(576),ct=n(577),rt=n(581),st=n(579),it=c.a.createContext(),ot=(it.Consumer,function(e){Object(rt.a)(n,e);var t=Object(st.a)(n);function n(){var e;Object(at.a)(this,n);for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={notifications:[]},e.setNotifications=function(t){var n=e.state.notifications;n.push(t),e.setState({notifications:n})},e.removeNotif=function(t){e.setState({notifications:e.state.notifications.filter((function(e){return e!==t}))})},e.removeAllMessNotif=function(t){e.setState({notifications:e.state.notifications.filter((function(e){return e.convoItem.sid!==t.sid}))})},e}return Object(ct.a)(n,[{key:"render",value:function(){var e=this.props.children,t=this.state.notifications,n=this.setNotifications,a=this.removeNotif,c=this.removeAllMessNotif;return Object(N.jsx)(it.Provider,{value:{notifications:t,setNotifications:n,removeNotif:a,removeAllMessNotif:c},children:e})}}]),n}(c.a.Component)),ut=it,lt=n(1028),jt=n.n(lt),dt=n(1027),bt=n.n(dt),Ot=n(30);function ft(e){var t=c.a.useContext(ut),n=t.notifications,a=t.removeNotif,r=c.a.useState(null),s=Object(i.a)(r,2),o=s[0],u=s[1],l=Object(Ot.g)();return Object(N.jsx)("div",{children:Object(N.jsxs)(nt.a,{style:{height:"25px",width:"45px"},badgeContent:n.length,color:"error",children:[Object(N.jsx)(Xe.a,{"aria-controls":"simple-menu","aria-haspopup":"true",onClick:function(e){u(e.currentTarget)},children:Object(N.jsx)(tt.a,{htmlColor:"white"})}),Object(N.jsx)(He.a,{id:"simple-menu",anchorEl:o,keepMounted:!0,open:Boolean(o),onClose:function(){u(null)},children:n.length>0?n.map((function(e){return Object(N.jsxs)(Ze.a,{onClick:function(){a(e),l.push("/messenger")},children:[(t=e,"payment"===t.type?Object(N.jsx)($e.a,{children:Object(N.jsx)(bt.a,{fontSize:"small"})}):"message"===t.type?Object(N.jsx)($e.a,{children:Object(N.jsx)(jt.a,{fontSize:"small"})}):void 0),e.message]});var t})):Object(N.jsx)(Ze.a,{disabled:!0,children:"All Caught Up"})})]})})}var xt=Object(w.a)({title:{flex:1,textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"},spacer:{flex:1}}),pt=function(e){var t=xt();return Object(N.jsxs)(Je.a,Object(O.a)(Object(O.a)({},e),{},{children:[Object(N.jsx)(Ke.a,{variant:"h6",color:"inherit",className:t.title,id:"react-admin-title"}),Object(N.jsx)("span",{className:t.spacer}),Object(N.jsx)(ft,{})]}))},mt=n(120),ht=n(516),gt=n(319),vt=n(1051),yt=n(589),Ct=n(727),kt=n(1794),wt=n(583),Nt=n.n(wt),St=n(191),Mt=n.n(St),Dt=n(710),Pt=n.n(Dt),Tt=n(399),It=n.n(Tt),Et=n(1030),Ft=n.n(Et),Yt=n(1031),Bt=n.n(Yt),Lt=n(1032),At=n.n(Lt),_t=n(335),Ut=n.n(_t),Qt=n(1033),Rt=n.n(Qt),zt=n(1034),Vt=n.n(zt),Wt=n(1035),Gt=n.n(Wt),qt=Object(w.a)((function(e){return{root:{width:"100%",maxWidth:360,backgroundColor:e.palette.background.paper},nested:{paddingLeft:e.spacing(4)}}}));function Jt(e){var t=e.onMenuClick,n=(e.logout,qt()),c=a.useState(!1),r=Object(i.a)(c,2),s=r[0],o=r[1],u=a.useState(!1),l=Object(i.a)(u,2),j=l[0],b=l[1],O=a.useState(!1),f=Object(i.a)(O,2),x=f[0],p=f[1];Object(d.f)(mt.d);return Object(N.jsxs)(vt.a,{component:"nav",className:n.root,children:[Object(N.jsx)(ht.a,{onClick:t,sidebarIsOpen:s}),Object(N.jsx)(gt.a,{to:"/clients",primaryText:"Clients",leftIcon:Object(N.jsx)(Pt.a,{}),onClick:t,sidebarIsOpen:s},"clients"),Object(N.jsxs)(yt.a,{button:!0,onClick:function(){o(!s)},children:[Object(N.jsx)($e.a,{children:Object(N.jsx)(ze.a,{})}),Object(N.jsx)(Ct.a,{primary:"Dogs"}),s?Object(N.jsx)(Nt.a,{}):Object(N.jsx)(Mt.a,{})]}),Object(N.jsxs)(kt.a,{in:s,timeout:"auto",unmountOnExit:!0,children:[Object(N.jsx)(gt.a,{className:n.nested,disablePadding:!0,to:"/dogs",primaryText:"All Dogs",leftIcon:Object(N.jsx)(It.a,{}),onClick:t,sidebarIsOpen:s},"dogs"),Object(N.jsx)(gt.a,{className:n.nested,disablePadding:!0,to:"/dog_breeds",primaryText:"Dog breeds",leftIcon:Object(N.jsx)(It.a,{}),onClick:t,sidebarIsOpen:s},"dog_breeds")]}),Object(N.jsxs)(yt.a,{button:!0,onClick:function(){b(!j)},children:[Object(N.jsx)($e.a,{children:Object(N.jsx)(Ft.a,{})}),Object(N.jsx)(Ct.a,{primary:"Bookings"}),j?Object(N.jsx)(Nt.a,{}):Object(N.jsx)(Mt.a,{})]}),Object(N.jsxs)(kt.a,{in:j,timeout:"auto",unmountOnExit:!0,children:[Object(N.jsx)(gt.a,{className:n.nested,disablePadding:!0,to:"/bookings",primaryText:"All Bookings",leftIcon:Object(N.jsx)(Bt.a,{}),onClick:t,sidebarIsOpen:s},"bookings"),Object(N.jsx)(gt.a,{className:n.nested,disablePadding:!0,to:"/bookingstoday",primaryText:"Bookings Today",leftIcon:Object(N.jsx)(Ut.a,{}),onClick:t,sidebarIsOpen:s},"bookingstoday"),Object(N.jsx)(gt.a,{className:n.nested,disablePadding:!0,to:"/todaydaycare",primaryText:"Today Daycare",leftIcon:Object(N.jsx)(Ut.a,{}),onClick:t,sidebarIsOpen:s},"todaydaycare"),Object(N.jsx)(gt.a,{className:n.nested,disablePadding:!0,to:"/todaygrooming",primaryText:"Today Grooming",leftIcon:Object(N.jsx)(Ut.a,{}),onClick:t,sidebarIsOpen:s},"todaygrooming"),Object(N.jsx)(gt.a,{className:n.nested,disablePadding:!0,to:"/grooming",primaryText:"Grooming",leftIcon:Object(N.jsx)(Ut.a,{}),onClick:t,sidebarIsOpen:s},"grooming"),Object(N.jsx)(gt.a,{className:n.nested,disablePadding:!0,to:"/daycare",primaryText:"Daycare",leftIcon:Object(N.jsx)(Ut.a,{}),onClick:t,sidebarIsOpen:s},"daycare"),Object(N.jsx)(gt.a,{className:n.nested,disablePadding:!0,to:"/services",primaryText:"Services",leftIcon:Object(N.jsx)(At.a,{}),onClick:t,sidebarIsOpen:s},"services")]}),Object(N.jsxs)(yt.a,{button:!0,onClick:function(){p(!x)},children:[Object(N.jsx)($e.a,{children:Object(N.jsx)(Rt.a,{})}),Object(N.jsx)(Ct.a,{primary:"Payments"}),x?Object(N.jsx)(Nt.a,{}):Object(N.jsx)(Mt.a,{})]}),Object(N.jsx)(kt.a,{in:x,timeout:"auto",unmountOnExit:!0,children:Object(N.jsx)(gt.a,{className:n.nested,disablePadding:!0,to:"/payments",primaryText:"All Payments",leftIcon:Object(N.jsx)(Vt.a,{}),onClick:t,sidebarIsOpen:s},"payments")}),Object(N.jsx)(gt.a,{to:"/messenger",primaryText:"Messenger",leftIcon:Object(N.jsx)(Gt.a,{}),onClick:t,sidebarIsOpen:s},"messenger")]})}var Kt=function(e){return Object(N.jsx)(qe.a,Object(O.a)(Object(O.a)({},e),{},{menu:Jt,appBar:pt}))},Xt=n(1036),Ht=n.n(Xt),Zt=(n(1515),n(1516),n(724)),$t=n.n(Zt),en=n(1037),tn=n.n(en),nn=(n(430),n(1038)),an=n.n(nn),cn=n(55),rn=n.n(cn),sn=n(1753),on=n(574),un=n.n(on),ln=n(103);window.moment=rn.a;n(244);var jn=function(e){Object(rt.a)(n,e);var t=Object(st.a)(n);function n(e){var a;return Object(at.a)(this,n),(a=t.call(this,e)).getService=function(){return Ne.getList("services",{pagination:{page:1,perPage:1e5}}).then((function(e){return e.data.map((function(e){return{id:e.service,label:"".concat(e.service,"-").concat(e.category)}}))}))},a.columns=[{name:"name",header:"Name",defaultWidth:200,render:function(e){var t=e.value,n=e.data;return n.client_ref?Object(N.jsx)("a",{href:"#clients/"+n.client_ref,children:t}):Object(N.jsx)("span",{children:t})}},{name:"dogName",header:"Dog",defaultWidth:150,render:function(e){var t=e.value,n=e.data;return n.dog_ref?Object(N.jsx)("a",{href:"#dogs/"+n.dog_ref,children:t}):Object(N.jsx)("span",{children:t})}},{name:"status",header:"Status",defaultWidth:101,render:function(e){var t=e.value;e.data;return"confirmed"===t?Object(N.jsx)(sn.a,{color:"primary",style:{backgroundColor:"green"},label:"Confirmed"},t):"modified"===t?Object(N.jsx)(sn.a,{color:"primary",style:{backgroundColor:"orange"},label:"Modified"},t):"cancelled"===t?Object(N.jsx)(sn.a,{color:"primary",style:{backgroundColor:"red"},label:"Cancelled"},t):void 0}},{name:"service",header:"Service",defaultWidth:250,render:function(e){var t=e.value,n=e.data;return Object(N.jsxs)("span",{children:[t||""," ",n.category||""]})},filterEditor:tn.a,filterEditorProps:{multiple:!0,wrapMultiple:!1,dataSource:a.getService()}},{name:"date",header:"Booking Date",defaultWidth:138,filterEditor:$t.a,filterEditorProps:function(e,t){return{dateFormat:"ddd DD/MM/YYYY",placeholder:1===t.index?"Bookings date is before...":"Booking date is on..."}},render:function(e){var t=e.value;e.cellProps.dateFormat;return rn()(t).format("ddd DD/MM/YYYY")}},{name:"end",header:"Time",defaultWidth:150,filterEditor:$t.a,filterEditorProps:function(e,t){return{dateFormat:"ddd DD/MM/YYYY",placeholder:1===t.index?"Bookings date is before...":"Booking date is on..."}},render:function(e){var t=e.value,n=e.data;return"".concat(rn()(n.start).format("hh:mm A"),"-").concat(rn()(t).format("hh:mm A"))}},{name:"addOns",header:"AddOns",defaultWidth:180,render:function(e){var t=e.value;return 0!==t.length?Object(N.jsx)(N.Fragment,{children:t.map((function(e){return Object(N.jsx)(sn.a,{color:"secondary",label:e},e)}))}):Object(N.jsx)("span",{})},cellDOMProps:function(e){e.data;var t=e.value;if(t.length>2)return{onMouseEnter:function(){Ce.NotificationManager.success(t.map((function(e){return Object(N.jsxs)(N.Fragment,{children:[e,Object(N.jsx)("br",{})]})})),"Extras",5e3,(function(){alert(t.map((function(e){return"".concat(e,"\n")})))}))}}}},{name:"code",header:"Booking Code",defaultWidth:110}],a.gridStyle={minHeight:550},a.defaultFilterValue=[{name:"date",operator:"eq",type:"date",value:""},{name:"service",operator:"inlist",type:"select",value:null},{name:"code",operator:"contains",type:"string",value:""},{name:"dogName",operator:"contains",type:"string",value:""},{name:"name",operator:"contains",type:"string",value:""}],a.state={selected:{},filter:!1,serviceFilter:[]},a}return Object(ct.a)(n,[{key:"render",value:function(){var e=this;return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(ln.b,{title:this.props.title}),Object(N.jsxs)("div",{children:[Object(N.jsx)(ue.a,{label:"Filters",onClick:function(){return e.setState({filter:!e.state.filter})},children:Object(N.jsx)(un.a,{})}),1===Object.keys(this.state.selected).length&&Object(N.jsx)(g.a,{basePath:"/bookings",label:"Edit",record:Object.values(this.state.selected)[0]}),1===Object.keys(this.state.selected).length&&Object(N.jsx)(ue.a,{label:"Charge card",children:Object(N.jsx)(an.a,{})}),0!==Object.keys(this.state.selected).length&&Object(N.jsx)(ue.a,{label:"Message Owners",children:Object(N.jsx)(he.a,{})})]}),Object(N.jsx)(Ht.a,{idProperty:"id",columns:this.columns,dataSource:this.props.rows,style:this.gridStyle,defaultFilterValue:this.defaultFilterValue,onSelectionChange:function(t){return e.setState({selected:t.selected})},enableFiltering:this.state.filter,multiSelect:!0,checkboxColumn:!0})]})}}]),n}(c.a.Component);window.moment=rn.a;n(244);window.moment=rn.a;var dn=n(244);window.moment=rn.a;var bn=n(244);window.moment=rn.a;var On=n(244);window.moment=rn.a;n(244);window.moment=rn.a;n(244);var fn=n(400);n(1533);function xn(e){return Object(N.jsx)("div",{className:"conversation-search",children:Object(N.jsx)("input",{type:"search",className:"conversation-search-input",placeholder:"Search Client",onChange:function(t){return e.searchFilterFunction(t.target.value)},value:e.searchText})})}var pn=n(1039);n(1534);function mn(e){Object(a.useEffect)((function(){Object(pn.a)(".conversation-snippet",20)}));var t=e.data,n=(t.photo,t.name),c=t.text,r=t.unreadCount;return Object(N.jsx)("div",{className:"conversation-list-item",onClick:function(){e.onClick({sid:e.data.sid,name:e.data.name})},children:Object(N.jsxs)("div",{className:"conversation-info",children:[Object(N.jsx)("h1",{className:"conversation-title",children:n}),Object(N.jsxs)("p",{className:"conversation-snippet",children:[c,0!==r&&Object(N.jsx)("text",{className:"badge",children:r})]})]})})}n(1535);function hn(e){var t=e.title,n=e.leftItems,a=e.rightItems;return Object(N.jsxs)("div",{className:"toolbar",children:[Object(N.jsx)("div",{className:"left-items",children:n}),Object(N.jsx)("h1",{className:"toolbar-title",children:t}),Object(N.jsx)("div",{className:"right-items",children:a})]})}n(1536);function gn(e){var t=e.icon;return Object(N.jsx)("i",{className:"toolbar-button ".concat(t)})}var vn=n(1040),yn=n.n(vn),Cn=n(1046),kn=Object(w.a)((function(e){return{root:{width:"100%",height:500,maxWidth:300,backgroundColor:e.palette.background.paper}}}));function wn(e){var t=kn(),n=Object(a.useState)([]),c=Object(i.a)(n,2),r=c[0],s=c[1],o=Object(a.useState)([]),u=Object(i.a)(o,2),l=u[0],j=u[1],d=Object(a.useState)(""),b=Object(i.a)(d,2),O=b[0],f=b[1],x=Object(a.useState)(""),p=Object(i.a)(x,2),m=p[0],h=p[1];Object(a.useEffect)(Object(re.a)(ce.a.mark((function e(){var t;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,De("clients");case 2:t=e.sent,f(t.total),s(t.data),j(t.data);case 6:case"end":return e.stop()}}),e)}))),[]);var g=function(t){var n=e.activeConvos.filter((function(e){return e.text===t.phone}));n.length>0?(e.setActiveConvo({sid:n[0].sid,name:n[0].name}),e.open(!e.visible)):(e.createNewConvo(t.phone,t.name),e.open(!e.visible))};return Object(N.jsx)(a.Fragment,{children:Object(N.jsxs)(be.a,{open:e.visible,children:[Object(N.jsx)(Oe.a,{children:"Create new Conversation"}),Object(N.jsx)(fe.a,{children:Object(N.jsxs)("div",{className:t.root,children:[Object(N.jsx)(xn,{searchText:m,searchFilterFunction:function(e){var t=l.filter((function(t){var n;try{n=t.name.toUpperCase()}catch(r){n=null}var a="".concat(n),c=e.toUpperCase();return a.indexOf(c)>-1}));h(e),s(t),f(t.length)}}),Object(N.jsx)(Cn.a,{height:400,width:300,itemSize:46,itemCount:O,children:function(e){var t=e.index,n=e.style;return Object(N.jsx)(yt.a,{onClick:Object(re.a)(ce.a.mark((function e(){return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",g(r[t]));case 1:case"end":return e.stop()}}),e)}))),button:!0,style:n,children:Object(N.jsx)(Ct.a,{primary:r[t].name})},t)}})]})}),Object(N.jsx)(xe.a,{children:Object(N.jsx)(ue.a,{label:"Cancel",onClick:function(){return e.open(!e.visible)},children:Object(N.jsx)(de.a,{})})})]})})}n(1537);var Nn=n(1538);function Sn(e){var t=Object(a.useContext)(ut),n=(t.notifications,t.setNotifications),c=t.removeAllMessNotif,r=Object(a.useState)([]),s=Object(i.a)(r,2),o=s[0],u=s[1],l=Object(a.useState)([]),j=Object(i.a)(l,2),d=j[0],b=j[1],O=Object(a.useState)(null),f=Object(i.a)(O,2),x=f[0],p=f[1],m=Object(a.useState)(!1),h=Object(i.a)(m,2),g=h[0],v=h[1];Object(a.useEffect)((function(){D()}),[]);var y=function(e,t){var a=t.filter((function(t){return t.text===e.conversation.channelState.uniqueName.split(":")[1]}))[0];Ce.NotificationManager.info(a.name,"New message",3e3),n({message:"Message from ".concat(a.name),type:"message",convoItem:a})},C=Object(a.useCallback)(function(){var e=Object(re.a)(ce.a.mark((function e(t,n){var a,c,r,s,i;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=17;break}return r=function(){return(r=Object(re.a)(ce.a.mark((function e(t){var n;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.hasNextPage){e.next=7;break}return e.next=3,t.nextPage();case 3:return n=e.sent,a=a.concat(n.items),e.next=7,c(n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)},c=function(e){return r.apply(this,arguments)},a=[],e.next=6,t.getSubscribedConversations();case 6:return s=e.sent,a=s.items,e.next=10,c(s);case 10:return e.next=12,Promise.all(a.map(function(){var e=Object(re.a)(ce.a.mark((function e(t){var n;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ne.getList("clients",{filter:{phone:t.channelState.friendlyName.split(":")[1]},pagination:{page:1,perPage:1}});case 2:return n=e.sent,e.abrupt("return",{name:n.data[0]?n.data[0].name:t.channelState.friendlyName.split(":")[1],text:n.data[0]?n.data[0].phone:t.channelState.friendlyName.split(":")[1],dateUpdated:t.lastMessage?t.lastMessage.dateCreated:t.dateUpdated,sid:t.sid,unreadCount:t.lastMessage?t.lastMessage.index-t.channelState.lastReadMessageIndex:0});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 12:(i=e.sent).sort((function(e,t){return new Date(t.dateUpdated)-new Date(e.dateUpdated)})),u([].concat(Object(fn.a)(o),Object(fn.a)(i))),b(i),n&&y(n,i);case 17:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[o]),k=function(){var e=Object(re.a)(ce.a.mark((function e(t){var n;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("token about to expire"),e.next=3,Pe();case 3:n=e.sent,t.updateToken(n),console.log("client's token updated");case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function w(e,t){return S.apply(this,arguments)}function S(){return(S=Object(re.a)(ce.a.mark((function t(n,a){var c,r,s,i;return ce.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=function(){return(s=Object(re.a)(ce.a.mark((function e(t){var n;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.hasNextPage){e.next=7;break}return e.next=3,t.nextPage();case 3:return n=e.sent,c=c.concat(n.items),e.next=7,r(n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)},r=function(e){return s.apply(this,arguments)},c=[],t.next=5,Nn.Client.create(n);case 5:(i=t.sent).addListener("tokenAboutToExpire",(function(){return k(i)})),i.addListener("connectionStateChanged",function(){var t=Object(re.a)(ce.a.mark((function t(n){var s;return ce.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("connected"!==n){t.next=10;break}return t.next=3,i.getSubscribedConversations();case 3:return s=t.sent,c=s.items,t.next=7,r(s);case 7:e.setClient(i),2===i._eventsCount&&(i.addListener("messageAdded",(function(e){return C(i,e)})),i.addListener("conversationRemoved",(function(){return C(i)})),i.addListener("conversationAdded",(function(e){return C(i,e)}))),a(c);case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var M=function(){var t=Object(re.a)(ce.a.mark((function t(n,a){var c;return ce.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.client.createConversation({friendlyName:"pBjefCCX5JXw6QbYFu2GR7rmouw1:"+n,uniqueName:"pBjefCCX5JXw6QbYFu2GR7rmouw1:"+n});case 2:return c=t.sent,t.next=5,c.addNonChatParticipant("+61488844176",n);case 5:return t.next=7,c.add("pBjefCCX5JXw6QbYFu2GR7rmouw1");case 7:e.setactiveConvo({sid:c.sid,name:a});case 8:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),D=function(){var e=Object(re.a)(ce.a.mark((function e(){return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pe();case 2:w(e.sent,function(){var e=Object(re.a)(ce.a.mark((function e(t){var n;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(t.map(function(){var e=Object(re.a)(ce.a.mark((function e(t){var n;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ne.getList("clients",{filter:{phone:t.channelState.friendlyName.split(":")[1]},pagination:{page:1,perPage:1}});case 2:return n=e.sent,e.abrupt("return",{name:n.data[0]?n.data[0].name:t.channelState.friendlyName.split(":")[1],text:n.data[0]?n.data[0].phone:t.channelState.friendlyName.split(":")[1],dateUpdated:t.lastMessage?t.lastMessage.dateCreated:t.dateUpdated,sid:t.sid,unreadCount:t.lastMessage?t.lastMessage.index-t.channelState.lastReadMessageIndex:0});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 2:(n=e.sent).sort((function(e,t){return new Date(t.dateUpdated)-new Date(e.dateUpdated)})),u([].concat(Object(fn.a)(o),Object(fn.a)(n))),b(n);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),P=function(t){e.setactiveConvo(t),c(t),o[o.findIndex((function(e){return e.sid===t.sid}))].unreadCount=0,d[d.findIndex((function(e){return e.sid===t.sid}))].unreadCount=0,u(o),b(d)};return Object(N.jsxs)("div",{className:"conversation-list",children:[Object(N.jsx)(hn,{title:"Messenger",leftItems:[Object(N.jsx)(gn,{icon:"ion-ios-cog"},"cog")],rightItems:[Object(N.jsx)(ue.a,{onClick:function(){return v(!g)},children:Object(N.jsx)(yn.a,{})}),Object(N.jsx)(gn,{icon:"ion-ios-add-circle-outline"},"add")]}),Object(N.jsx)(xn,{searchFilterFunction:function(e){var t=d.filter((function(t){var n,a;try{n=t.name.toUpperCase()}catch(s){n=null}try{a=t.phone}catch(i){a=null}var c="".concat(n," ").concat(a),r=e.toUpperCase();return c.indexOf(r)>-1}));p(e),u(t)},searchText:x}),o.map((function(e){return Object(N.jsx)(mn,{data:e,onClick:P},e.sid)})),Object(N.jsx)(wn,{visible:g,open:v,activeConvos:o,setActiveConvo:e.setactiveConvo,createNewConvo:M})]})}var Mn=n(1041),Dn=n(1043),Pn=n.n(Dn),Tn=(n(1725),n(1042)),In=n.n(Tn),En=function(e){return Object(N.jsx)(a.Fragment,{children:Object(N.jsxs)(be.a,{open:e.open,children:[Object(N.jsx)(Oe.a,{children:"Upload Pictures"}),Object(N.jsx)(fe.a,{children:Object(N.jsx)(In.a,{withIcon:!0,buttonText:"Choose images",onChange:e.onDrop,imgExtension:[".jpg",".jpeg",".png"],withPreview:!0})}),Object(N.jsxs)(xe.a,{children:[Object(N.jsx)(ue.a,{label:"Cancel",onClick:e.onCancel,children:Object(N.jsx)(de.a,{})}),Object(N.jsx)(ue.a,{onClick:function(){e.onPicSend(),e.onCancel()},label:"Send",children:Object(N.jsx)(he.a,{})})]})]})})},Fn=n(1045);function Yn(e){var t=Object(a.useState)(!1),n=Object(i.a)(t,2),c=n[0],r=n[1];return Object(N.jsxs)("div",{className:"compose",children:[Object(N.jsx)(Fn.a,{type:"text",className:"compose-input",placeholder:"Type a message",value:e.value,onChange:function(t){e.onChange(t.target.value)},spellCheck:!0,minRows:"2"}),e.value?Object(N.jsx)(ue.a,{onClick:function(){return e.onSend()},children:Object(N.jsx)(he.a,{})}):Object(N.jsx)(ue.a,{onClick:function(){return r(!c)},children:Object(N.jsx)(Pn.a,{})}),Object(N.jsx)(En,{open:c,onCancel:function(){return r(!c)},onDrop:e.onDrop,onPicSend:e.onPicSend}),e.rightItems]})}var Bn=n(1044),Ln=n.n(Bn);n(1731),n(1732);function An(e){var t=e.data,n=e.isMine,a=e.startsSequence,c=e.endsSequence,r=e.showTimestamp,s=new RegExp("^https://bit.ly/"),i=rn()(t.timestamp).format("LLLL");return Object(N.jsxs)("div",{className:["message","".concat(n?"mine":""),"".concat(a?"start":""),"".concat(c?"end":"")].join(" "),children:[r&&Object(N.jsx)("div",{className:"timestamp",children:i}),Object(N.jsx)("div",{className:"bubble-container",children:Object(N.jsx)("div",{className:"bubble",title:i,children:s.test(t.message)?Object(N.jsx)(Ln.a,{thumbnailWidth:"150px",thumbnailHeight:"150px",images:[{src:t.message}]}):t.message})})]})}var _n=n(628),Un=function(){var e=Object(re.a)(ce.a.mark((function e(t,n){var a,c,r,s;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=function(e){return new Promise((function(t,n){var a=new FileReader;a.onload=function(e){return t(a.result)},a.onerrror=n,a.readAsDataURL(e)}))},e.next=3,a(n);case 3:return c=e.sent,r=JSON.stringify({token:t,image:c.replace("data:","").replace(/^.*;base64,/,"")}),s={method:"post",url:"https://australia-southeast1-admin-a4a00.cloudfunctions.net/adminPicUploader",headers:{Authorization:"Basic ODU2NzZCNUEtOEE5MS00NzYwLUE4MTctODQ2MUIyQ0I3MTI0OjZCQ0FGQUY5LUVFQ0YtNDRBNi04QTBBLTg3RjFDQUYxQTQxNg==","Content-Type":"application/json"},data:r},e.abrupt("return",_n(s).then((function(e){return e.data})).catch((function(e){return e})));case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();n(1733);function Qn(e){var t=Object(a.useState)([]),n=Object(i.a)(t,2),c=n[0],r=n[1],s=Object(a.useState)(null),o=Object(i.a)(s,2),u=o[0],l=o[1],j=Object(a.useState)(null),d=Object(i.a)(j,2),b=d[0],O=d[1],f=Object(a.useRef)(null),x=Object(a.useState)(null),p=Object(i.a)(x,2),m=p[0],h=p[1],g=function(){var e=Object(re.a)(ce.a.mark((function e(){var t,n,a,c,r;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Me();case 2:t=e.sent,n=Object(Mn.a)(m),e.prev=4,n.s();case 6:if((a=n.n()).done){e.next=15;break}return c=a.value,e.next=10,Un(t,c);case 10:return r=e.sent,e.next=13,y(r);case 13:e.next=6;break;case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(4),n.e(e.t0);case 20:return e.prev=20,n.f(),e.finish(20);case 23:case"end":return e.stop()}}),e,null,[[4,17,20,23]])})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){!function(){var e;null===(e=f.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})}()}),[c]);var v=Object(a.useCallback)(Object(re.a)(ce.a.mark((function t(){var n,a,c;return ce.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=[],!e.activeConvo){t.next=12;break}return t.next=4,e.client.getConversationBySid(e.activeConvo.sid);case 4:return 0===(a=t.sent)._events.messageAdded.length&&a.addListener("messageAdded",v),a.channelState.lastMessage&&a.advanceLastReadMessageIndex(a.channelState.lastMessage.index),O(a),t.next=10,a.getMessages();case 10:c=t.sent,n=c.items.map((function(e){return{id:e.state.index,author:e.state.author,message:e.state.body,timestamp:e.state.timestamp}}));case 12:r(n);case 13:case"end":return t.stop()}}),t)}))),[e.activeConvo,e.client]);Object(a.useEffect)((function(){return v(),function(){b&&b.removeListener("messageAdded",v)}}),[b,v,e.activeConvo,e.client]);var y=function(){var e=Object(re.a)(ce.a.mark((function e(t){var n,a;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.sendMessage(t||u);case 2:return e.next=4,b.getMessages();case 4:n=e.sent,a=n.items.map((function(e){return{id:e.state.index,author:e.state.author,message:e.state.body,timestamp:e.state.timestamp}})),l(""),r(a);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(N.jsxs)("div",{className:"message-list",children:[Object(N.jsx)(hn,{title:e.activeConvo?e.activeConvo.name:"Select a conversation",rightItems:[Object(N.jsx)(gn,{icon:"ion-ios-information-circle-outline"},"info"),Object(N.jsx)(gn,{icon:"ion-ios-videocam"},"video"),Object(N.jsx)(gn,{icon:"ion-ios-call"},"phone")]}),Object(N.jsxs)("div",{className:"message-list-container",children:[function(){for(var e=0,t=c.length,n=[];e<t;){var a=c[e-1],r=c[e],s=c[e+1],i="pBjefCCX5JXw6QbYFu2GR7rmouw1"===r.author,o=rn()(r.timestamp),u=!0,l=!0,j=!0;if(a){var d=rn()(a.timestamp),b=rn.a.duration(o.diff(d));a.author===r.author&&b.as("hours")<1&&(u=!1),b.as("hours")<1&&(j=!1)}if(s){var O=rn()(s.timestamp),f=rn.a.duration(O.diff(o));s.author===r.author&&f.as("hours")<1&&(l=!1)}n.push(Object(N.jsx)(An,{isMine:i,startsSequence:u,endsSequence:l,showTimestamp:j,data:r},e)),e+=1}return n}(),Object(N.jsx)("div",{ref:f})]}),Object(N.jsx)(Yn,{value:u,onChange:l,onSend:y,onPicSend:g,onDrop:h,rightItems:[Object(N.jsx)(gn,{icon:"ion-ios-camera"},"photo"),Object(N.jsx)(gn,{icon:"ion-ios-image"},"image"),Object(N.jsx)(gn,{icon:"ion-ios-mic"},"audio"),Object(N.jsx)(gn,{icon:"ion-ios-card"},"money"),Object(N.jsx)(gn,{icon:"ion-logo-game-controller-b"},"games"),Object(N.jsx)(gn,{icon:"ion-ios-happy"},"emoji")]})]})}n(1734);function Rn(e){var t=Object(a.useState)(null),n=Object(i.a)(t,2),c=n[0],r=n[1],s=Object(a.useState)(null),o=Object(i.a)(s,2),u=o[0],l=o[1];return Object(N.jsxs)("div",{className:"messenger",children:[Object(N.jsx)("div",{className:"scrollable sidebar",children:Object(N.jsx)(Sn,{setactiveConvo:r,setClient:l,client:u})}),Object(N.jsx)("div",{className:"scrollable content",children:Object(N.jsx)(Qn,{activeConvo:c,client:u})})]})}var zn=[Object(N.jsx)(Ot.b,{exact:!0,path:"/bookingstoday",component:function(){var e=c.a.useState([]),t=Object(i.a)(e,2),n=t[0],a=t[1];return c.a.useEffect((function(){var e=new Date;Ne.getList("bookings",{pagination:{page:1,perPage:1e6},filter:{start:dn(e,"yyyy-mm-dd")}}).then((function(e){e.data.forEach((function(e){e.date=e.start.substring(0,10)})),a(e.data)}))}),[]),Object(N.jsx)(N.Fragment,{children:Object(N.jsx)(jn,{rows:n,title:"Bookings Today"})})}}),Object(N.jsx)(Ot.b,{exact:!0,path:"/todaydaycare",component:function(){var e=c.a.useState([]),t=Object(i.a)(e,2),n=t[0],a=t[1];return c.a.useEffect((function(){var e=new Date;Ne.getList("bookings",{pagination:{page:1,perPage:1e6},filter:{category:"daycare",start:bn(e,"yyyy-mm-dd")}}).then((function(e){e.data.forEach((function(e){e.date=e.start.substring(0,10)})),a(e.data)}))}),[]),Object(N.jsx)(N.Fragment,{children:Object(N.jsx)(jn,{rows:n,title:"Daycare Today"})})}}),Object(N.jsx)(Ot.b,{exact:!0,path:"/todaygrooming",component:function(){var e=c.a.useState([]),t=Object(i.a)(e,2),n=t[0],a=t[1];return c.a.useEffect((function(){var e=new Date;Ne.getList("bookings",{pagination:{page:1,perPage:1e6},filter:{category:"stylist",start:On(e,"yyyy-mm-dd")}}).then((function(e){e.data.forEach((function(e){e.date=e.start.substring(0,10)})),a(e.data)}))}),[]),Object(N.jsx)(N.Fragment,{children:Object(N.jsx)(jn,{rows:n,title:"Grooming Today"})})}}),Object(N.jsx)(Ot.b,{exact:!0,path:"/grooming",component:function(){var e=c.a.useState([]),t=Object(i.a)(e,2),n=t[0],a=t[1];return c.a.useEffect((function(){Ne.getList("bookings",{pagination:{page:1,perPage:1e6},filter:{category:"stylist"}}).then((function(e){e.data.forEach((function(e){e.date=e.start.substring(0,10)})),a(e.data)}))}),[]),Object(N.jsx)(N.Fragment,{children:Object(N.jsx)(jn,{rows:n,title:"Grooming"})})}}),Object(N.jsx)(Ot.b,{exact:!0,path:"/daycare",component:function(){var e=c.a.useState([]),t=Object(i.a)(e,2),n=t[0],a=t[1];return c.a.useEffect((function(){Ne.getList("bookings",{pagination:{page:1,perPage:1e6},filter:{category:"daycare"}}).then((function(e){e.data.forEach((function(e){e.date=e.start.substring(0,10)})),a(e.data)}))}),[]),Object(N.jsx)(N.Fragment,{children:Object(N.jsx)(jn,{rows:n,title:"Daycare Today"})})}}),Object(N.jsx)(Ot.b,{exact:!0,path:"/bookings",component:function(){var e=c.a.useState([]),t=Object(i.a)(e,2),n=t[0],a=t[1];return c.a.useEffect((function(){Ne.getList("bookings",{pagination:{page:1,perPage:1e6}}).then((function(e){e.data.forEach((function(e){e.date=e.start.substring(0,10)})),a(e.data)}))}),[]),Object(N.jsx)(N.Fragment,{children:Object(N.jsx)(jn,{rows:n,title:"All Bookings"})})}}),Object(N.jsx)(Ot.b,{exact:!0,path:"/messenger",component:function(){return Object(N.jsxs)(H.a,{children:[Object(N.jsx)(ln.b,{title:"Messenger"}),Object(N.jsx)(Rn,{})]})}})],Vn=n(85),Wn=n(183),Gn=n(682),qn=n(580),Jn=n(19),Kn=n(232),Xn=n(194),Hn=n(681),Zn=function(e){var t=e.authProvider,n=e.dataProvider,a=e.history,c=Object(Vn.c)({admin:Kn.a,router:Object(Wn.b)(a)}),r=ce.a.mark((function e(){return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Jn.a)([Object(Hn.a)(n,t)].map(Jn.f));case 2:case"end":return e.stop()}}),e)})),s=Object(qn.a)(),i=Vn.d,o=Object(Vn.e)((function(e,t){return c(t.type!==Xn.g?e:void 0,t)}),{},i(Object(Vn.a)(s,Object(Gn.a)(a))));return s.run(r),o},$n=n(1795),ea=n(308),ta=n(314),na=function(e){return Object(N.jsx)(x.a,Object(O.a)(Object(O.a)({},e),{},{children:Object(N.jsxs)(ea.a,{rowClick:"edit",children:[Object(N.jsx)(m.a,{source:"id"}),Object(N.jsx)(m.a,{source:"description"}),Object(N.jsx)(m.a,{source:"name"}),Object(N.jsx)(ta.a,{source:"amount"}),Object(N.jsx)(h.a,{source:"email"}),Object(N.jsx)(m.a,{source:"system"}),Object(N.jsx)(m.a,{source:"stripe_id"}),Object(N.jsx)(m.a,{source:"status"}),Object(N.jsx)(m.a,{source:"bookings"})]})}))},aa=(n(1735),Object(b.b)()),ca=function(){var e,t=a.useState(!1),n=Object(i.a)(t,2);n[0];return function(e){we.getToken({vapidKey:"BGXh163BEaceHzjq8oIfgZfCnHEze0njY12K3FFlv8N0lLtNYTsKWpE0L7darB0Yiqzt2P_6VCcuHnSvo6beecs"}).then((function(t){t?(console.log("current token for client: ",t),e(!0)):(console.log("No registration token available. Request permission to generate one."),e(!1))})).catch((function(e){console.log("An error occurred while retrieving token. ",e),Ce.NotificationManager.error("Notifications not enabled!","Allow notifications and refresh page",5e5,(function(){alert("callback")}))}))}(n[1]),e=function(e){Ce.NotificationManager.success(e.notification.body,e.notification.title)},we.onMessage((function(t){e(t)})),Object(N.jsx)(d.a,{store:Zn({authProvider:Se,dataProvider:Ne,history:aa}),children:Object(N.jsx)(ot,{children:Object(N.jsxs)($n.a,{utils:Ge.a,children:[Object(N.jsx)(Ce.NotificationContainer,{}),Object(N.jsxs)(o.a,{disableTelemetry:!0,layout:Kt,history:aa,customRoutes:zn,dashboard:We,dataProvider:Ne,authProvider:Se,children:[Object(N.jsx)(u.a,{name:"clients",list:T,icon:ze.a,create:E,to:"/clients",edit:F,options:{label:"Clients"}}),Object(N.jsx)(u.a,{name:"dogs",list:Ae,create:Qe,edit:Ue}),Object(N.jsx)(u.a,{name:"bookings",edit:l.a}),Object(N.jsx)(u.a,{name:"services",list:j.a}),Object(N.jsx)(u.a,{name:"payments",list:na})]})]})})})};s.a.render(Object(N.jsx)(c.a.StrictMode,{children:Object(N.jsx)(ca,{})}),document.getElementById("root"))}},[[1736,1,2]]]);
//# sourceMappingURL=main.f8b95ba0.chunk.js.map