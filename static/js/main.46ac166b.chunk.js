(this.webpackJsonpadmintry=this.webpackJsonpadmintry||[]).push([[0],{1342:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(30),s=n.n(c),o=(n(893),n(86)),i=n(692),l=n(650),j=n(795),u=n(14),d=n(95),b=n(43),O=n(458),x=n(690),f=n(691),h=n(129),m=n(265),g=n(675),p=n(677),v=n(427),y=n(108),w=n(678),k=n(33),C=(n(802),n(3)),S=(Object(k.a)({link:{textDecoration:"none"},icon:{width:"0.5em",paddingLeft:2}}),n(332)),F=n(274),D=n.n(F),T=function(e){return Object(C.jsx)(O.a,Object(b.a)({rowsPerPageOptions:[50,100,200]},e))},I=function(e){var t=Object(S.a)((function(e){return e.breakpoints.down("sm")}));return Object(C.jsx)(x.a,Object(b.a)(Object(b.a)({perPage:50},e),{},{pagination:Object(C.jsx)(T,{}),children:t?Object(C.jsx)(f.a,{primaryText:function(e){return e.name},secondaryText:function(e){return e.email},tertiaryText:function(e){return e.phone}}):Object(C.jsxs)(D.a,{children:[Object(C.jsx)(h.a,{source:"name"}),Object(C.jsx)(m.a,{source:"email"}),Object(C.jsx)(h.a,{source:"phone"}),Object(C.jsx)(h.a,{source:"instagram"}),Object(C.jsx)(g.a,{})]})}))},M=function(e){var t=e.record;return Object(C.jsxs)("span",{children:["Client ",t?'"'.concat(t.name,'"'):""]})},_=function(e){return Object(C.jsx)(p.a,Object(b.a)(Object(b.a)({},e),{},{children:Object(C.jsxs)(v.a,{children:[Object(C.jsx)(y.a,{source:"name",label:"Name"}),Object(C.jsx)(y.a,{source:"phone",label:"Phone"}),Object(C.jsx)(y.a,{source:"email",label:"Email"}),Object(C.jsx)(y.a,{source:"instagram",label:"Instagram"})]})}))},P=function(e){return Object(C.jsx)(w.a,Object(b.a)(Object(b.a)({title:Object(C.jsx)(M,{})},e),{},{children:Object(C.jsxs)(v.a,{children:[Object(C.jsx)(y.a,{source:"name",label:"Name"}),Object(C.jsx)(y.a,{source:"phone",label:"Phone"}),Object(C.jsx)(y.a,{source:"email",label:"Email"}),Object(C.jsx)(y.a,{source:"instagram",label:"Instagram"})]})}))},R=n(195),N=n(687),Y=n(430),z=n(321),V=n(790),A=n(688),B=n(689),E=n(267),L=n(682),W=n(263),K=n(264),G=n(794),q=n(681),H=n(683),Q=n(461),J=n(429),U=n(8),X=n(609),Z=n(610),$=n(607),ee=n.n($),te=n(594),ne=n.n(te),ae=n(94),re=n.n(ae),ce=n(200),se=n(85),oe=n(478),ie=n(569),le=n(51),je=n(419),ue=n(330),de=n.n(ue),be=n(671),Oe=n(672),xe=n(673),fe=n(674),he=n(1345),me=n(127),ge=n.n(me),pe=n(606),ve=n(495),ye=n.n(ve),we=(n(1343),n(282)),ke={apiKey:"AIzaSyAUqOhdFbfRiCRqSzxKpYeTppBGsHfAAug",authDomain:"admin-a4a00.firebaseapp.com",databaseURL:"https://admin-a4a00-default-rtdb.firebaseio.com",projectId:"admin-a4a00",storageBucket:"admin-a4a00.appspot.com",messagingSenderId:"328849622350",appId:"1:328849622350:web:cf2cd21a20f108e7aeca1f",measurementId:"G-YKBC2Q28P1"};ye.a.initializeApp(ke);var Ce=ye.a.messaging(),Se=Object(pe.FirebaseDataProvider)(ke,{}),Fe=Object(pe.FirebaseAuthProvider)(ke),De=function(){var e=Object(ce.a)(re.a.mark((function e(){var t;return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fe.checkAuth();case 2:return t=e.sent,e.abrupt("return",t._lat);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Te=function(){var e=Object(ce.a)(re.a.mark((function e(t){var n;return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Se.getList(t,{pagination:{page:1,perPage:100}});case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ie=n(703),Me=n(712),_e=function(e){var t=e.selectedIds,n=Object(k.a)((function(e){return{root:{"& .MuiTextField-root":{margin:e.spacing(1),width:"25ch"}}}})),r=Object(a.useState)(!1),c=Object(o.a)(r,2),s=c[0],i=c[1],l=Object(se.a)(),j=Object(oe.a)(),u=Object(ie.a)(),d=(u.identity,u.loading,n(),a.useState()),b=Object(o.a)(d,2),O=b[0],x=b[1],f=a.useState(),h=Object(o.a)(f,2),m=h[0],g=h[1],p=Object(a.useState)(!1),v=Object(o.a)(p,2),y=v[0],w=v[1],S=function(){i(!1)},F=function(){var e=Object(ce.a)(re.a.mark((function e(){var n,a;return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return w(!0),e.next=3,De();case 3:n=e.sent,a=Me.stringify([n,t,"dogs",O,m]),Ie({method:"post",url:"https://7a314e3ed3bb.ngrok.io",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:a}).then((function(e){w(!1),i(!1),l("Messages sent"),j("dogs"),x(null),g(null)})).catch((function(e){w(!1),l("Error: Could not reach server","warning")}));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(C.jsxs)(a.Fragment,{children:[Object(C.jsx)(le.a,{label:"Text clients",onClick:function(){return i(!0)}}),Object(C.jsxs)(be.a,{open:s,onClose:S,children:[Object(C.jsx)(Oe.a,{children:"Message Owners"}),Object(C.jsxs)(xe.a,{children:[Object(C.jsx)(he.a,{name:"Topic",fullWidth:!0,placeholder:"Topic",defaultValue:O&&O,onChange:function(e){x(e.target.value)}}),Object(C.jsx)(he.a,{name:"Message",multiline:!0,fullWidth:!0,placeholder:"Message",defaultValue:m&&m,onChange:function(e){g(e.target.value)}})]}),!1===y&&Object(C.jsxs)(fe.a,{children:[Object(C.jsx)(le.a,{label:"Cancel",onClick:S,children:Object(C.jsx)(de.a,{})}),Object(C.jsx)(le.a,{label:"Send",onClick:F,children:Object(C.jsx)(ge.a,{})})]})]}),Object(C.jsx)(je.a,{})]})},Pe=function(e){return Object(C.jsx)(O.a,Object(b.a)({rowsPerPageOptions:[50,100,200]},e))},Re=function(){return Object(C.jsxs)(V.a,{label:"Sex",icon:Object(C.jsx)(ne.a,{}),children:[Object(C.jsx)(A.a,{label:"Male",value:{sex:"M"}}),Object(C.jsx)(A.a,{label:"Female",value:{sex:"F"}}),Object(C.jsx)(A.a,{label:"Desexed",value:{desexed:!0}})]})},Ne=Object(U.a)((function(e){var t;return{root:(t={},Object(R.a)(t,e.breakpoints.up("sm"),{order:-1,width:"15em",marginRight:"1em"}),Object(R.a)(t,e.breakpoints.down("sm"),{display:"none"}),t)}}))(X.a),Ye=function(){return Object(C.jsx)(Ne,{children:Object(C.jsxs)(Z.a,{children:[Object(C.jsx)(B.a,{source:"dog_name"}),Object(C.jsx)(Re,{})]})})},ze=function(e){var t=Object(S.a)((function(e){return e.breakpoints.down("sm")}));return Object(C.jsx)(x.a,Object(b.a)(Object(b.a)({aside:Object(C.jsx)(Ye,{}),perPage:50,pagination:Object(C.jsx)(Pe,{}),bulkActionButtons:Object(C.jsx)(_e,{})},e),{},{children:t?Object(C.jsx)(f.a,{primaryText:function(e){return e.dog_name},secondaryText:function(e){return e.Client}}):Object(C.jsxs)(D.a,{children:[Object(C.jsx)(h.a,{source:"dog_name",label:"Dog Name"}),Object(C.jsx)(E.a,{label:"Client",source:"owner",reference:"clients",children:Object(C.jsx)(h.a,{source:"name"})}),Object(C.jsx)(E.a,{label:"Breed",source:"breed",reference:"dog_breeds",children:Object(C.jsx)(h.a,{source:"name"})}),Object(C.jsx)(L.a,{source:"sex",choices:[{id:"M",name:"Male"},{id:"F",name:"Female"}]}),Object(C.jsx)(W.a,{source:"desexed",label:"Desexed"}),Object(C.jsx)(m.a,{source:"vet_email",label:"Vet Email"}),Object(C.jsx)(h.a,{source:"vet",label:"Vet"}),Object(C.jsx)(K.a,{source:"kc_due",label:"KC Due"}),Object(C.jsx)(K.a,{source:"c3_due",label:"C3 Due"}),Object(C.jsx)(K.a,{source:"c5_due",label:"C5 Due"}),Object(C.jsx)(g.a,{})]})}))},Ve=function(e){var t=e.record;return Object(C.jsxs)("span",{children:["Dog ",t?'"'.concat(t.dog_name,'"'):""]})},Ae=function(e){return Object(C.jsx)(w.a,Object(b.a)(Object(b.a)({title:Object(C.jsx)(Ve,{})},e),{},{children:Object(C.jsxs)(G.a,{children:[Object(C.jsxs)(q.a,{label:"Dog Details",children:[Object(C.jsx)(y.a,{source:"dog_name",label:"Dog Name"}),Object(C.jsx)(Y.a,{filterToQuery:function(e){return{name:e}},source:"owner",reference:"clients",children:Object(C.jsx)(H.a,{optionText:"name"})}),Object(C.jsx)(Y.a,{filterToQuery:function(e){return{name:e}},source:"breed",reference:"dog_breeds",children:Object(C.jsx)(H.a,{optionValue:"id",optionText:"name"})}),Object(C.jsx)(z.a,{source:"sex",choices:[{id:"M",name:"Male"},{id:"F",name:"Female"}],label:"Sex"}),Object(C.jsx)(Q.a,{source:"desexed",options:{checkedIcon:Object(C.jsx)(ee.a,{})}})]}),Object(C.jsxs)(q.a,{label:"Medical Details",children:[Object(C.jsx)(y.a,{source:"vet",label:"Vet"}),Object(C.jsx)(y.a,{source:"vet_email",label:"Vet Email"}),Object(C.jsx)(J.a,{source:"kc_due",label:"KC Due",options:{format:"DD/MM/YYYY"}}),Object(C.jsx)(J.a,{source:"c3_due",label:"C3 Due",options:{format:"DD/MM/YYYY"}}),Object(C.jsx)(J.a,{source:"c5_due",label:"C5 Due",options:{format:"DD/MM/YYYY"}})]})]})}))},Be=function(e){return Object(C.jsx)(p.a,Object(b.a)(Object(b.a)({},e),{},{children:Object(C.jsxs)(G.a,{children:[Object(C.jsxs)(q.a,{label:"Dog Details",children:[Object(C.jsx)(Y.a,{filterToQuery:function(e){return{name:e}},source:"owner",reference:"clients",children:Object(C.jsx)(H.a,{optionText:"name"})}),Object(C.jsx)(y.a,{source:"dog_name",label:"Dog Name"}),Object(C.jsx)(y.a,{source:"breed",label:"Breed"}),Object(C.jsx)(z.a,{source:"sex",choices:[{id:"M",name:"Male"},{id:"F",name:"Female"}],label:"Sex"}),Object(C.jsx)(Q.a,{source:"desexed",options:{checkedIcon:Object(C.jsx)(ee.a,{})}})]}),Object(C.jsxs)(q.a,{label:"Medical Details",children:[Object(C.jsx)(y.a,{source:"vet",label:"Vet"}),Object(C.jsx)(y.a,{source:"vet_email",label:"Vet Email"}),Object(C.jsx)(J.a,{source:"kc_due",label:"KC Due",options:{format:"DD/MM/YYYY"}}),Object(C.jsx)(J.a,{source:"c3_due",label:"C3 Due",options:{format:"DD/MM/YYYY"}}),Object(C.jsx)(J.a,{source:"c5_due",label:"C5 Due",options:{format:"DD/MM/YYYY"}})]})]})}))},Ee=n(496),Le=n.n(Ee),We=n(1399),Ke=function(){return Object(C.jsxs)(X.a,{children:[Object(C.jsx)(We.a,{title:"Welcome to the administration"}),Object(C.jsx)(Z.a,{children:"Lorem ipsum sic dolor amet..."})]})},Ge=n(844),qe=n(596),He=n(437),Qe=n(53),Je=n(845),Ue=n.p+"static/media/notIcon.3ae80bc9.png",Xe=function(e){return Object(C.jsx)(Je.a,{data:[{message:"Kameshwaran S had shared a feedback with you.",detailPage:"/"},{message:Object(C.jsxs)("p",{children:["Kameshwaran S had shared a"," ",Object(C.jsx)("span",{style:{color:"#7ac2fa"},children:"feedback"})," with you."]}),detailPage:"/"}],icon:Ue,cardOption:function(e){return console.log(e)},viewAllbtn:{text:"see all",linkTo:"/seeAll"},markAsRead:function(e){return console.log(e)},headerBackgroundColor:"red",header:{title:"Notifications",option:{text:"View All",onClick:function(){}}}})},Ze=Object(k.a)({title:{flex:1,textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"},spacer:{flex:1}}),$e=function(e){var t=Ze();return Object(C.jsxs)(He.a,Object(b.a)(Object(b.a)({},e),{},{children:[Object(C.jsx)(Qe.a,{variant:"h6",color:"inherit",className:t.title,id:"react-admin-title"}),Object(C.jsx)("span",{className:t.spacer}),Object(C.jsx)(Xe,{})]}))},et=n(104),tt=n(439),nt=n(271),at=n(857),rt=n(506),ct=n(507),st=n(611),ot=n(1400),it=n(499),lt=n.n(it),jt=n(164),ut=n.n(jt),dt=n(595),bt=n.n(dt),Ot=n(329),xt=n.n(Ot),ft=n(846),ht=n.n(ft),mt=n(847),gt=n.n(mt),pt=n(848),vt=n.n(pt),yt=n(331),wt=n.n(yt),kt=n(849),Ct=n.n(kt),St=n(850),Ft=n.n(St),Dt=Object(k.a)((function(e){return{root:{width:"100%",maxWidth:360,backgroundColor:e.palette.background.paper},nested:{paddingLeft:e.spacing(4)}}}));function Tt(e){var t=e.onMenuClick,n=(e.logout,Dt()),r=a.useState(!1),c=Object(o.a)(r,2),s=c[0],i=c[1],l=a.useState(!1),j=Object(o.a)(l,2),d=j[0],b=j[1],O=a.useState(!1),x=Object(o.a)(O,2),f=x[0],h=x[1];Object(u.f)(et.d);return Object(C.jsxs)(at.a,{component:"nav",className:n.root,children:[Object(C.jsx)(tt.a,{onClick:t,sidebarIsOpen:s}),Object(C.jsx)(nt.a,{to:"/clients",primaryText:"Clients",leftIcon:Object(C.jsx)(bt.a,{}),onClick:t,sidebarIsOpen:s},"clients"),Object(C.jsxs)(rt.a,{button:!0,onClick:function(){i(!s)},children:[Object(C.jsx)(ct.a,{children:Object(C.jsx)(Le.a,{})}),Object(C.jsx)(st.a,{primary:"Dogs"}),s?Object(C.jsx)(lt.a,{}):Object(C.jsx)(ut.a,{})]}),Object(C.jsxs)(ot.a,{in:s,timeout:"auto",unmountOnExit:!0,children:[Object(C.jsx)(nt.a,{className:n.nested,disablePadding:!0,to:"/dogs",primaryText:"All Dogs",leftIcon:Object(C.jsx)(xt.a,{}),onClick:t,sidebarIsOpen:s},"dogs"),Object(C.jsx)(nt.a,{className:n.nested,disablePadding:!0,to:"/dog_breeds",primaryText:"Dog breeds",leftIcon:Object(C.jsx)(xt.a,{}),onClick:t,sidebarIsOpen:s},"dog_breeds")]}),Object(C.jsxs)(rt.a,{button:!0,onClick:function(){b(!d)},children:[Object(C.jsx)(ct.a,{children:Object(C.jsx)(ht.a,{})}),Object(C.jsx)(st.a,{primary:"Bookings"}),d?Object(C.jsx)(lt.a,{}):Object(C.jsx)(ut.a,{})]}),Object(C.jsxs)(ot.a,{in:d,timeout:"auto",unmountOnExit:!0,children:[Object(C.jsx)(nt.a,{className:n.nested,disablePadding:!0,to:"/bookings",primaryText:"All Bookings",leftIcon:Object(C.jsx)(gt.a,{}),onClick:t,sidebarIsOpen:s},"bookings"),Object(C.jsx)(nt.a,{className:n.nested,disablePadding:!0,to:"/bookingstoday",primaryText:"Bookings Today",leftIcon:Object(C.jsx)(wt.a,{}),onClick:t,sidebarIsOpen:s},"bookingstoday"),Object(C.jsx)(nt.a,{className:n.nested,disablePadding:!0,to:"/todaydaycare",primaryText:"Today Daycare",leftIcon:Object(C.jsx)(wt.a,{}),onClick:t,sidebarIsOpen:s},"todaydaycare"),Object(C.jsx)(nt.a,{className:n.nested,disablePadding:!0,to:"/todaygrooming",primaryText:"Today Grooming",leftIcon:Object(C.jsx)(wt.a,{}),onClick:t,sidebarIsOpen:s},"todaygrooming"),Object(C.jsx)(nt.a,{className:n.nested,disablePadding:!0,to:"/grooming",primaryText:"Grooming",leftIcon:Object(C.jsx)(wt.a,{}),onClick:t,sidebarIsOpen:s},"grooming"),Object(C.jsx)(nt.a,{className:n.nested,disablePadding:!0,to:"/services",primaryText:"Services",leftIcon:Object(C.jsx)(vt.a,{}),onClick:t,sidebarIsOpen:s},"services")]}),Object(C.jsxs)(rt.a,{button:!0,onClick:function(){h(!f)},children:[Object(C.jsx)(ct.a,{children:Object(C.jsx)(Ct.a,{})}),Object(C.jsx)(st.a,{primary:"Payments"}),f?Object(C.jsx)(lt.a,{}):Object(C.jsx)(ut.a,{})]}),Object(C.jsx)(ot.a,{in:f,timeout:"auto",unmountOnExit:!0,children:Object(C.jsx)(nt.a,{className:n.nested,disablePadding:!0,to:"/payments",primaryText:"All Payments",leftIcon:Object(C.jsx)(Ft.a,{}),onClick:t,sidebarIsOpen:s},"payments")})]})}var It=function(e){return Object(C.jsx)(qe.a,Object(b.a)(Object(b.a)({},e),{},{menu:Tt,appBar:$e}))},Mt=n(684),_t=n(431),Pt=n(452),Rt=n(436),Nt=n(1360),Yt=function(e){var t=e.record[e.source];return"undefined"===typeof t||null===t||0===t.length?Object(C.jsx)("div",{}):Object(C.jsx)(C.Fragment,{children:t.map((function(e){return Object(C.jsx)(Nt.a,{color:"secondary",label:e},e)}))})};Yt.defaultProps={addLabel:!0};var zt=Yt,Vt=n(608),At=n.n(Vt),Bt=n(118),Et=n(36),Lt=function e(t){var n=t.record,a=t.source;if(e.defaultProps={filterBy:n.name},n[a]){var r=Object(Bt.a)("/clients",n[a]);return Object(C.jsx)(Et.a,{to:r,children:n.name})}return Object(C.jsx)("span",{children:n.name})},Wt=function(e){var t=e.record,n=e.source;if(t[n]){var a=Object(Bt.a)("/services",t[n]);return Object(C.jsx)(Et.a,{to:a,children:t.service+" "+t.category})}return Object(C.jsx)("span",{children:t.service+" "+t.category})},Kt=function(e){var t=e.record,n=e.source;if(t[n]){var a=Object(Bt.a)("/dogs",t[n]);return Object(C.jsx)(Et.a,{to:a,children:t.dogName})}if(!t[n])return Object(C.jsx)("span",{children:t.dogName})},Gt=function(e){var t=e.record;return Object(C.jsx)("span",{children:new Date(t.start).toLocaleString().split(",")[1].trim()+" - "+new Date(t.end).toLocaleString().split(",")[1].trim()})},qt=n(147),Ht=n.n(qt),Qt=n(703),Jt=n(712),Ut=function(e){var t=e.selectedIds,n=Object(k.a)((function(e){return{root:{"& .MuiTextField-root":{margin:e.spacing(1),width:"25ch"}}}})),r=Object(a.useState)(!1),c=Object(o.a)(r,2),s=c[0],i=c[1],l=Object(a.useState)(!1),j=Object(o.a)(l,2),u=j[0],d=j[1],b=Object(se.a)(),O=Object(oe.a)(),x=Object(ie.a)(),f=(x.identity,x.loading,n(),a.useState()),h=Object(o.a)(f,2),m=h[0],g=h[1],p=a.useState(),v=Object(o.a)(p,2),y=v[0],w=v[1],S=a.useState(),F=Object(o.a)(S,2),D=F[0],T=F[1],I=Object(a.useState)(!1),M=Object(o.a)(I,2),_=M[0],P=M[1],R=function(){i(!1)},N=function(){d(!1)},Y=function(){var e=Object(ce.a)(re.a.mark((function e(){var n,a;return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return P(!0),e.next=3,De();case 3:n=e.sent,a=Jt.stringify([n,t,"bookings",m,y]),Qt({method:"post",url:"https://7a314e3ed3bb.ngrok.io",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:a}).then((function(e){P(!1),i(!1),b("Messages sent"),O("bookings"),g(null),w(null)})).catch((function(e){P(!1),b("Error: Could not reach server","warning")}));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),z=function(){var e=Object(ce.a)(re.a.mark((function e(){var n,a;return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return P(!0),e.next=3,De();case 3:n=e.sent,a=Jt.stringify([n,t,D]),Qt({method:"post",url:"https://a9548241041d.ngrok.io/talk",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:a}).then((function(e){P(!1),i(!1),b("Messages sent"),O("bookings"),T(null)})).catch((function(e){P(!1),b("Error: Could not reach server","warning")}));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(C.jsxs)(a.Fragment,{children:[1==t.length&&Object(C.jsx)(le.a,{label:"Charge Card",onClick:function(){return d(!0)}}),Object(C.jsx)(le.a,{label:"Text clients",onClick:function(){return i(!0)}}),Object(C.jsxs)(be.a,{open:u,onClose:N,children:[Object(C.jsx)(Oe.a,{children:"Charge Card on File"}),Object(C.jsx)(xe.a,{children:Object(C.jsx)(he.a,{name:"Amount",fullWidth:!0,placeholder:"Amount",defaultValue:D&&D,onChange:function(e){T(e.target.value)}})}),Object(C.jsxs)(fe.a,{children:[Object(C.jsx)(le.a,{label:"Cancel",onClick:N,children:Object(C.jsx)(de.a,{})}),Object(C.jsx)(le.a,{label:"Charge",onClick:z,children:Object(C.jsx)(Ht.a,{})})]})]}),Object(C.jsxs)(be.a,{open:s,onClose:R,children:[Object(C.jsx)(Oe.a,{children:"Message Owners"}),Object(C.jsxs)(xe.a,{children:[Object(C.jsx)(he.a,{name:"Topic",fullWidth:!0,placeholder:"Topic",defaultValue:m&&m,onChange:function(e){g(e.target.value)}}),Object(C.jsx)(he.a,{name:"Message",multiline:!0,fullWidth:!0,placeholder:"Message",defaultValue:y&&y,onChange:function(e){w(e.target.value)}})]}),!1===_&&Object(C.jsxs)(fe.a,{children:[Object(C.jsx)(le.a,{label:"Cancel",onClick:R,children:Object(C.jsx)(de.a,{})}),Object(C.jsx)(le.a,{label:"Send",onClick:Y,children:Object(C.jsx)(ge.a,{})})]})]}),Object(C.jsx)(je.a,{})]})},Xt=function(e){return Object(C.jsx)(O.a,Object(b.a)({rowsPerPageOptions:[50,100,200]},e))},Zt=function(e){return Object(C.jsxs)(N.a,Object(b.a)(Object(b.a)({},e),{},{children:[Object(C.jsx)(J.a,{label:"Booking Date",source:"start",alwaysOn:!0}),Object(C.jsx)(Mt.a,{source:"name",placeholder:"Search client"}),Object(C.jsx)(Mt.a,{source:"dogName",placeholder:"Search dog"}),Object(C.jsx)(_t.a,{label:"Service",source:"service_ref",reference:"services",sort:{field:"name",order:"ASC"},filterToQuery:function(e){return{service:e}},children:Object(C.jsx)(H.a,{optionText:function(e){return e.service+" "+e.category}})}),Object(C.jsx)(Mt.a,{source:"code",placeholder:"Search code"})]}))},$t=Object(U.a)((function(e){var t;return{root:(t={},Object(R.a)(t,e.breakpoints.up("sm"),{order:-1,width:"15em",marginRight:"1em"}),Object(R.a)(t,e.breakpoints.down("sm"),{display:"none"}),t)}}))(X.a),en=function(){return Object(C.jsxs)(V.a,{label:"Category",icon:Object(C.jsx)(At.a,{}),children:[Object(C.jsx)(A.a,{label:"Daycare",value:{category:"daycare"}}),Object(C.jsx)(A.a,{label:"Grooming",value:{category:"stylist"}}),Object(C.jsx)(A.a,{label:"Coiffuriste",value:{category:"coiffuriste"}})]})},tn=function(){return Object(C.jsxs)(V.a,{label:"Status",icon:Object(C.jsx)(At.a,{}),children:[Object(C.jsx)(A.a,{label:"Confirmed",value:{status:"confirmed"}}),Object(C.jsx)(A.a,{label:"Modified",value:{status:"modified"}}),Object(C.jsx)(A.a,{label:"Cancelled",value:{status:"cancelled"}})]})},nn=function(){return Object(C.jsx)($t,{children:Object(C.jsxs)(Z.a,{children:[Object(C.jsx)(en,{}),Object(C.jsx)(tn,{})]})})},an=function(e){var t=Object(S.a)((function(e){return e.breakpoints.down("sm")}));return Object(C.jsx)(x.a,Object(b.a)(Object(b.a)({aside:Object(C.jsx)(nn,{}),bulkActionButtons:Object(C.jsx)(Ut,{}),perPage:50},e),{},{pagination:Object(C.jsx)(Xt,{}),filters:Object(C.jsx)(Zt,{}),children:t?Object(C.jsx)(f.a,{primaryText:function(e){return e.name},secondaryText:function(e){return e.email},tertiaryText:function(e){return e.phone}}):Object(C.jsxs)(D.a,{children:[Object(C.jsx)(Lt,{label:"Client",source:"client_ref",reference:"clients"}),Object(C.jsx)(Kt,{label:"Dog Name",source:"dog_ref",reference:"dogs"}),Object(C.jsx)(Wt,{label:"Service",source:"service_ref",reference:"services"}),Object(C.jsx)(K.a,{label:"Booking Date",source:"start",options:{weekday:"long",year:"numeric",month:"long",day:"numeric"}}),Object(C.jsx)(Gt,{label:"Time"}),Object(C.jsx)(h.a,{source:"status"}),Object(C.jsx)(zt,{source:"addOns",children:Object(C.jsx)(Pt.a,{children:Object(C.jsx)(Rt.a,{source:"id"})})}),Object(C.jsx)(h.a,{source:"comments"}),Object(C.jsx)(K.a,{source:"updated"}),Object(C.jsx)(h.a,{source:"code"}),Object(C.jsx)(g.a,{})]})}))},rn=n(27),cn=n(190),sn=n(191),on=n(194),ln=n(193),jn=n(283),un=n.n(jn),dn=(n(542),n(74)),bn=n(361),On=dn.Data.Selectors,xn=(dn.Filters.NumericFilter,dn.Filters.AutoCompleteFilter),fn=(dn.Filters.MultiSelectFilter,dn.Filters.SingleSelectFilter,[{key:"name",name:"Name",resizable:!0,formatter:function(e){return e.row.client_ref?Object(C.jsx)("a",{href:"#clients/"+e.row.client_ref,children:e.value}):Object(C.jsx)("span",{children:e.value})},filterable:!0},{key:"dogName",name:"Dog",resizable:!0,formatter:function(e){return e.row.dog_ref?Object(C.jsx)("a",{href:"#dogs/"+e.row.dog_ref,children:e.value}):Object(C.jsx)("span",{children:e.value})},filterable:!0},{key:"service",name:"Service",resizable:!0,formatter:function(e){return Object(C.jsxs)("span",{children:[e.value||""," ",e.row.category||""]})},filterable:!0,filterRenderer:xn},{key:"start",name:"Booking Date",resizable:!0,formatter:function(e){var t=bn(e.value,"dddd dd/mm/yyyy");return Object(C.jsx)("span",{children:t})},filterable:!0},{key:"end",name:"Time",resizable:!0,formatter:function(e){return Object(C.jsxs)("span",{children:[bn(e.row.start,"h:mm TT")||"","-",bn(e.value,"h:mm TT")||""]})},filterable:!0},{key:"addOns",name:"AddOns",resizable:!0,formatter:function(e){return 0!==e.value.length?Object(C.jsx)(C.Fragment,{children:e.value.map((function(e){return Object(C.jsx)(Nt.a,{color:"secondary",label:e},e)}))}):Object(C.jsx)("span",{})},filterable:!0},{key:"code",name:"Booking Code",resizable:!0,filterable:!0}]),hn=function(e){Object(on.a)(n,e);var t=Object(ln.a)(n);function n(e){var a;return Object(cn.a)(this,n),(a=t.call(this,e)).onRowsSelected=function(e){a.setState({selectedIndexes:a.state.selectedIndexes.concat(e.map((function(e){return e.rowIdx})))})},a.onRowsDeselected=function(e){var t=e.map((function(e){return e.rowIdx}));a.setState({selectedIndexes:a.state.selectedIndexes.filter((function(e){return-1===t.indexOf(e)}))})},a.handleFilterChange=function(e,t){var n=Object(b.a)({},t);return e.filterTerm?n[e.column.key]=e:delete n[e.column.key],n},a.getValidFilterValues=function(e,t){return e.map((function(e){return e[t]})).filter((function(e,t,n){return t===n.indexOf(e)}))},a.getRows=function(e,t){return On.getRows({rows:e,filters:t})},a.state={rows:[],selectedIndexes:[],filters:{}},a}return Object(sn.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=new Date;Se.getList("bookings",{filter:{start:bn(t,"yyyy-mm-dd")},pagination:{page:1,perPage:1e5}}).then((function(t){var n=t.data;e.setState({rows:n})})).catch((function(e){}))}},{key:"render",value:function(){var e=this,t=this.getRows(this.state.rows,this.state.filters);return Object(C.jsx)("div",{style:{height:"94%"},children:Object(C.jsx)(un.a,{columns:fn,rowGetter:function(e){return t[e]},rowsCount:t.length,onColumnResize:function(e,t){return console.log("Column ".concat(e," has been resized to ").concat(t))},rowSelection:{showCheckbox:!0,enableShiftSelect:!0,onRowsSelected:this.onRowsSelected,onRowsDeselected:this.onRowsDeselected,selectBy:{indexes:this.state.selectedIndexes}},toolbar:Object(C.jsxs)(dn.Toolbar,{enableFilter:!0,children:[1===this.state.selectedIndexes.length&&Object(C.jsx)(le.a,{label:"Charge card",children:Object(C.jsx)(Ht.a,{})}),0!==this.state.selectedIndexes.length&&Object(C.jsx)(le.a,{label:"Message Owners",children:Object(C.jsx)(ge.a,{})})," "]}),onAddFilter:function(t){return e.setState({filters:e.handleFilterChange(t)})},onClearFilters:function(){return e.setState({filters:{}})},getValidFilterValues:function(t){return e.getValidFilterValues(e.state.rows,t)}})})}}]),n}(r.a.Component),mn=n(361),gn=dn.Data.Selectors,pn=(dn.Filters.NumericFilter,dn.Filters.AutoCompleteFilter),vn=(dn.Filters.MultiSelectFilter,dn.Filters.SingleSelectFilter,[{key:"name",name:"Name",resizable:!0,formatter:function(e){return e.row.client_ref?Object(C.jsx)("a",{href:"#clients/"+e.row.client_ref,children:e.value}):Object(C.jsx)("span",{children:e.value})},filterable:!0},{key:"dogName",name:"Dog",resizable:!0,formatter:function(e){return e.row.dog_ref?Object(C.jsx)("a",{href:"#dogs/"+e.row.dog_ref,children:e.value}):Object(C.jsx)("span",{children:e.value})},filterable:!0},{key:"service",name:"Service",resizable:!0,formatter:function(e){return Object(C.jsxs)("span",{children:[e.value||""," ",e.row.category||""]})},filterable:!0,filterRenderer:pn},{key:"start",name:"Booking Date",resizable:!0,formatter:function(e){var t=mn(e.value,"dddd dd/mm/yyyy");return Object(C.jsx)("span",{children:t})},filterable:!0},{key:"end",name:"Time",resizable:!0,formatter:function(e){return Object(C.jsxs)("span",{children:[mn(e.row.start,"h:mm TT")||"","-",mn(e.value,"h:mm TT")||""]})},filterable:!0},{key:"addOns",name:"AddOns",resizable:!0,formatter:function(e){return 0!==e.value.length?Object(C.jsx)(C.Fragment,{children:e.value.map((function(e){return Object(C.jsx)(Nt.a,{color:"secondary",label:e},e)}))}):Object(C.jsx)("span",{})},filterable:!0},{key:"code",name:"Booking Code",resizable:!0,filterable:!0}]),yn=function(e){Object(on.a)(n,e);var t=Object(ln.a)(n);function n(e){var a;return Object(cn.a)(this,n),(a=t.call(this,e)).onRowsSelected=function(e){a.setState({selectedIndexes:a.state.selectedIndexes.concat(e.map((function(e){return e.rowIdx})))})},a.onRowsDeselected=function(e){var t=e.map((function(e){return e.rowIdx}));a.setState({selectedIndexes:a.state.selectedIndexes.filter((function(e){return-1===t.indexOf(e)}))})},a.handleFilterChange=function(e,t){var n=Object(b.a)({},t);return e.filterTerm?n[e.column.key]=e:delete n[e.column.key],n},a.getValidFilterValues=function(e,t){return e.map((function(e){return e[t]})).filter((function(e,t,n){return t===n.indexOf(e)}))},a.getRows=function(e,t){return gn.getRows({rows:e,filters:t})},a.state={rows:[],selectedIndexes:[],filters:{}},a}return Object(sn.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=new Date;Se.getList("bookings",{filter:{start:mn(t,"yyyy-mm-dd"),category:"daycare"},pagination:{page:1,perPage:1e5}}).then((function(t){var n=t.data;e.setState({rows:n})})).catch((function(e){}))}},{key:"render",value:function(){var e=this,t=this.getRows(this.state.rows,this.state.filters);return Object(C.jsx)("div",{style:{height:"94%"},children:Object(C.jsx)(un.a,{columns:vn,rowGetter:function(e){return t[e]},rowsCount:t.length,onColumnResize:function(e,t){return console.log("Column ".concat(e," has been resized to ").concat(t))},rowSelection:{showCheckbox:!0,enableShiftSelect:!0,onRowsSelected:this.onRowsSelected,onRowsDeselected:this.onRowsDeselected,selectBy:{indexes:this.state.selectedIndexes}},toolbar:Object(C.jsxs)(dn.Toolbar,{enableFilter:!0,children:[1===this.state.selectedIndexes.length&&Object(C.jsx)(le.a,{label:"Charge card",children:Object(C.jsx)(Ht.a,{})}),0!==this.state.selectedIndexes.length&&Object(C.jsx)(le.a,{label:"Message Owners",children:Object(C.jsx)(ge.a,{})})," "]}),onAddFilter:function(t){return e.setState({filters:e.handleFilterChange(t)})},onClearFilters:function(){return e.setState({filters:{}})},getValidFilterValues:function(t){return e.getValidFilterValues(e.state.rows,t)}})})}}]),n}(r.a.Component),wn=n(361),kn=dn.Data.Selectors,Cn=(dn.Filters.NumericFilter,dn.Filters.AutoCompleteFilter),Sn=(dn.Filters.MultiSelectFilter,dn.Filters.SingleSelectFilter,[{key:"name",name:"Name",resizable:!0,formatter:function(e){return e.row.client_ref?Object(C.jsx)("a",{href:"#clients/"+e.row.client_ref,children:e.value}):Object(C.jsx)("span",{children:e.value})},filterable:!0},{key:"dogName",name:"Dog",resizable:!0,formatter:function(e){return e.row.dog_ref?Object(C.jsx)("a",{href:"#dogs/"+e.row.dog_ref,children:e.value}):Object(C.jsx)("span",{children:e.value})},filterable:!0},{key:"service",name:"Service",resizable:!0,formatter:function(e){return Object(C.jsxs)("span",{children:[e.value||""," ",e.row.category||""]})},filterable:!0,filterRenderer:Cn},{key:"start",name:"Booking Date",resizable:!0,formatter:function(e){var t=wn(e.value,"dddd dd/mm/yyyy");return Object(C.jsx)("span",{children:t})},filterable:!0},{key:"end",name:"Time",resizable:!0,formatter:function(e){return Object(C.jsxs)("span",{children:[wn(e.row.start,"h:mm TT")||"","-",wn(e.value,"h:mm TT")||""]})},filterable:!0},{key:"addOns",name:"AddOns",resizable:!0,formatter:function(e){return 0!==e.value.length?Object(C.jsx)(C.Fragment,{children:e.value.map((function(e){return Object(C.jsx)(Nt.a,{color:"secondary",label:e},e)}))}):Object(C.jsx)("span",{})},filterable:!0},{key:"code",name:"Booking Code",resizable:!0,filterable:!0}]),Fn=function(e){Object(on.a)(n,e);var t=Object(ln.a)(n);function n(e){var a;return Object(cn.a)(this,n),(a=t.call(this,e)).onRowsSelected=function(e){a.setState({selectedIndexes:a.state.selectedIndexes.concat(e.map((function(e){return e.rowIdx})))})},a.onRowsDeselected=function(e){var t=e.map((function(e){return e.rowIdx}));a.setState({selectedIndexes:a.state.selectedIndexes.filter((function(e){return-1===t.indexOf(e)}))})},a.handleFilterChange=function(e,t){var n=Object(b.a)({},t);return e.filterTerm?n[e.column.key]=e:delete n[e.column.key],n},a.getValidFilterValues=function(e,t){return e.map((function(e){return e[t]})).filter((function(e,t,n){return t===n.indexOf(e)}))},a.getRows=function(e,t){return kn.getRows({rows:e,filters:t})},a.state={rows:[],selectedIndexes:[],filters:{}},a}return Object(sn.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=new Date;Se.getList("bookings",{filter:{start:wn(t,"yyyy-mm-dd"),category:"stylist"},pagination:{page:1,perPage:1e5}}).then((function(t){var n=t.data;e.setState({rows:n})})).catch((function(e){}))}},{key:"render",value:function(){var e=this,t=this.getRows(this.state.rows,this.state.filters);return Object(C.jsx)("div",{style:{height:"94%"},children:Object(C.jsx)(un.a,{columns:Sn,rowGetter:function(e){return t[e]},rowsCount:t.length,onColumnResize:function(e,t){return console.log("Column ".concat(e," has been resized to ").concat(t))},rowSelection:{showCheckbox:!0,enableShiftSelect:!0,onRowsSelected:this.onRowsSelected,onRowsDeselected:this.onRowsDeselected,selectBy:{indexes:this.state.selectedIndexes}},toolbar:Object(C.jsxs)(dn.Toolbar,{enableFilter:!0,children:[1===this.state.selectedIndexes.length&&Object(C.jsx)(le.a,{label:"Charge card",children:Object(C.jsx)(Ht.a,{})}),0!==this.state.selectedIndexes.length&&Object(C.jsx)(le.a,{label:"Message Owners",children:Object(C.jsx)(ge.a,{})})," "]}),onAddFilter:function(t){return e.setState({filters:e.handleFilterChange(t)})},onClearFilters:function(){return e.setState({filters:{}})},getValidFilterValues:function(t){return e.getValidFilterValues(e.state.rows,t)}})})}}]),n}(r.a.Component),Dn=n(851),Tn=n.n(Dn),In=(n(1323),n(1324),n(852)),Mn=n.n(In),_n=(n(370),n(122)),Pn=n.n(_n);window.moment=Pn.a;n(361);var Rn=[{name:"name",header:"Name",defaultWidth:200,render:function(e){var t=e.value,n=e.data;return n.client_ref?Object(C.jsx)("a",{href:"#clients/"+n.client_ref,children:t}):Object(C.jsx)("span",{children:t})}},{name:"dogName",header:"Dog",defaultWidth:150,render:function(e){var t=e.value,n=e.data;return n.dog_ref?Object(C.jsx)("a",{href:"#dogs/"+n.dog_ref,children:t}):Object(C.jsx)("span",{children:t})}},{name:"service",header:"Service",defaultWidth:250,render:function(e){var t=e.value,n=e.data;return Object(C.jsxs)("span",{children:[t||""," ",n.category||""]})}},{name:"start",header:"Start",defaultWidth:250,filterEditor:Mn.a,filterEditorProps:function(e,t){return{dateFormat:"ddd DD/MM/YYYY",placeholder:1===t.index?"Bookings date is before...":"Booking date is on..."}},render:function(e){var t=e.value;e.cellProps.dateFormat;return Pn()(t).format("ddd DD/MM/YYYY")}},{name:"addOns",header:"AddOns",defaultWidth:250,render:function(e){var t=e.value;return 0!==t.length?Object(C.jsx)(C.Fragment,{children:t.map((function(e){return Object(C.jsx)(Nt.a,{color:"secondary",label:e},e)}))}):Object(C.jsx)("span",{})}}],Nn={minHeight:550},Yn=[{name:"start",operator:"eq",type:"date",value:""}],zn=function(e){Object(on.a)(n,e);var t=Object(ln.a)(n);function n(e){var a;return Object(cn.a)(this,n),(a=t.call(this,e)).state={rows:[],selected:{}},a}return Object(sn.a)(n,[{key:"componentDidMount",value:function(){var e=this;Te("bookings").then((function(t){var n=t.data;e.setState({rows:n})})).catch((function(e){}))}},{key:"render",value:function(){var e=this;return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsxs)("div",{children:[1===Object.keys(this.state.selected).length&&Object(C.jsx)(le.a,{label:"Charge card",children:Object(C.jsx)(Ht.a,{})}),0!==Object.keys(this.state.selected).length&&Object(C.jsx)(le.a,{label:"Message Owners",children:Object(C.jsx)(ge.a,{})})]}),Object(C.jsx)(Tn.a,{idProperty:"id",columns:Rn,dataSource:this.state.rows,style:Nn,defaultFilterValue:Yn,onSelectionChange:function(t){return e.setState({selected:t.selected})},multiSelect:!0,checkboxColumn:!0,enableFiltering:!0})]})}}]),n}(r.a.Component),Vn=[Object(C.jsx)(rn.b,{exact:!0,path:"/bookingstoday",component:hn}),Object(C.jsx)(rn.b,{exact:!0,path:"/todaydaycare",component:yn}),Object(C.jsx)(rn.b,{exact:!0,path:"/todaygrooming",component:Fn}),Object(C.jsx)(rn.b,{exact:!0,path:"/grooming",component:zn})],An=n(72),Bn=n(156),En=n(565),Ln=n(497),Wn=n(18),Kn=n(192),Gn=n(166),qn=n(564),Hn=function(e){var t=e.authProvider,n=e.dataProvider,a=e.history,r=Object(An.c)({admin:Kn.a,router:Object(Bn.b)(a)}),c=re.a.mark((function e(){return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Wn.a)([Object(qn.a)(n,t)].map(Wn.f));case 2:case"end":return e.stop()}}),e)})),s=Object(Ln.a)(),o=An.d,i=Object(An.e)((function(e,t){return r(t.type!==Gn.g?e:void 0,t)}),{},o(Object(An.a)(s,Object(En.a)(a))));return s.run(c),i},Qn=n(1401),Jn=n(260),Un=n(266),Xn=function(e){return Object(C.jsx)(x.a,Object(b.a)(Object(b.a)({},e),{},{children:Object(C.jsxs)(Jn.a,{rowClick:"edit",children:[Object(C.jsx)(h.a,{source:"id"}),Object(C.jsx)(h.a,{source:"description"}),Object(C.jsx)(h.a,{source:"name"}),Object(C.jsx)(Un.a,{source:"amount"}),Object(C.jsx)(m.a,{source:"email"}),Object(C.jsx)(h.a,{source:"system"}),Object(C.jsx)(h.a,{source:"stripe_id"}),Object(C.jsx)(h.a,{source:"status"}),Object(C.jsx)(h.a,{source:"bookings"})]})}))},Zn=(n(1341),Object(d.b)()),$n=function(){var e,t=a.useState(!1),n=Object(o.a)(t,2);n[0];return function(e){Ce.getToken({vapidKey:"BGXh163BEaceHzjq8oIfgZfCnHEze0njY12K3FFlv8N0lLtNYTsKWpE0L7darB0Yiqzt2P_6VCcuHnSvo6beecs"}).then((function(t){t?(console.log("current token for client: ",t),e(!0)):(console.log("No registration token available. Request permission to generate one."),e(!1))})).catch((function(e){console.log("An error occurred while retrieving token. ",e),we.NotificationManager.error("Notifications not enabled!","Allow notifications and refresh page",5e5,(function(){alert("callback")}))}))}(n[1]),e=function(e){we.NotificationManager.success(e.notification.body,e.notification.title)},Ce.onMessage((function(t){e(t)})),Object(C.jsx)(u.a,{store:Hn({authProvider:Fe,dataProvider:Se,history:Zn}),children:Object(C.jsxs)(Qn.a,{utils:Ge.a,children:[Object(C.jsx)(we.NotificationContainer,{}),Object(C.jsxs)(i.a,{disableTelemetry:!0,layout:It,history:Zn,customRoutes:Vn,dashboard:Ke,dataProvider:Se,authProvider:Fe,children:[Object(C.jsx)(l.a,{name:"clients",list:I,icon:Le.a,create:_,to:"/clients",edit:P,options:{label:"Clients"}}),Object(C.jsx)(l.a,{name:"dogs",list:ze,create:Be,edit:Ae}),Object(C.jsx)(l.a,{name:"dog_breeds",list:j.a}),Object(C.jsx)(l.a,{name:"bookings",list:an}),Object(C.jsx)(l.a,{name:"services",list:j.a}),Object(C.jsx)(l.a,{name:"payments",list:Xn})]})]})})},ea=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,1403)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),a(e),r(e),c(e),s(e)}))};s.a.render(Object(C.jsx)(r.a.StrictMode,{children:Object(C.jsx)($n,{})}),document.getElementById("root")),ea()},542:function(e,t,n){},893:function(e,t,n){}},[[1342,1,2]]]);
//# sourceMappingURL=main.46ac166b.chunk.js.map